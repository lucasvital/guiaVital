function fI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function nv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Og={exports:{}},mu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yb;function hI(){if(Yb)return mu;Yb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:o}}return mu.Fragment=e,mu.jsx=n,mu.jsxs=n,mu}var Kb;function mI(){return Kb||(Kb=1,Og.exports=hI()),Og.exports}var _=mI(),kg={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qb;function pI(){if(Qb)return ze;Qb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function E(F){return F===null||typeof F!="object"?null:(F=v&&F[v]||F["@@iterator"],typeof F=="function"?F:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function R(F,ee,he){this.props=F,this.context=ee,this.refs=C,this.updater=he||x}R.prototype.isReactComponent={},R.prototype.setState=function(F,ee){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ee,"setState")},R.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function O(){}O.prototype=R.prototype;function D(F,ee,he){this.props=F,this.context=ee,this.refs=C,this.updater=he||x}var U=D.prototype=new O;U.constructor=D,A(U,R.prototype),U.isPureReactComponent=!0;var H=Array.isArray,W={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function k(F,ee,he,fe,de,Re){return he=Re.ref,{$$typeof:t,type:F,key:ee,ref:he!==void 0?he:null,props:Re}}function N(F,ee){return k(F.type,ee,void 0,void 0,void 0,F.props)}function I(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function V(F){var ee={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(he){return ee[he]})}var z=/\/+/g;function B(F,ee){return typeof F=="object"&&F!==null&&F.key!=null?V(""+F.key):ee.toString(36)}function L(){}function ye(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(L,L):(F.status="pending",F.then(function(ee){F.status==="pending"&&(F.status="fulfilled",F.value=ee)},function(ee){F.status==="pending"&&(F.status="rejected",F.reason=ee)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function xe(F,ee,he,fe,de){var Re=typeof F;(Re==="undefined"||Re==="boolean")&&(F=null);var Te=!1;if(F===null)Te=!0;else switch(Re){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(F.$$typeof){case t:case e:Te=!0;break;case y:return Te=F._init,xe(Te(F._payload),ee,he,fe,de)}}if(Te)return de=de(F),Te=fe===""?"."+B(F,0):fe,H(de)?(he="",Te!=null&&(he=Te.replace(z,"$&/")+"/"),xe(de,ee,he,"",function(De){return De})):de!=null&&(I(de)&&(de=N(de,he+(de.key==null||F&&F.key===de.key?"":(""+de.key).replace(z,"$&/")+"/")+Te)),ee.push(de)),1;Te=0;var me=fe===""?".":fe+":";if(H(F))for(var _e=0;_e<F.length;_e++)fe=F[_e],Re=me+B(fe,_e),Te+=xe(fe,ee,he,Re,de);else if(_e=E(F),typeof _e=="function")for(F=_e.call(F),_e=0;!(fe=F.next()).done;)fe=fe.value,Re=me+B(fe,_e++),Te+=xe(fe,ee,he,Re,de);else if(Re==="object"){if(typeof F.then=="function")return xe(ye(F),ee,he,fe,de);throw ee=String(F),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Te}function J(F,ee,he){if(F==null)return F;var fe=[],de=0;return xe(F,fe,"","",function(Re){return ee.call(he,Re,de++)}),fe}function ce(F){if(F._status===-1){var ee=F._result;ee=ee(),ee.then(function(he){(F._status===0||F._status===-1)&&(F._status=1,F._result=he)},function(he){(F._status===0||F._status===-1)&&(F._status=2,F._result=he)}),F._status===-1&&(F._status=0,F._result=ee)}if(F._status===1)return F._result.default;throw F._result}var ie=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function ae(){}return ze.Children={map:J,forEach:function(F,ee,he){J(F,function(){ee.apply(this,arguments)},he)},count:function(F){var ee=0;return J(F,function(){ee++}),ee},toArray:function(F){return J(F,function(ee){return ee})||[]},only:function(F){if(!I(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},ze.Component=R,ze.Fragment=n,ze.Profiler=a,ze.PureComponent=D,ze.StrictMode=r,ze.Suspense=h,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,ze.act=function(){throw Error("act(...) is not supported in production builds of React.")},ze.cache=function(F){return function(){return F.apply(null,arguments)}},ze.cloneElement=function(F,ee,he){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var fe=A({},F.props),de=F.key,Re=void 0;if(ee!=null)for(Te in ee.ref!==void 0&&(Re=void 0),ee.key!==void 0&&(de=""+ee.key),ee)!Z.call(ee,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&ee.ref===void 0||(fe[Te]=ee[Te]);var Te=arguments.length-2;if(Te===1)fe.children=he;else if(1<Te){for(var me=Array(Te),_e=0;_e<Te;_e++)me[_e]=arguments[_e+2];fe.children=me}return k(F.type,de,void 0,void 0,Re,fe)},ze.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:o,_context:F},F},ze.createElement=function(F,ee,he){var fe,de={},Re=null;if(ee!=null)for(fe in ee.key!==void 0&&(Re=""+ee.key),ee)Z.call(ee,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(de[fe]=ee[fe]);var Te=arguments.length-2;if(Te===1)de.children=he;else if(1<Te){for(var me=Array(Te),_e=0;_e<Te;_e++)me[_e]=arguments[_e+2];de.children=me}if(F&&F.defaultProps)for(fe in Te=F.defaultProps,Te)de[fe]===void 0&&(de[fe]=Te[fe]);return k(F,Re,void 0,void 0,null,de)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(F){return{$$typeof:d,render:F}},ze.isValidElement=I,ze.lazy=function(F){return{$$typeof:y,_payload:{_status:-1,_result:F},_init:ce}},ze.memo=function(F,ee){return{$$typeof:p,type:F,compare:ee===void 0?null:ee}},ze.startTransition=function(F){var ee=W.T,he={};W.T=he;try{var fe=F(),de=W.S;de!==null&&de(he,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ae,ie)}catch(Re){ie(Re)}finally{W.T=ee}},ze.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},ze.use=function(F){return W.H.use(F)},ze.useActionState=function(F,ee,he){return W.H.useActionState(F,ee,he)},ze.useCallback=function(F,ee){return W.H.useCallback(F,ee)},ze.useContext=function(F){return W.H.useContext(F)},ze.useDebugValue=function(){},ze.useDeferredValue=function(F,ee){return W.H.useDeferredValue(F,ee)},ze.useEffect=function(F,ee){return W.H.useEffect(F,ee)},ze.useId=function(){return W.H.useId()},ze.useImperativeHandle=function(F,ee,he){return W.H.useImperativeHandle(F,ee,he)},ze.useInsertionEffect=function(F,ee){return W.H.useInsertionEffect(F,ee)},ze.useLayoutEffect=function(F,ee){return W.H.useLayoutEffect(F,ee)},ze.useMemo=function(F,ee){return W.H.useMemo(F,ee)},ze.useOptimistic=function(F,ee){return W.H.useOptimistic(F,ee)},ze.useReducer=function(F,ee,he){return W.H.useReducer(F,ee,he)},ze.useRef=function(F){return W.H.useRef(F)},ze.useState=function(F){return W.H.useState(F)},ze.useSyncExternalStore=function(F,ee,he){return W.H.useSyncExternalStore(F,ee,he)},ze.useTransition=function(){return W.H.useTransition()},ze.version="19.0.0",ze}var Xb;function rv(){return Xb||(Xb=1,kg.exports=pI()),kg.exports}var b=rv();const pe=nv(b),gI=fI({__proto__:null,default:pe},[b]);var Pg={exports:{}},pu={},Vg={exports:{}},Lg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zb;function yI(){return Zb||(Zb=1,function(t){function e(J,ce){var ie=J.length;J.push(ce);e:for(;0<ie;){var ae=ie-1>>>1,F=J[ae];if(0<a(F,ce))J[ae]=ce,J[ie]=F,ie=ae;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ce=J[0],ie=J.pop();if(ie!==ce){J[0]=ie;e:for(var ae=0,F=J.length,ee=F>>>1;ae<ee;){var he=2*(ae+1)-1,fe=J[he],de=he+1,Re=J[de];if(0>a(fe,ie))de<F&&0>a(Re,fe)?(J[ae]=Re,J[de]=ie,ae=de):(J[ae]=fe,J[he]=ie,ae=he);else if(de<F&&0>a(Re,ie))J[ae]=Re,J[de]=ie,ae=de;else break e}}return ce}function a(J,ce){var ie=J.sortIndex-ce.sortIndex;return ie!==0?ie:J.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],p=[],y=1,v=null,E=3,x=!1,A=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function U(J){for(var ce=n(p);ce!==null;){if(ce.callback===null)r(p);else if(ce.startTime<=J)r(p),ce.sortIndex=ce.expirationTime,e(h,ce);else break;ce=n(p)}}function H(J){if(C=!1,U(J),!A)if(n(h)!==null)A=!0,ye();else{var ce=n(p);ce!==null&&xe(H,ce.startTime-J)}}var W=!1,Z=-1,k=5,N=-1;function I(){return!(t.unstable_now()-N<k)}function V(){if(W){var J=t.unstable_now();N=J;var ce=!0;try{e:{A=!1,C&&(C=!1,O(Z),Z=-1),x=!0;var ie=E;try{t:{for(U(J),v=n(h);v!==null&&!(v.expirationTime>J&&I());){var ae=v.callback;if(typeof ae=="function"){v.callback=null,E=v.priorityLevel;var F=ae(v.expirationTime<=J);if(J=t.unstable_now(),typeof F=="function"){v.callback=F,U(J),ce=!0;break t}v===n(h)&&r(h),U(J)}else r(h);v=n(h)}if(v!==null)ce=!0;else{var ee=n(p);ee!==null&&xe(H,ee.startTime-J),ce=!1}}break e}finally{v=null,E=ie,x=!1}ce=void 0}}finally{ce?z():W=!1}}}var z;if(typeof D=="function")z=function(){D(V)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,L=B.port2;B.port1.onmessage=V,z=function(){L.postMessage(null)}}else z=function(){R(V,0)};function ye(){W||(W=!0,z())}function xe(J,ce){Z=R(function(){J(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){A||x||(A=!0,ye())},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(J){switch(E){case 1:case 2:case 3:var ce=3;break;default:ce=E}var ie=E;E=ce;try{return J()}finally{E=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,ce){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ie=E;E=J;try{return ce()}finally{E=ie}},t.unstable_scheduleCallback=function(J,ce,ie){var ae=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ae+ie:ae):ie=ae,J){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ie+F,J={id:y++,callback:ce,priorityLevel:J,startTime:ie,expirationTime:F,sortIndex:-1},ie>ae?(J.sortIndex=ie,e(p,J),n(h)===null&&J===n(p)&&(C?(O(Z),Z=-1):C=!0,xe(H,ie-ae))):(J.sortIndex=F,e(h,J),A||x||(A=!0,ye())),J},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(J){var ce=E;return function(){var ie=E;E=ce;try{return J.apply(this,arguments)}finally{E=ie}}}}(Lg)),Lg}var Jb;function vI(){return Jb||(Jb=1,Vg.exports=yI()),Vg.exports}var jg={exports:{}},Tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eE;function _I(){if(eE)return Tn;eE=1;var t=rv();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:h,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tn.createPortal=function(h,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(h,p,null,y)},Tn.flushSync=function(h){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=p,r.p=y,r.d.f()}},Tn.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(h,p))},Tn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Tn.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var y=p.as,v=d(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:x}):y==="script"&&r.d.X(h,{crossOrigin:v,integrity:E,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Tn.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);r.d.M(h,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(h)},Tn.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=d(y,p.crossOrigin);r.d.L(h,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Tn.preloadModule=function(h,p){if(typeof h=="string")if(p){var y=d(p.as,p.crossOrigin);r.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(h)},Tn.requestFormReset=function(h){r.d.r(h)},Tn.unstable_batchedUpdates=function(h,p){return h(p)},Tn.useFormState=function(h,p,y){return c.H.useFormState(h,p,y)},Tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tn.version="19.0.0",Tn}var tE;function wS(){if(tE)return jg.exports;tE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jg.exports=_I(),jg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE;function wI(){if(nE)return pu;nE=1;var t=vI(),e=rv(),n=wS();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var o=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),x=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),H=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function Z(i){return i===null||typeof i!="object"?null:(i=W&&i[W]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function N(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case h:return"Fragment";case d:return"Portal";case y:return"Profiler";case p:return"StrictMode";case C:return"Suspense";case R:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case x:return(i.displayName||"Context")+".Provider";case E:return(i._context.displayName||"Context")+".Consumer";case A:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return s=i.displayName||null,s!==null?s:N(i.type)||"Memo";case D:s=i._payload,i=i._init;try{return N(i(s))}catch{}}return null}var I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=Object.assign,z,B;function L(i){if(z===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);z=s&&s[1]||"",B=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+z+i+B}var ye=!1;function xe(i,s){if(!i||ye)return"";ye=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(te){var Q=te}Reflect.construct(i,[],le)}else{try{le.call()}catch(te){Q=te}i.call(le.prototype)}}else{try{throw Error()}catch(te){Q=te}(le=i())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(te){if(te&&Q&&typeof te.stack=="string")return[te.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),S=g[0],M=g[1];if(S&&M){var j=S.split(`
`),G=M.split(`
`);for(m=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;if(u===j.length||m===G.length)for(u=j.length-1,m=G.length-1;1<=u&&0<=m&&j[u]!==G[m];)m--;for(;1<=u&&0<=m;u--,m--)if(j[u]!==G[m]){if(u!==1||m!==1)do if(u--,m--,0>m||j[u]!==G[m]){var ne=`
`+j[u].replace(" at new "," at ");return i.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",i.displayName)),ne}while(1<=u&&0<=m);break}}}finally{ye=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?L(l):""}function J(i){switch(i.tag){case 26:case 27:case 5:return L(i.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 15:return i=xe(i.type,!1),i;case 11:return i=xe(i.type.render,!1),i;case 1:return i=xe(i.type,!0),i;default:return""}}function ce(i){try{var s="";do s+=J(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function ie(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function ae(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function F(i){if(ie(i)!==i)throw Error(r(188))}function ee(i){var s=i.alternate;if(!s){if(s=ie(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,u=s;;){var m=l.return;if(m===null)break;var g=m.alternate;if(g===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===l)return F(m),i;if(g===u)return F(m),s;g=g.sibling}throw Error(r(188))}if(l.return!==u.return)l=m,u=g;else{for(var S=!1,M=m.child;M;){if(M===l){S=!0,l=m,u=g;break}if(M===u){S=!0,u=m,l=g;break}M=M.sibling}if(!S){for(M=g.child;M;){if(M===l){S=!0,l=g,u=m;break}if(M===u){S=!0,u=g,l=m;break}M=M.sibling}if(!S)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function he(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=he(i),s!==null)return s;i=i.sibling}return null}var fe=Array.isArray,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re={pending:!1,data:null,method:null,action:null},Te=[],me=-1;function _e(i){return{current:i}}function De(i){0>me||(i.current=Te[me],Te[me]=null,me--)}function Ee(i,s){me++,Te[me]=i.current,i.current=s}var Oe=_e(null),He=_e(null),ft=_e(null),Vt=_e(null);function _n(i,s){switch(Ee(ft,s),Ee(He,i),Ee(Oe,null),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?Tb(s):0;break;default:if(i=i===8?s.parentNode:s,s=i.tagName,i=i.namespaceURI)i=Tb(i),s=Sb(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}De(Oe),Ee(Oe,s)}function un(){De(Oe),De(He),De(ft)}function Pn(i){i.memoizedState!==null&&Ee(Vt,i);var s=Oe.current,l=Sb(s,i.type);s!==l&&(Ee(He,i),Ee(Oe,l))}function Pr(i){He.current===i&&(De(Oe),De(He)),Vt.current===i&&(De(Vt),cu._currentValue=Re)}var Fn=Object.prototype.hasOwnProperty,bi=t.unstable_scheduleCallback,us=t.unstable_cancelCallback,fc=t.unstable_shouldYield,Ea=t.unstable_requestPaint,wn=t.unstable_now,Do=t.unstable_getCurrentPriorityLevel,Lt=t.unstable_ImmediatePriority,zt=t.unstable_UserBlockingPriority,_r=t.unstable_NormalPriority,No=t.unstable_LowPriority,Ta=t.unstable_IdlePriority,hc=t.log,Ue=t.unstable_setDisableYieldValue,ot=null,je=null;function Vn(i){if(je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(ot,i,void 0,(i.current.flags&128)===128)}catch{}}function Dt(i){if(typeof hc=="function"&&Ue(i),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(ot,i)}catch{}}var Ft=Math.clz32?Math.clz32:Xe,Nt=Math.log,Rn=Math.LN2;function Xe(i){return i>>>=0,i===0?32:31-(Nt(i)/Rn|0)|0}var tr=128,Vr=4194304;function Hn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function bn(i,s){var l=i.pendingLanes;if(l===0)return 0;var u=0,m=i.suspendedLanes,g=i.pingedLanes,S=i.warmLanes;i=i.finishedLanes!==0;var M=l&134217727;return M!==0?(l=M&~m,l!==0?u=Hn(l):(g&=M,g!==0?u=Hn(g):i||(S=M&~S,S!==0&&(u=Hn(S))))):(M=l&~m,M!==0?u=Hn(M):g!==0?u=Hn(g):i||(S=l&~S,S!==0&&(u=Hn(S)))),u===0?0:s!==0&&s!==u&&!(s&m)&&(m=u&-u,S=s&-s,m>=S||m===32&&(S&4194176)!==0)?s:u}function nr(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Io(i,s){switch(i){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mc(){var i=tr;return tr<<=1,!(tr&4194176)&&(tr=128),i}function ds(){var i=Vr;return Vr<<=1,!(Vr&62914560)&&(Vr=4194304),i}function Mo(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function jt(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Sd(i,s,l,u,m,g){var S=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var M=i.entanglements,j=i.expirationTimes,G=i.hiddenUpdates;for(l=S&~l;0<l;){var ne=31-Ft(l),le=1<<ne;M[ne]=0,j[ne]=-1;var Q=G[ne];if(Q!==null)for(G[ne]=null,ne=0;ne<Q.length;ne++){var te=Q[ne];te!==null&&(te.lane&=-536870913)}l&=~le}u!==0&&fs(i,u,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(S&~s))}function fs(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Ft(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|l&4194218}function hs(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var u=31-Ft(l),m=1<<u;m&s|i[u]&s&&(i[u]|=s),l&=~m}}function xd(i){return i&=-i,2<i?8<i?i&134217727?32:268435456:8:2}function Ad(){var i=de.p;return i!==0?i:(i=window.event,i===void 0?32:Fb(i.type))}function ms(i,s){var l=de.p;try{return de.p=i,s()}finally{de.p=l}}var Lr=Math.random().toString(36).slice(2),en="__reactFiber$"+Lr,Yt="__reactProps$"+Lr,Ei="__reactContainer$"+Lr,Sa="__reactEvents$"+Lr,Oo="__reactListeners$"+Lr,jr="__reactHandles$"+Lr,pc="__reactResources$"+Lr,ps="__reactMarker$"+Lr;function xa(i){delete i[en],delete i[Yt],delete i[Sa],delete i[Oo],delete i[jr]}function wr(i){var s=i[en];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Ei]||l[en]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Cb(i);i!==null;){if(l=i[en])return l;i=Cb(i)}return s}i=l,l=i.parentNode}return null}function Ti(i){if(i=i[en]||i[Ei]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function gs(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function ys(i){var s=i[pc];return s||(s=i[pc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function St(i){i[ps]=!0}var gc=new Set,ko={};function qn(i,s){Ln(i,s),Ln(i+"Capture",s)}function Ln(i,s){for(ko[i]=s,i=0;i<s.length;i++)gc.add(s[i])}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yc={},vc={};function Cd(i){return Fn.call(vc,i)?!0:Fn.call(yc,i)?!1:Lm.test(i)?vc[i]=!0:(yc[i]=!0,!1)}function vs(i,s,l){if(Cd(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function _s(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function rr(i,s,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+u)}}function Dn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Rd(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function jm(i){var s=Rd(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,g=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(S){u=""+S,g.call(this,S)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Aa(i){i._valueTracker||(i._valueTracker=jm(i))}function _c(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return i&&(u=Rd(i)?i.checked?"true":"false":i.value),i=u,i!==l?(s.setValue(i),!0):!1}function Po(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Si=/[\n"\\]/g;function It(i){return i.replace(Si,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ws(i,s,l,u,m,g,S,M){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),s!=null?S==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Dn(s)):i.value!==""+Dn(s)&&(i.value=""+Dn(s)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),s!=null?Vo(i,S,Dn(s)):l!=null?Vo(i,S,Dn(l)):u!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.name=""+Dn(M):i.removeAttribute("name")}function Ca(i,s,l,u,m,g,S,M){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;l=l!=null?""+Dn(l):"",s=s!=null?""+Dn(s):l,M||s===i.value||(i.value=s),i.defaultValue=s}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=M?i.checked:!!u,i.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function Vo(i,s,l){s==="number"&&Po(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function it(i,s,l,u){if(i=i.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=s.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&u&&(i[l].defaultSelected=!0)}else{for(l=""+Dn(l),s=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,u&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function Ra(i,s,l){if(s!=null&&(s=""+Dn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+Dn(l):""}function bs(i,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(r(92));if(fe(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=Dn(s),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u)}function ir(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Um=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wc(i,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,l):typeof l!="number"||l===0||Um.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function Dd(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var m in s)u=s[m],s.hasOwnProperty(m)&&l[m]!==u&&wc(i,m,u)}else for(var g in s)s.hasOwnProperty(g)&&wc(i,g,s[g])}function bc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ur(i){return zm.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var sr=null;function Lo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var xi=null,Ai=null;function Ci(i){var s=Ti(i);if(s&&(i=s.stateNode)){var l=i[Yt]||null;e:switch(i=s.stateNode,s.type){case"input":if(ws(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+It(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==i&&u.form===i.form){var m=u[Yt]||null;if(!m)throw Error(r(90));ws(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===i.form&&_c(u)}break e;case"textarea":Ra(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&it(i,!!l.multiple,s,!1)}}}var Ec=!1;function Nd(i,s,l){if(Ec)return i(s,l);Ec=!0;try{var u=i(s);return u}finally{if(Ec=!1,(xi!==null||Ai!==null)&&(Ef(),xi&&(s=xi,i=Ai,Ai=xi=null,Ci(s),i)))for(s=0;s<i.length;s++)Ci(i[s])}}function Da(i,s){var l=i.stateNode;if(l===null)return null;var u=l[Yt]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var ar=!1;if(Gn)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){ar=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch{ar=!1}var Br=null,Es=null,Ri=null;function Tc(){if(Ri)return Ri;var i,s=Es,l=s.length,u,m="value"in Br?Br.value:Br.textContent,g=m.length;for(i=0;i<l&&s[i]===m[i];i++);var S=l-i;for(u=1;u<=S&&s[l-u]===m[g-u];u++);return Ri=m.slice(i,1<u?1-u:void 0)}function zr(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Fr(){return!0}function Sc(){return!1}function tn(i){function s(l,u,m,g,S){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(l=i[M],this[M]=l?l(g):g[M]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Fr:Sc,this.isPropagationStopped=Sc,this}return V(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Fr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Fr)},persist:function(){},isPersistent:Fr}),s}var lt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jo=tn(lt),Ia=V({},lt,{view:0,detail:0}),Id=tn(Ia),Uo,Bo,Hr,Ma=V({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Hr&&(Hr&&i.type==="mousemove"?(Uo=i.screenX-Hr.screenX,Bo=i.screenY-Hr.screenY):Bo=Uo=0,Hr=i),Uo)},movementY:function(i){return"movementY"in i?i.movementY:Bo}}),or=tn(Ma),Md=V({},Ma,{dataTransfer:0}),Fm=tn(Md),Oa=V({},Ia,{relatedTarget:0}),zo=tn(Oa),xc=V({},lt,{animationName:0,elapsedTime:0,pseudoElement:0}),Fo=tn(xc),Od=V({},lt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ho=tn(Od),Hm=V({},lt,{data:0}),Ac=tn(Hm),ka={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Pd[i])?!!s[i]:!1}function Pa(){return Cc}var Vd=V({},Ia,{key:function(i){if(i.key){var s=ka[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=zr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?kd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(i){return i.type==="keypress"?zr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?zr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),qo=tn(Vd),Ld=V({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rc=tn(Ld),Di=V({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),jd=tn(Di),Ud=V({},lt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bd=tn(Ud),zd=V({},Ma,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Go=tn(zd),Nn=V({},lt,{newState:0,oldState:0}),Fd=tn(Nn),Hd=[9,13,27,32],qr=Gn&&"CompositionEvent"in window,f=null;Gn&&"documentMode"in document&&(f=document.documentMode);var w=Gn&&"TextEvent"in window&&!f,T=Gn&&(!qr||f&&8<f&&11>=f),P=" ",Y=!1;function X(i,s){switch(i){case"keyup":return Hd.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var et=!1;function Kt(i,s){switch(i){case"compositionend":return ue(s);case"keypress":return s.which!==32?null:(Y=!0,P);case"textInput":return i=s.data,i===P&&Y?null:i;default:return null}}function tt(i,s){if(et)return i==="compositionend"||!qr&&X(i,s)?(i=Tc(),Ri=Es=Br=null,et=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qt(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!nn[i.type]:s==="textarea"}function Ni(i,s,l,u){xi?Ai?Ai.push(u):Ai=[u]:xi=u,s=Cf(s,"onChange"),0<s.length&&(l=new jo("onChange","change",null,l,u),i.push({event:l,listeners:s}))}var dn=null,Gr=null;function Dc(i){vb(i,0)}function qd(i){var s=gs(i);if(_c(s))return i}function W_(i,s){if(i==="change")return s}var Y_=!1;if(Gn){var qm;if(Gn){var Gm="oninput"in document;if(!Gm){var K_=document.createElement("div");K_.setAttribute("oninput","return;"),Gm=typeof K_.oninput=="function"}qm=Gm}else qm=!1;Y_=qm&&(!document.documentMode||9<document.documentMode)}function Q_(){dn&&(dn.detachEvent("onpropertychange",X_),Gr=dn=null)}function X_(i){if(i.propertyName==="value"&&qd(Gr)){var s=[];Ni(s,Gr,i,Lo(i)),Nd(Dc,s)}}function FD(i,s,l){i==="focusin"?(Q_(),dn=s,Gr=l,dn.attachEvent("onpropertychange",X_)):i==="focusout"&&Q_()}function HD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return qd(Gr)}function qD(i,s){if(i==="click")return qd(s)}function GD(i,s){if(i==="input"||i==="change")return qd(s)}function $D(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var $n=typeof Object.is=="function"?Object.is:$D;function Nc(i,s){if($n(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!Fn.call(s,m)||!$n(i[m],s[m]))return!1}return!0}function Z_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function J_(i,s){var l=Z_(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=s&&u>=s)return{node:l,offset:s-i};i=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Z_(l)}}function e0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?e0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function t0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Po(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Po(i.document)}return s}function $m(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function WD(i,s){var l=t0(s);s=i.focusedElem;var u=i.selectionRange;if(l!==s&&s&&s.ownerDocument&&e0(s.ownerDocument.documentElement,s)){if(u!==null&&$m(s)){if(i=u.start,l=u.end,l===void 0&&(l=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(l,s.value.length);else if(l=(i=s.ownerDocument||document)&&i.defaultView||window,l.getSelection){l=l.getSelection();var m=s.textContent.length,g=Math.min(u.start,m);u=u.end===void 0?g:Math.min(u.end,m),!l.extend&&g>u&&(m=u,u=g,g=m),m=J_(s,g);var S=J_(s,u);m&&S&&(l.rangeCount!==1||l.anchorNode!==m.node||l.anchorOffset!==m.offset||l.focusNode!==S.node||l.focusOffset!==S.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),l.removeAllRanges(),g>u?(l.addRange(i),l.extend(S.node,S.offset)):(i.setEnd(S.node,S.offset),l.addRange(i)))}}for(i=[],l=s;l=l.parentNode;)l.nodeType===1&&i.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)l=i[s],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var YD=Gn&&"documentMode"in document&&11>=document.documentMode,$o=null,Wm=null,Ic=null,Ym=!1;function n0(i,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ym||$o==null||$o!==Po(u)||(u=$o,"selectionStart"in u&&$m(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ic&&Nc(Ic,u)||(Ic=u,u=Cf(Wm,"onSelect"),0<u.length&&(s=new jo("onSelect","select",null,s,l),i.push({event:s,listeners:u}),s.target=$o)))}function Va(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Wo={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionrun:Va("Transition","TransitionRun"),transitionstart:Va("Transition","TransitionStart"),transitioncancel:Va("Transition","TransitionCancel"),transitionend:Va("Transition","TransitionEnd")},Km={},r0={};Gn&&(r0=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function La(i){if(Km[i])return Km[i];if(!Wo[i])return i;var s=Wo[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in r0)return Km[i]=s[l];return i}var i0=La("animationend"),s0=La("animationiteration"),a0=La("animationstart"),KD=La("transitionrun"),QD=La("transitionstart"),XD=La("transitioncancel"),o0=La("transitionend"),l0=new Map,c0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function br(i,s){l0.set(i,s),qn(s,[i])}var lr=[],Yo=0,Qm=0;function Gd(){for(var i=Yo,s=Qm=Yo=0;s<i;){var l=lr[s];lr[s++]=null;var u=lr[s];lr[s++]=null;var m=lr[s];lr[s++]=null;var g=lr[s];if(lr[s++]=null,u!==null&&m!==null){var S=u.pending;S===null?m.next=m:(m.next=S.next,S.next=m),u.pending=m}g!==0&&u0(l,m,g)}}function $d(i,s,l,u){lr[Yo++]=i,lr[Yo++]=s,lr[Yo++]=l,lr[Yo++]=u,Qm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Xm(i,s,l,u){return $d(i,s,l,u),Wd(i)}function Ts(i,s){return $d(i,null,null,s),Wd(i)}function u0(i,s,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var m=!1,g=i.return;g!==null;)g.childLanes|=l,u=g.alternate,u!==null&&(u.childLanes|=l),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;m&&s!==null&&i.tag===3&&(g=i.stateNode,m=31-Ft(l),g=g.hiddenUpdates,i=g[m],i===null?g[m]=[s]:i.push(s),s.lane=l|536870912)}function Wd(i){if(50<nu)throw nu=0,rg=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Ko={},d0=new WeakMap;function cr(i,s){if(typeof i=="object"&&i!==null){var l=d0.get(i);return l!==void 0?l:(s={value:i,source:s,stack:ce(s)},d0.set(i,s),s)}return{value:i,source:s,stack:ce(s)}}var Qo=[],Xo=0,Yd=null,Kd=0,ur=[],dr=0,ja=null,Ii=1,Mi="";function Ua(i,s){Qo[Xo++]=Kd,Qo[Xo++]=Yd,Yd=i,Kd=s}function f0(i,s,l){ur[dr++]=Ii,ur[dr++]=Mi,ur[dr++]=ja,ja=i;var u=Ii;i=Mi;var m=32-Ft(u)-1;u&=~(1<<m),l+=1;var g=32-Ft(s)+m;if(30<g){var S=m-m%5;g=(u&(1<<S)-1).toString(32),u>>=S,m-=S,Ii=1<<32-Ft(s)+m|l<<m|u,Mi=g+i}else Ii=1<<g|l<<m|u,Mi=i}function Zm(i){i.return!==null&&(Ua(i,1),f0(i,1,0))}function Jm(i){for(;i===Yd;)Yd=Qo[--Xo],Qo[Xo]=null,Kd=Qo[--Xo],Qo[Xo]=null;for(;i===ja;)ja=ur[--dr],ur[dr]=null,Mi=ur[--dr],ur[dr]=null,Ii=ur[--dr],ur[dr]=null}var In=null,fn=null,st=!1,Er=null,$r=!1,ep=Error(r(519));function Ba(i){var s=Error(r(418,""));throw kc(cr(s,i)),ep}function h0(i){var s=i.stateNode,l=i.type,u=i.memoizedProps;switch(s[en]=i,s[Yt]=u,l){case"dialog":Ze("cancel",s),Ze("close",s);break;case"iframe":case"object":case"embed":Ze("load",s);break;case"video":case"audio":for(l=0;l<iu.length;l++)Ze(iu[l],s);break;case"source":Ze("error",s);break;case"img":case"image":case"link":Ze("error",s),Ze("load",s);break;case"details":Ze("toggle",s);break;case"input":Ze("invalid",s),Ca(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Aa(s);break;case"select":Ze("invalid",s);break;case"textarea":Ze("invalid",s),bs(s,u.value,u.defaultValue,u.children),Aa(s)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||Eb(s.textContent,l)?(u.popover!=null&&(Ze("beforetoggle",s),Ze("toggle",s)),u.onScroll!=null&&Ze("scroll",s),u.onScrollEnd!=null&&Ze("scrollend",s),u.onClick!=null&&(s.onclick=Rf),s=!0):s=!1,s||Ba(i)}function m0(i){for(In=i.return;In;)switch(In.tag){case 3:case 27:$r=!0;return;case 5:case 13:$r=!1;return;default:In=In.return}}function Mc(i){if(i!==In)return!1;if(!st)return m0(i),st=!0,!1;var s=!1,l;if((l=i.tag!==3&&i.tag!==27)&&((l=i.tag===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||wg(i.type,i.memoizedProps)),l=!l),l&&(s=!0),s&&fn&&Ba(i),m0(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){fn=Sr(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}fn=null}}else fn=In?Sr(i.stateNode.nextSibling):null;return!0}function Oc(){fn=In=null,st=!1}function kc(i){Er===null?Er=[i]:Er.push(i)}var Pc=Error(r(460)),p0=Error(r(474)),tp={then:function(){}};function g0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Qd(){}function y0(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(Qd,Qd),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===Pc?Error(r(483)):i;default:if(typeof s.status=="string")s.then(Qd,Qd);else{if(i=yt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=u}},function(u){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===Pc?Error(r(483)):i}throw Vc=s,Pc}}var Vc=null;function v0(){if(Vc===null)throw Error(r(459));var i=Vc;return Vc=null,i}var Zo=null,Lc=0;function Xd(i){var s=Lc;return Lc+=1,Zo===null&&(Zo=[]),y0(Zo,i,s)}function jc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Zd(i,s){throw s.$$typeof===o?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function _0(i){var s=i._init;return s(i._payload)}function w0(i){function s($,q){if(i){var K=$.deletions;K===null?($.deletions=[q],$.flags|=16):K.push(q)}}function l($,q){if(!i)return null;for(;q!==null;)s($,q),q=q.sibling;return null}function u($){for(var q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function m($,q){return $=Ps($,q),$.index=0,$.sibling=null,$}function g($,q,K){return $.index=K,i?(K=$.alternate,K!==null?(K=K.index,K<q?($.flags|=33554434,q):K):($.flags|=33554434,q)):($.flags|=1048576,q)}function S($){return i&&$.alternate===null&&($.flags|=33554434),$}function M($,q,K,re){return q===null||q.tag!==6?(q=Kp(K,$.mode,re),q.return=$,q):(q=m(q,K),q.return=$,q)}function j($,q,K,re){var ve=K.type;return ve===h?ne($,q,K.props.children,re,K.key):q!==null&&(q.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===D&&_0(ve)===q.type)?(q=m(q,K.props),jc(q,K),q.return=$,q):(q=yf(K.type,K.key,K.props,null,$.mode,re),jc(q,K),q.return=$,q)}function G($,q,K,re){return q===null||q.tag!==4||q.stateNode.containerInfo!==K.containerInfo||q.stateNode.implementation!==K.implementation?(q=Qp(K,$.mode,re),q.return=$,q):(q=m(q,K.children||[]),q.return=$,q)}function ne($,q,K,re,ve){return q===null||q.tag!==7?(q=Qa(K,$.mode,re,ve),q.return=$,q):(q=m(q,K),q.return=$,q)}function le($,q,K){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Kp(""+q,$.mode,K),q.return=$,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case c:return K=yf(q.type,q.key,q.props,null,$.mode,K),jc(K,q),K.return=$,K;case d:return q=Qp(q,$.mode,K),q.return=$,q;case D:var re=q._init;return q=re(q._payload),le($,q,K)}if(fe(q)||Z(q))return q=Qa(q,$.mode,K,null),q.return=$,q;if(typeof q.then=="function")return le($,Xd(q),K);if(q.$$typeof===x)return le($,mf($,q),K);Zd($,q)}return null}function Q($,q,K,re){var ve=q!==null?q.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ve!==null?null:M($,q,""+K,re);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case c:return K.key===ve?j($,q,K,re):null;case d:return K.key===ve?G($,q,K,re):null;case D:return ve=K._init,K=ve(K._payload),Q($,q,K,re)}if(fe(K)||Z(K))return ve!==null?null:ne($,q,K,re,null);if(typeof K.then=="function")return Q($,q,Xd(K),re);if(K.$$typeof===x)return Q($,q,mf($,K),re);Zd($,K)}return null}function te($,q,K,re,ve){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return $=$.get(K)||null,M(q,$,""+re,ve);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case c:return $=$.get(re.key===null?K:re.key)||null,j(q,$,re,ve);case d:return $=$.get(re.key===null?K:re.key)||null,G(q,$,re,ve);case D:var $e=re._init;return re=$e(re._payload),te($,q,K,re,ve)}if(fe(re)||Z(re))return $=$.get(K)||null,ne(q,$,re,ve,null);if(typeof re.then=="function")return te($,q,K,Xd(re),ve);if(re.$$typeof===x)return te($,q,K,mf(q,re),ve);Zd(q,re)}return null}function Se($,q,K,re){for(var ve=null,$e=null,Ae=q,Ne=q=0,an=null;Ae!==null&&Ne<K.length;Ne++){Ae.index>Ne?(an=Ae,Ae=null):an=Ae.sibling;var at=Q($,Ae,K[Ne],re);if(at===null){Ae===null&&(Ae=an);break}i&&Ae&&at.alternate===null&&s($,Ae),q=g(at,q,Ne),$e===null?ve=at:$e.sibling=at,$e=at,Ae=an}if(Ne===K.length)return l($,Ae),st&&Ua($,Ne),ve;if(Ae===null){for(;Ne<K.length;Ne++)Ae=le($,K[Ne],re),Ae!==null&&(q=g(Ae,q,Ne),$e===null?ve=Ae:$e.sibling=Ae,$e=Ae);return st&&Ua($,Ne),ve}for(Ae=u(Ae);Ne<K.length;Ne++)an=te(Ae,$,Ne,K[Ne],re),an!==null&&(i&&an.alternate!==null&&Ae.delete(an.key===null?Ne:an.key),q=g(an,q,Ne),$e===null?ve=an:$e.sibling=an,$e=an);return i&&Ae.forEach(function(Fs){return s($,Fs)}),st&&Ua($,Ne),ve}function Ve($,q,K,re){if(K==null)throw Error(r(151));for(var ve=null,$e=null,Ae=q,Ne=q=0,an=null,at=K.next();Ae!==null&&!at.done;Ne++,at=K.next()){Ae.index>Ne?(an=Ae,Ae=null):an=Ae.sibling;var Fs=Q($,Ae,at.value,re);if(Fs===null){Ae===null&&(Ae=an);break}i&&Ae&&Fs.alternate===null&&s($,Ae),q=g(Fs,q,Ne),$e===null?ve=Fs:$e.sibling=Fs,$e=Fs,Ae=an}if(at.done)return l($,Ae),st&&Ua($,Ne),ve;if(Ae===null){for(;!at.done;Ne++,at=K.next())at=le($,at.value,re),at!==null&&(q=g(at,q,Ne),$e===null?ve=at:$e.sibling=at,$e=at);return st&&Ua($,Ne),ve}for(Ae=u(Ae);!at.done;Ne++,at=K.next())at=te(Ae,$,Ne,at.value,re),at!==null&&(i&&at.alternate!==null&&Ae.delete(at.key===null?Ne:at.key),q=g(at,q,Ne),$e===null?ve=at:$e.sibling=at,$e=at);return i&&Ae.forEach(function(dI){return s($,dI)}),st&&Ua($,Ne),ve}function kt($,q,K,re){if(typeof K=="object"&&K!==null&&K.type===h&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case c:e:{for(var ve=K.key;q!==null;){if(q.key===ve){if(ve=K.type,ve===h){if(q.tag===7){l($,q.sibling),re=m(q,K.props.children),re.return=$,$=re;break e}}else if(q.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===D&&_0(ve)===q.type){l($,q.sibling),re=m(q,K.props),jc(re,K),re.return=$,$=re;break e}l($,q);break}else s($,q);q=q.sibling}K.type===h?(re=Qa(K.props.children,$.mode,re,K.key),re.return=$,$=re):(re=yf(K.type,K.key,K.props,null,$.mode,re),jc(re,K),re.return=$,$=re)}return S($);case d:e:{for(ve=K.key;q!==null;){if(q.key===ve)if(q.tag===4&&q.stateNode.containerInfo===K.containerInfo&&q.stateNode.implementation===K.implementation){l($,q.sibling),re=m(q,K.children||[]),re.return=$,$=re;break e}else{l($,q);break}else s($,q);q=q.sibling}re=Qp(K,$.mode,re),re.return=$,$=re}return S($);case D:return ve=K._init,K=ve(K._payload),kt($,q,K,re)}if(fe(K))return Se($,q,K,re);if(Z(K)){if(ve=Z(K),typeof ve!="function")throw Error(r(150));return K=ve.call(K),Ve($,q,K,re)}if(typeof K.then=="function")return kt($,q,Xd(K),re);if(K.$$typeof===x)return kt($,q,mf($,K),re);Zd($,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,q!==null&&q.tag===6?(l($,q.sibling),re=m(q,K),re.return=$,$=re):(l($,q),re=Kp(K,$.mode,re),re.return=$,$=re),S($)):l($,q)}return function($,q,K,re){try{Lc=0;var ve=kt($,q,K,re);return Zo=null,ve}catch(Ae){if(Ae===Pc)throw Ae;var $e=pr(29,Ae,null,$.mode);return $e.lanes=re,$e.return=$,$e}finally{}}}var za=w0(!0),b0=w0(!1),Jo=_e(null),Jd=_e(0);function E0(i,s){i=Hi,Ee(Jd,i),Ee(Jo,s),Hi=i|s.baseLanes}function np(){Ee(Jd,Hi),Ee(Jo,Jo.current)}function rp(){Hi=Jd.current,De(Jo),De(Jd)}var fr=_e(null),Wr=null;function Ss(i){var s=i.alternate;Ee(Xt,Xt.current&1),Ee(fr,i),Wr===null&&(s===null||Jo.current!==null||s.memoizedState!==null)&&(Wr=i)}function T0(i){if(i.tag===22){if(Ee(Xt,Xt.current),Ee(fr,i),Wr===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Wr=i)}}else xs()}function xs(){Ee(Xt,Xt.current),Ee(fr,fr.current)}function Oi(i){De(fr),Wr===i&&(Wr=null),De(Xt)}var Xt=_e(0);function ef(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ZD=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},JD=t.unstable_scheduleCallback,eN=t.unstable_NormalPriority,Zt={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ip(){return{controller:new ZD,data:new Map,refCount:0}}function Uc(i){i.refCount--,i.refCount===0&&JD(eN,function(){i.controller.abort()})}var Bc=null,sp=0,el=0,tl=null;function tN(i,s){if(Bc===null){var l=Bc=[];sp=0,el=dg(),tl={status:"pending",value:void 0,then:function(u){l.push(u)}}}return sp++,s.then(S0,S0),s}function S0(){if(--sp===0&&Bc!==null){tl!==null&&(tl.status="fulfilled");var i=Bc;Bc=null,el=0,tl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function nN(i,s){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var m=0;m<l.length;m++)(0,l[m])(s)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var x0=I.S;I.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&tN(i,s),x0!==null&&x0(i,s)};var Fa=_e(null);function ap(){var i=Fa.current;return i!==null?i:yt.pooledCache}function tf(i,s){s===null?Ee(Fa,Fa.current):Ee(Fa,s.pool)}function A0(){var i=ap();return i===null?null:{parent:Zt._currentValue,pool:i}}var As=0,Ge=null,ht=null,Ht=null,nf=!1,nl=!1,Ha=!1,rf=0,zc=0,rl=null,rN=0;function Ut(){throw Error(r(321))}function op(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!$n(i[l],s[l]))return!1;return!0}function lp(i,s,l,u,m,g){return As=g,Ge=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,I.H=i===null||i.memoizedState===null?qa:Cs,Ha=!1,g=l(u,m),Ha=!1,nl&&(g=R0(s,l,u,m)),C0(i),g}function C0(i){I.H=Yr;var s=ht!==null&&ht.next!==null;if(As=0,Ht=ht=Ge=null,nf=!1,zc=0,rl=null,s)throw Error(r(300));i===null||rn||(i=i.dependencies,i!==null&&hf(i)&&(rn=!0))}function R0(i,s,l,u){Ge=i;var m=0;do{if(nl&&(rl=null),zc=0,nl=!1,25<=m)throw Error(r(301));if(m+=1,Ht=ht=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}I.H=Ga,g=s(l,u)}while(nl);return g}function iN(){var i=I.H,s=i.useState()[0];return s=typeof s.then=="function"?Fc(s):s,i=i.useState()[0],(ht!==null?ht.memoizedState:null)!==i&&(Ge.flags|=1024),s}function cp(){var i=rf!==0;return rf=0,i}function up(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function dp(i){if(nf){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}nf=!1}As=0,Ht=ht=Ge=null,nl=!1,zc=rf=0,rl=null}function jn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Ge.memoizedState=Ht=i:Ht=Ht.next=i,Ht}function qt(){if(ht===null){var i=Ge.alternate;i=i!==null?i.memoizedState:null}else i=ht.next;var s=Ht===null?Ge.memoizedState:Ht.next;if(s!==null)Ht=s,ht=i;else{if(i===null)throw Ge.alternate===null?Error(r(467)):Error(r(310));ht=i,i={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Ht===null?Ge.memoizedState=Ht=i:Ht=Ht.next=i}return Ht}var sf;sf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Fc(i){var s=zc;return zc+=1,rl===null&&(rl=[]),i=y0(rl,i,s),s=Ge,(Ht===null?s.memoizedState:Ht.next)===null&&(s=s.alternate,I.H=s===null||s.memoizedState===null?qa:Cs),i}function af(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Fc(i);if(i.$$typeof===x)return En(i)}throw Error(r(438,String(i)))}function fp(i){var s=null,l=Ge.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=Ge.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=sf(),Ge.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),u=0;u<i;u++)l[u]=H;return s.index++,l}function ki(i,s){return typeof s=="function"?s(i):s}function of(i){var s=qt();return hp(s,ht,i)}function hp(i,s,l){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var m=i.baseQueue,g=u.pending;if(g!==null){if(m!==null){var S=m.next;m.next=g.next,g.next=S}s.baseQueue=m=g,u.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{s=m.next;var M=S=null,j=null,G=s,ne=!1;do{var le=G.lane&-536870913;if(le!==G.lane?(nt&le)===le:(As&le)===le){var Q=G.revertLane;if(Q===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),le===el&&(ne=!0);else if((As&Q)===Q){G=G.next,Q===el&&(ne=!0);continue}else le={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},j===null?(M=j=le,S=g):j=j.next=le,Ge.lanes|=Q,Vs|=Q;le=G.action,Ha&&l(g,le),g=G.hasEagerState?G.eagerState:l(g,le)}else Q={lane:le,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},j===null?(M=j=Q,S=g):j=j.next=Q,Ge.lanes|=le,Vs|=le;G=G.next}while(G!==null&&G!==s);if(j===null?S=g:j.next=M,!$n(g,i.memoizedState)&&(rn=!0,ne&&(l=tl,l!==null)))throw l;i.memoizedState=g,i.baseState=S,i.baseQueue=j,u.lastRenderedState=g}return m===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function mp(i){var s=qt(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var u=l.dispatch,m=l.pending,g=s.memoizedState;if(m!==null){l.pending=null;var S=m=m.next;do g=i(g,S.action),S=S.next;while(S!==m);$n(g,s.memoizedState)||(rn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,u]}function D0(i,s,l){var u=Ge,m=qt(),g=st;if(g){if(l===void 0)throw Error(r(407));l=l()}else l=s();var S=!$n((ht||m).memoizedState,l);if(S&&(m.memoizedState=l,rn=!0),m=m.queue,yp(M0.bind(null,u,m,i),[i]),m.getSnapshot!==s||S||Ht!==null&&Ht.memoizedState.tag&1){if(u.flags|=2048,il(9,I0.bind(null,u,m,l,s),{destroy:void 0},null),yt===null)throw Error(r(349));g||As&60||N0(u,s,l)}return l}function N0(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Ge.updateQueue,s===null?(s=sf(),Ge.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function I0(i,s,l,u){s.value=l,s.getSnapshot=u,O0(s)&&k0(i)}function M0(i,s,l){return l(function(){O0(s)&&k0(i)})}function O0(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!$n(i,l)}catch{return!0}}function k0(i){var s=Ts(i,2);s!==null&&Mn(s,i,2)}function pp(i){var s=jn();if(typeof i=="function"){var l=i;if(i=l(),Ha){Dt(!0);try{l()}finally{Dt(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:i},s}function P0(i,s,l,u){return i.baseState=l,hp(i,ht,typeof u=="function"?u:ki)}function sN(i,s,l,u,m){if(uf(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};I.T!==null?l(!0):g.isTransition=!1,u(g),l=s.pending,l===null?(g.next=s.pending=g,V0(s,g)):(g.next=l.next,s.pending=l.next=g)}}function V0(i,s){var l=s.action,u=s.payload,m=i.state;if(s.isTransition){var g=I.T,S={};I.T=S;try{var M=l(m,u),j=I.S;j!==null&&j(S,M),L0(i,s,M)}catch(G){gp(i,s,G)}finally{I.T=g}}else try{g=l(m,u),L0(i,s,g)}catch(G){gp(i,s,G)}}function L0(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){j0(i,s,u)},function(u){return gp(i,s,u)}):j0(i,s,l)}function j0(i,s,l){s.status="fulfilled",s.value=l,U0(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,V0(i,l)))}function gp(i,s,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,U0(s),s=s.next;while(s!==u)}i.action=null}function U0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function B0(i,s){return s}function z0(i,s){if(st){var l=yt.formState;if(l!==null){e:{var u=Ge;if(st){if(fn){t:{for(var m=fn,g=$r;m.nodeType!==8;){if(!g){m=null;break t}if(m=Sr(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){fn=Sr(m.nextSibling),u=m.data==="F!";break e}}Ba(u)}u=!1}u&&(s=l[0])}}return l=jn(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:B0,lastRenderedState:s},l.queue=u,l=sw.bind(null,Ge,u),u.dispatch=l,u=pp(!1),g=Ep.bind(null,Ge,!1,u.queue),u=jn(),m={state:s,dispatch:null,action:i,pending:null},u.queue=m,l=sN.bind(null,Ge,m,g,l),m.dispatch=l,u.memoizedState=i,[s,l,!1]}function F0(i){var s=qt();return H0(s,ht,i)}function H0(i,s,l){s=hp(i,s,B0)[0],i=of(ki)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Fc(s):s;var u=qt(),m=u.queue,g=m.dispatch;return l!==u.memoizedState&&(Ge.flags|=2048,il(9,aN.bind(null,m,l),{destroy:void 0},null)),[s,g,i]}function aN(i,s){i.action=s}function q0(i){var s=qt(),l=ht;if(l!==null)return H0(s,l,i);qt(),s=s.memoizedState,l=qt();var u=l.queue.dispatch;return l.memoizedState=i,[s,u,!1]}function il(i,s,l,u){return i={tag:i,create:s,inst:l,deps:u,next:null},s=Ge.updateQueue,s===null&&(s=sf(),Ge.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,s.lastEffect=i),i}function G0(){return qt().memoizedState}function lf(i,s,l,u){var m=jn();Ge.flags|=i,m.memoizedState=il(1|s,l,{destroy:void 0},u===void 0?null:u)}function cf(i,s,l,u){var m=qt();u=u===void 0?null:u;var g=m.memoizedState.inst;ht!==null&&u!==null&&op(u,ht.memoizedState.deps)?m.memoizedState=il(s,l,g,u):(Ge.flags|=i,m.memoizedState=il(1|s,l,g,u))}function $0(i,s){lf(8390656,8,i,s)}function yp(i,s){cf(2048,8,i,s)}function W0(i,s){return cf(4,2,i,s)}function Y0(i,s){return cf(4,4,i,s)}function K0(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Q0(i,s,l){l=l!=null?l.concat([i]):null,cf(4,4,K0.bind(null,s,i),l)}function vp(){}function X0(i,s){var l=qt();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&op(s,u[1])?u[0]:(l.memoizedState=[i,s],i)}function Z0(i,s){var l=qt();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&op(s,u[1]))return u[0];if(u=i(),Ha){Dt(!0);try{i()}finally{Dt(!1)}}return l.memoizedState=[u,s],u}function _p(i,s,l){return l===void 0||As&1073741824?i.memoizedState=s:(i.memoizedState=l,i=eb(),Ge.lanes|=i,Vs|=i,l)}function J0(i,s,l,u){return $n(l,s)?l:Jo.current!==null?(i=_p(i,l,u),$n(i,s)||(rn=!0),i):As&42?(i=eb(),Ge.lanes|=i,Vs|=i,s):(rn=!0,i.memoizedState=l)}function ew(i,s,l,u,m){var g=de.p;de.p=g!==0&&8>g?g:8;var S=I.T,M={};I.T=M,Ep(i,!1,s,l);try{var j=m(),G=I.S;if(G!==null&&G(M,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ne=nN(j,u);Hc(i,s,ne,Qn(i))}else Hc(i,s,u,Qn(i))}catch(le){Hc(i,s,{then:function(){},status:"rejected",reason:le},Qn())}finally{de.p=g,I.T=S}}function oN(){}function wp(i,s,l,u){if(i.tag!==5)throw Error(r(476));var m=tw(i).queue;ew(i,m,s,Re,l===null?oN:function(){return nw(i),l(u)})}function tw(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Re,baseState:Re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:Re},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function nw(i){var s=tw(i).next.queue;Hc(i,s,{},Qn())}function bp(){return En(cu)}function rw(){return qt().memoizedState}function iw(){return qt().memoizedState}function lN(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=Qn();i=Ns(l);var u=Is(s,i,l);u!==null&&(Mn(u,s,l),$c(u,s,l)),s={cache:ip()},i.payload=s;return}s=s.return}}function cN(i,s,l){var u=Qn();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},uf(i)?aw(s,l):(l=Xm(i,s,l,u),l!==null&&(Mn(l,i,u),ow(l,s,u)))}function sw(i,s,l){var u=Qn();Hc(i,s,l,u)}function Hc(i,s,l,u){var m={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(uf(i))aw(s,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var S=s.lastRenderedState,M=g(S,l);if(m.hasEagerState=!0,m.eagerState=M,$n(M,S))return $d(i,s,m,0),yt===null&&Gd(),!1}catch{}finally{}if(l=Xm(i,s,m,u),l!==null)return Mn(l,i,u),ow(l,s,u),!0}return!1}function Ep(i,s,l,u){if(u={lane:2,revertLane:dg(),action:u,hasEagerState:!1,eagerState:null,next:null},uf(i)){if(s)throw Error(r(479))}else s=Xm(i,l,u,2),s!==null&&Mn(s,i,2)}function uf(i){var s=i.alternate;return i===Ge||s!==null&&s===Ge}function aw(i,s){nl=nf=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function ow(i,s,l){if(l&4194176){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,hs(i,l)}}var Yr={readContext:En,use:af,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut};Yr.useCacheRefresh=Ut,Yr.useMemoCache=Ut,Yr.useHostTransitionStatus=Ut,Yr.useFormState=Ut,Yr.useActionState=Ut,Yr.useOptimistic=Ut;var qa={readContext:En,use:af,useCallback:function(i,s){return jn().memoizedState=[i,s===void 0?null:s],i},useContext:En,useEffect:$0,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,lf(4194308,4,K0.bind(null,s,i),l)},useLayoutEffect:function(i,s){return lf(4194308,4,i,s)},useInsertionEffect:function(i,s){lf(4,2,i,s)},useMemo:function(i,s){var l=jn();s=s===void 0?null:s;var u=i();if(Ha){Dt(!0);try{i()}finally{Dt(!1)}}return l.memoizedState=[u,s],u},useReducer:function(i,s,l){var u=jn();if(l!==void 0){var m=l(s);if(Ha){Dt(!0);try{l(s)}finally{Dt(!1)}}}else m=s;return u.memoizedState=u.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},u.queue=i,i=i.dispatch=cN.bind(null,Ge,i),[u.memoizedState,i]},useRef:function(i){var s=jn();return i={current:i},s.memoizedState=i},useState:function(i){i=pp(i);var s=i.queue,l=sw.bind(null,Ge,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:vp,useDeferredValue:function(i,s){var l=jn();return _p(l,i,s)},useTransition:function(){var i=pp(!1);return i=ew.bind(null,Ge,i.queue,!0,!1),jn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var u=Ge,m=jn();if(st){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),yt===null)throw Error(r(349));nt&60||N0(u,s,l)}m.memoizedState=l;var g={value:l,getSnapshot:s};return m.queue=g,$0(M0.bind(null,u,g,i),[i]),u.flags|=2048,il(9,I0.bind(null,u,g,l,s),{destroy:void 0},null),l},useId:function(){var i=jn(),s=yt.identifierPrefix;if(st){var l=Mi,u=Ii;l=(u&~(1<<32-Ft(u)-1)).toString(32)+l,s=":"+s+"R"+l,l=rf++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=rN++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},useCacheRefresh:function(){return jn().memoizedState=lN.bind(null,Ge)}};qa.useMemoCache=fp,qa.useHostTransitionStatus=bp,qa.useFormState=z0,qa.useActionState=z0,qa.useOptimistic=function(i){var s=jn();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Ep.bind(null,Ge,!0,l),l.dispatch=s,[i,s]};var Cs={readContext:En,use:af,useCallback:X0,useContext:En,useEffect:yp,useImperativeHandle:Q0,useInsertionEffect:W0,useLayoutEffect:Y0,useMemo:Z0,useReducer:of,useRef:G0,useState:function(){return of(ki)},useDebugValue:vp,useDeferredValue:function(i,s){var l=qt();return J0(l,ht.memoizedState,i,s)},useTransition:function(){var i=of(ki)[0],s=qt().memoizedState;return[typeof i=="boolean"?i:Fc(i),s]},useSyncExternalStore:D0,useId:rw};Cs.useCacheRefresh=iw,Cs.useMemoCache=fp,Cs.useHostTransitionStatus=bp,Cs.useFormState=F0,Cs.useActionState=F0,Cs.useOptimistic=function(i,s){var l=qt();return P0(l,ht,i,s)};var Ga={readContext:En,use:af,useCallback:X0,useContext:En,useEffect:yp,useImperativeHandle:Q0,useInsertionEffect:W0,useLayoutEffect:Y0,useMemo:Z0,useReducer:mp,useRef:G0,useState:function(){return mp(ki)},useDebugValue:vp,useDeferredValue:function(i,s){var l=qt();return ht===null?_p(l,i,s):J0(l,ht.memoizedState,i,s)},useTransition:function(){var i=mp(ki)[0],s=qt().memoizedState;return[typeof i=="boolean"?i:Fc(i),s]},useSyncExternalStore:D0,useId:rw};Ga.useCacheRefresh=iw,Ga.useMemoCache=fp,Ga.useHostTransitionStatus=bp,Ga.useFormState=q0,Ga.useActionState=q0,Ga.useOptimistic=function(i,s){var l=qt();return ht!==null?P0(l,ht,i,s):(l.baseState=i,[i,l.queue.dispatch])};function Tp(i,s,l,u){s=i.memoizedState,l=l(u,s),l=l==null?s:V({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Sp={isMounted:function(i){return(i=i._reactInternals)?ie(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var u=Qn(),m=Ns(u);m.payload=s,l!=null&&(m.callback=l),s=Is(i,m,u),s!==null&&(Mn(s,i,u),$c(s,i,u))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var u=Qn(),m=Ns(u);m.tag=1,m.payload=s,l!=null&&(m.callback=l),s=Is(i,m,u),s!==null&&(Mn(s,i,u),$c(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Qn(),u=Ns(l);u.tag=2,s!=null&&(u.callback=s),s=Is(i,u,l),s!==null&&(Mn(s,i,l),$c(s,i,l))}};function lw(i,s,l,u,m,g,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,S):s.prototype&&s.prototype.isPureReactComponent?!Nc(l,u)||!Nc(m,g):!0}function cw(i,s,l,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==i&&Sp.enqueueReplaceState(s,s.state,null)}function $a(i,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(i=i.defaultProps){l===s&&(l=V({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}var df=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function uw(i){df(i)}function dw(i){console.error(i)}function fw(i){df(i)}function ff(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function hw(i,s,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function xp(i,s,l){return l=Ns(l),l.tag=3,l.payload={element:null},l.callback=function(){ff(i,s)},l}function mw(i){return i=Ns(i),i.tag=3,i}function pw(i,s,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var g=u.value;i.payload=function(){return m(g)},i.callback=function(){hw(s,l,u)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){hw(s,l,u),typeof m!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var M=u.stack;this.componentDidCatch(u.value,{componentStack:M!==null?M:""})})}function uN(i,s,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&Gc(s,l,m,!0),l=fr.current,l!==null){switch(l.tag){case 13:return Wr===null?ag():l.alternate===null&&Ot===0&&(Ot=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===tp?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),lg(i,u,m)),!1;case 22:return l.flags|=65536,u===tp?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),lg(i,u,m)),!1}throw Error(r(435,l.tag))}return lg(i,u,m),ag(),!1}if(st)return s=fr.current,s!==null?(!(s.flags&65536)&&(s.flags|=256),s.flags|=65536,s.lanes=m,u!==ep&&(i=Error(r(422),{cause:u}),kc(cr(i,l)))):(u!==ep&&(s=Error(r(423),{cause:u}),kc(cr(s,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,u=cr(u,l),m=xp(i.stateNode,u,m),Bp(i,m),Ot!==4&&(Ot=2)),!1;var g=Error(r(520),{cause:u});if(g=cr(g,l),eu===null?eu=[g]:eu.push(g),Ot!==4&&(Ot=2),s===null)return!0;u=cr(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=xp(l.stateNode,u,i),Bp(l,i),!1;case 1:if(s=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ls===null||!Ls.has(g))))return l.flags|=65536,m&=-m,l.lanes|=m,m=mw(m),pw(m,i,l,u),Bp(l,m),!1}l=l.return}while(l!==null);return!1}var gw=Error(r(461)),rn=!1;function hn(i,s,l,u){s.child=i===null?b0(s,null,l,u):za(s,i.child,l,u)}function yw(i,s,l,u,m){l=l.render;var g=s.ref;if("ref"in u){var S={};for(var M in u)M!=="ref"&&(S[M]=u[M])}else S=u;return Ya(s),u=lp(i,s,l,S,g,m),M=cp(),i!==null&&!rn?(up(i,s,m),Pi(i,s,m)):(st&&M&&Zm(s),s.flags|=1,hn(i,s,u,m),s.child)}function vw(i,s,l,u,m){if(i===null){var g=l.type;return typeof g=="function"&&!Yp(g)&&g.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=g,_w(i,s,g,u,m)):(i=yf(l.type,null,u,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!kp(i,m)){var S=g.memoizedProps;if(l=l.compare,l=l!==null?l:Nc,l(S,u)&&i.ref===s.ref)return Pi(i,s,m)}return s.flags|=1,i=Ps(g,u),i.ref=s.ref,i.return=s,s.child=i}function _w(i,s,l,u,m){if(i!==null){var g=i.memoizedProps;if(Nc(g,u)&&i.ref===s.ref)if(rn=!1,s.pendingProps=u=g,kp(i,m))i.flags&131072&&(rn=!0);else return s.lanes=i.lanes,Pi(i,s,m)}return Ap(i,s,l,u,m)}function ww(i,s,l){var u=s.pendingProps,m=u.children,g=(s.stateNode._pendingVisibility&2)!==0,S=i!==null?i.memoizedState:null;if(qc(i,s),u.mode==="hidden"||g){if(s.flags&128){if(u=S!==null?S.baseLanes|l:l,i!==null){for(m=s.child=i.child,g=0;m!==null;)g=g|m.lanes|m.childLanes,m=m.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return bw(i,s,u,l)}if(l&536870912)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&tf(s,S!==null?S.cachePool:null),S!==null?E0(s,S):np(),T0(s);else return s.lanes=s.childLanes=536870912,bw(i,s,S!==null?S.baseLanes|l:l,l)}else S!==null?(tf(s,S.cachePool),E0(s,S),xs(),s.memoizedState=null):(i!==null&&tf(s,null),np(),xs());return hn(i,s,m,l),s.child}function bw(i,s,l,u){var m=ap();return m=m===null?null:{parent:Zt._currentValue,pool:m},s.memoizedState={baseLanes:l,cachePool:m},i!==null&&tf(s,null),np(),T0(s),i!==null&&Gc(i,s,u,!0),null}function qc(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=2097664)}}function Ap(i,s,l,u,m){return Ya(s),l=lp(i,s,l,u,void 0,m),u=cp(),i!==null&&!rn?(up(i,s,m),Pi(i,s,m)):(st&&u&&Zm(s),s.flags|=1,hn(i,s,l,m),s.child)}function Ew(i,s,l,u,m,g){return Ya(s),s.updateQueue=null,l=R0(s,u,l,m),C0(i),u=cp(),i!==null&&!rn?(up(i,s,g),Pi(i,s,g)):(st&&u&&Zm(s),s.flags|=1,hn(i,s,l,g),s.child)}function Tw(i,s,l,u,m){if(Ya(s),s.stateNode===null){var g=Ko,S=l.contextType;typeof S=="object"&&S!==null&&(g=En(S)),g=new l(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Sp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},jp(s),S=l.contextType,g.context=typeof S=="object"&&S!==null?En(S):Ko,g.state=s.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Tp(s,l,S,u),g.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&Sp.enqueueReplaceState(g,g.state,null),Yc(s,u,g,m),Wc(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var M=s.memoizedProps,j=$a(l,M);g.props=j;var G=g.context,ne=l.contextType;S=Ko,typeof ne=="object"&&ne!==null&&(S=En(ne));var le=l.getDerivedStateFromProps;ne=typeof le=="function"||typeof g.getSnapshotBeforeUpdate=="function",M=s.pendingProps!==M,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(M||G!==S)&&cw(s,g,u,S),Ds=!1;var Q=s.memoizedState;g.state=Q,Yc(s,u,g,m),Wc(),G=s.memoizedState,M||Q!==G||Ds?(typeof le=="function"&&(Tp(s,l,le,u),G=s.memoizedState),(j=Ds||lw(s,l,j,u,Q,G,S))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=G),g.props=u,g.state=G,g.context=S,u=j):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Up(i,s),S=s.memoizedProps,ne=$a(l,S),g.props=ne,le=s.pendingProps,Q=g.context,G=l.contextType,j=Ko,typeof G=="object"&&G!==null&&(j=En(G)),M=l.getDerivedStateFromProps,(G=typeof M=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==le||Q!==j)&&cw(s,g,u,j),Ds=!1,Q=s.memoizedState,g.state=Q,Yc(s,u,g,m),Wc();var te=s.memoizedState;S!==le||Q!==te||Ds||i!==null&&i.dependencies!==null&&hf(i.dependencies)?(typeof M=="function"&&(Tp(s,l,M,u),te=s.memoizedState),(ne=Ds||lw(s,l,ne,u,Q,te,j)||i!==null&&i.dependencies!==null&&hf(i.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,te,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,te,j)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===i.memoizedProps&&Q===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&Q===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=te),g.props=u,g.state=te,g.context=j,u=ne):(typeof g.componentDidUpdate!="function"||S===i.memoizedProps&&Q===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&Q===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,qc(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=za(s,i.child,null,m),s.child=za(s,null,l,m)):hn(i,s,l,m),s.memoizedState=g.state,i=s.child):i=Pi(i,s,m),i}function Sw(i,s,l,u){return Oc(),s.flags|=256,hn(i,s,l,u),s.child}var Cp={dehydrated:null,treeContext:null,retryLane:0};function Rp(i){return{baseLanes:i,cachePool:A0()}}function Dp(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=gr),i}function xw(i,s,l){var u=s.pendingProps,m=!1,g=(s.flags&128)!==0,S;if((S=g)||(S=i!==null&&i.memoizedState===null?!1:(Xt.current&2)!==0),S&&(m=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,i===null){if(st){if(m?Ss(s):xs(),st){var M=fn,j;if(j=M){e:{for(j=M,M=$r;j.nodeType!==8;){if(!M){M=null;break e}if(j=Sr(j.nextSibling),j===null){M=null;break e}}M=j}M!==null?(s.memoizedState={dehydrated:M,treeContext:ja!==null?{id:Ii,overflow:Mi}:null,retryLane:536870912},j=pr(18,null,null,0),j.stateNode=M,j.return=s,s.child=j,In=s,fn=null,j=!0):j=!1}j||Ba(s)}if(M=s.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return M.data==="$!"?s.lanes=16:s.lanes=536870912,null;Oi(s)}return M=u.children,u=u.fallback,m?(xs(),m=s.mode,M=Ip({mode:"hidden",children:M},m),u=Qa(u,m,l,null),M.return=s,u.return=s,M.sibling=u,s.child=M,m=s.child,m.memoizedState=Rp(l),m.childLanes=Dp(i,S,l),s.memoizedState=Cp,u):(Ss(s),Np(s,M))}if(j=i.memoizedState,j!==null&&(M=j.dehydrated,M!==null)){if(g)s.flags&256?(Ss(s),s.flags&=-257,s=Mp(i,s,l)):s.memoizedState!==null?(xs(),s.child=i.child,s.flags|=128,s=null):(xs(),m=u.fallback,M=s.mode,u=Ip({mode:"visible",children:u.children},M),m=Qa(m,M,l,null),m.flags|=2,u.return=s,m.return=s,u.sibling=m,s.child=u,za(s,i.child,null,l),u=s.child,u.memoizedState=Rp(l),u.childLanes=Dp(i,S,l),s.memoizedState=Cp,s=m);else if(Ss(s),M.data==="$!"){if(S=M.nextSibling&&M.nextSibling.dataset,S)var G=S.dgst;S=G,u=Error(r(419)),u.stack="",u.digest=S,kc({value:u,source:null,stack:null}),s=Mp(i,s,l)}else if(rn||Gc(i,s,l,!1),S=(l&i.childLanes)!==0,rn||S){if(S=yt,S!==null){if(u=l&-l,u&42)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=u&(S.suspendedLanes|l)?0:u,u!==0&&u!==j.retryLane)throw j.retryLane=u,Ts(i,u),Mn(S,i,u),gw}M.data==="$?"||ag(),s=Mp(i,s,l)}else M.data==="$?"?(s.flags|=128,s.child=i.child,s=xN.bind(null,i),M._reactRetry=s,s=null):(i=j.treeContext,fn=Sr(M.nextSibling),In=s,st=!0,Er=null,$r=!1,i!==null&&(ur[dr++]=Ii,ur[dr++]=Mi,ur[dr++]=ja,Ii=i.id,Mi=i.overflow,ja=s),s=Np(s,u.children),s.flags|=4096);return s}return m?(xs(),m=u.fallback,M=s.mode,j=i.child,G=j.sibling,u=Ps(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&31457280,G!==null?m=Ps(G,m):(m=Qa(m,M,l,null),m.flags|=2),m.return=s,u.return=s,u.sibling=m,s.child=u,u=m,m=s.child,M=i.child.memoizedState,M===null?M=Rp(l):(j=M.cachePool,j!==null?(G=Zt._currentValue,j=j.parent!==G?{parent:G,pool:G}:j):j=A0(),M={baseLanes:M.baseLanes|l,cachePool:j}),m.memoizedState=M,m.childLanes=Dp(i,S,l),s.memoizedState=Cp,u):(Ss(s),l=i.child,i=l.sibling,l=Ps(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,i!==null&&(S=s.deletions,S===null?(s.deletions=[i],s.flags|=16):S.push(i)),s.child=l,s.memoizedState=null,l)}function Np(i,s){return s=Ip({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Ip(i,s){return Xw(i,s,0,null)}function Mp(i,s,l){return za(s,i.child,null,l),i=Np(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Aw(i,s,l){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Vp(i.return,s,l)}function Op(i,s,l,u,m){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=l,g.tailMode=m)}function Cw(i,s,l){var u=s.pendingProps,m=u.revealOrder,g=u.tail;if(hn(i,s,u.children,l),u=Xt.current,u&2)u=u&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Aw(i,l,s);else if(i.tag===19)Aw(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(Ee(Xt,u),m){case"forwards":for(l=s.child,m=null;l!==null;)i=l.alternate,i!==null&&ef(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),Op(s,!1,m,l,g);break;case"backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&ef(i)===null){s.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Op(s,!0,l,null,g);break;case"together":Op(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Pi(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Vs|=s.lanes,!(l&s.childLanes))if(i!==null){if(Gc(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=Ps(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Ps(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function kp(i,s){return i.lanes&s?!0:(i=i.dependencies,!!(i!==null&&hf(i)))}function dN(i,s,l){switch(s.tag){case 3:_n(s,s.stateNode.containerInfo),Rs(s,Zt,i.memoizedState.cache),Oc();break;case 27:case 5:Pn(s);break;case 4:_n(s,s.stateNode.containerInfo);break;case 10:Rs(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Ss(s),s.flags|=128,null):l&s.child.childLanes?xw(i,s,l):(Ss(s),i=Pi(i,s,l),i!==null?i.sibling:null);Ss(s);break;case 19:var m=(i.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(Gc(i,s,l,!1),u=(l&s.childLanes)!==0),m){if(u)return Cw(i,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ee(Xt,Xt.current),u)break;return null;case 22:case 23:return s.lanes=0,ww(i,s,l);case 24:Rs(s,Zt,i.memoizedState.cache)}return Pi(i,s,l)}function Rw(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)rn=!0;else{if(!kp(i,l)&&!(s.flags&128))return rn=!1,dN(i,s,l);rn=!!(i.flags&131072)}else rn=!1,st&&s.flags&1048576&&f0(s,Kd,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var u=s.elementType,m=u._init;if(u=m(u._payload),s.type=u,typeof u=="function")Yp(u)?(i=$a(u,i),s.tag=1,s=Tw(null,s,u,i,l)):(s.tag=0,s=Ap(null,s,u,i,l));else{if(u!=null){if(m=u.$$typeof,m===A){s.tag=11,s=yw(null,s,u,i,l);break e}else if(m===O){s.tag=14,s=vw(null,s,u,i,l);break e}}throw s=N(u)||u,Error(r(306,s,""))}}return s;case 0:return Ap(i,s,s.type,s.pendingProps,l);case 1:return u=s.type,m=$a(u,s.pendingProps),Tw(i,s,u,m,l);case 3:e:{if(_n(s,s.stateNode.containerInfo),i===null)throw Error(r(387));var g=s.pendingProps;m=s.memoizedState,u=m.element,Up(i,s),Yc(s,g,null,l);var S=s.memoizedState;if(g=S.cache,Rs(s,Zt,g),g!==m.cache&&Lp(s,[Zt],l,!0),Wc(),g=S.element,m.isDehydrated)if(m={element:g,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Sw(i,s,g,l);break e}else if(g!==u){u=cr(Error(r(424)),s),kc(u),s=Sw(i,s,g,l);break e}else for(fn=Sr(s.stateNode.containerInfo.firstChild),In=s,st=!0,Er=null,$r=!0,l=b0(s,null,g,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Oc(),g===u){s=Pi(i,s,l);break e}hn(i,s,g,l)}s=s.child}return s;case 26:return qc(i,s),i===null?(l=Ib(s.type,null,s.pendingProps,null))?s.memoizedState=l:st||(l=s.type,i=s.pendingProps,u=Df(ft.current).createElement(l),u[en]=s,u[Yt]=i,mn(u,l,i),St(u),s.stateNode=u):s.memoizedState=Ib(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Pn(s),i===null&&st&&(u=s.stateNode=Rb(s.type,s.pendingProps,ft.current),In=s,$r=!0,fn=Sr(u.firstChild)),u=s.pendingProps.children,i!==null||st?hn(i,s,u,l):s.child=za(s,null,u,l),qc(i,s),s.child;case 5:return i===null&&st&&((m=u=fn)&&(u=zN(u,s.type,s.pendingProps,$r),u!==null?(s.stateNode=u,In=s,fn=Sr(u.firstChild),$r=!1,m=!0):m=!1),m||Ba(s)),Pn(s),m=s.type,g=s.pendingProps,S=i!==null?i.memoizedProps:null,u=g.children,wg(m,g)?u=null:S!==null&&wg(m,S)&&(s.flags|=32),s.memoizedState!==null&&(m=lp(i,s,iN,null,null,l),cu._currentValue=m),qc(i,s),hn(i,s,u,l),s.child;case 6:return i===null&&st&&((i=l=fn)&&(l=FN(l,s.pendingProps,$r),l!==null?(s.stateNode=l,In=s,fn=null,i=!0):i=!1),i||Ba(s)),null;case 13:return xw(i,s,l);case 4:return _n(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=za(s,null,u,l):hn(i,s,u,l),s.child;case 11:return yw(i,s,s.type,s.pendingProps,l);case 7:return hn(i,s,s.pendingProps,l),s.child;case 8:return hn(i,s,s.pendingProps.children,l),s.child;case 12:return hn(i,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,Rs(s,s.type,u.value),hn(i,s,u.children,l),s.child;case 9:return m=s.type._context,u=s.pendingProps.children,Ya(s),m=En(m),u=u(m),s.flags|=1,hn(i,s,u,l),s.child;case 14:return vw(i,s,s.type,s.pendingProps,l);case 15:return _w(i,s,s.type,s.pendingProps,l);case 19:return Cw(i,s,l);case 22:return ww(i,s,l);case 24:return Ya(s),u=En(Zt),i===null?(m=ap(),m===null&&(m=yt,g=ip(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=l),m=g),s.memoizedState={parent:u,cache:m},jp(s),Rs(s,Zt,m)):(i.lanes&l&&(Up(i,s),Yc(s,null,null,l),Wc()),m=i.memoizedState,g=s.memoizedState,m.parent!==u?(m={parent:u,cache:u},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),Rs(s,Zt,u)):(u=g.cache,Rs(s,Zt,u),u!==m.cache&&Lp(s,[Zt],l,!0))),hn(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}var Pp=_e(null),Wa=null,Vi=null;function Rs(i,s,l){Ee(Pp,s._currentValue),s._currentValue=l}function Li(i){i._currentValue=Pp.current,De(Pp)}function Vp(i,s,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===l)break;i=i.return}}function Lp(i,s,l,u){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var S=m.child;g=g.firstContext;e:for(;g!==null;){var M=g;g=m;for(var j=0;j<s.length;j++)if(M.context===s[j]){g.lanes|=l,M=g.alternate,M!==null&&(M.lanes|=l),Vp(g.return,l,i),u||(S=null);break e}g=M.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(r(341));S.lanes|=l,g=S.alternate,g!==null&&(g.lanes|=l),Vp(S,l,i),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===i){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function Gc(i,s,l,u){i=null;for(var m=s,g=!1;m!==null;){if(!g){if(m.flags&524288)g=!0;else if(m.flags&262144)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var M=m.type;$n(m.pendingProps.value,S.value)||(i!==null?i.push(M):i=[M])}}else if(m===Vt.current){if(S=m.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(cu):i=[cu])}m=m.return}i!==null&&Lp(s,i,l,u),s.flags|=262144}function hf(i){for(i=i.firstContext;i!==null;){if(!$n(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ya(i){Wa=i,Vi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function En(i){return Dw(Wa,i)}function mf(i,s){return Wa===null&&Ya(i),Dw(i,s)}function Dw(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Vi===null){if(i===null)throw Error(r(308));Vi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Vi=Vi.next=s;return l}var Ds=!1;function jp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Up(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ns(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Is(i,s,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,At&2){var m=u.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),u.pending=s,s=Wd(i),u0(i,null,l),s}return $d(i,u,s,l),Wd(i)}function $c(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194176)!==0)){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,hs(i,l)}}function Bp(i,s){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?m=g=S:g=g.next=S,l=l.next}while(l!==null);g===null?m=g=s:g=g.next=s}else m=g=s;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var zp=!1;function Wc(){if(zp){var i=tl;if(i!==null)throw i}}function Yc(i,s,l,u){zp=!1;var m=i.updateQueue;Ds=!1;var g=m.firstBaseUpdate,S=m.lastBaseUpdate,M=m.shared.pending;if(M!==null){m.shared.pending=null;var j=M,G=j.next;j.next=null,S===null?g=G:S.next=G,S=j;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,M=ne.lastBaseUpdate,M!==S&&(M===null?ne.firstBaseUpdate=G:M.next=G,ne.lastBaseUpdate=j))}if(g!==null){var le=m.baseState;S=0,ne=G=j=null,M=g;do{var Q=M.lane&-536870913,te=Q!==M.lane;if(te?(nt&Q)===Q:(u&Q)===Q){Q!==0&&Q===el&&(zp=!0),ne!==null&&(ne=ne.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Se=i,Ve=M;Q=s;var kt=l;switch(Ve.tag){case 1:if(Se=Ve.payload,typeof Se=="function"){le=Se.call(kt,le,Q);break e}le=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ve.payload,Q=typeof Se=="function"?Se.call(kt,le,Q):Se,Q==null)break e;le=V({},le,Q);break e;case 2:Ds=!0}}Q=M.callback,Q!==null&&(i.flags|=64,te&&(i.flags|=8192),te=m.callbacks,te===null?m.callbacks=[Q]:te.push(Q))}else te={lane:Q,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ne===null?(G=ne=te,j=le):ne=ne.next=te,S|=Q;if(M=M.next,M===null){if(M=m.shared.pending,M===null)break;te=M,M=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);ne===null&&(j=le),m.baseState=j,m.firstBaseUpdate=G,m.lastBaseUpdate=ne,g===null&&(m.shared.lanes=0),Vs|=S,i.lanes=S,i.memoizedState=le}}function Nw(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Iw(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Nw(l[i],s)}function Kc(i,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&i)===i){u=void 0;var g=l.create,S=l.inst;u=g(),S.destroy=u}l=l.next}while(l!==m)}}catch(M){gt(s,s.return,M)}}function Ms(i,s,l){try{var u=s.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var g=m.next;u=g;do{if((u.tag&i)===i){var S=u.inst,M=S.destroy;if(M!==void 0){S.destroy=void 0,m=s;var j=l;try{M()}catch(G){gt(m,j,G)}}}u=u.next}while(u!==g)}}catch(G){gt(s,s.return,G)}}function Mw(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{Iw(s,l)}catch(u){gt(i,i.return,u)}}}function Ow(i,s,l){l.props=$a(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){gt(i,s,u)}}function Ka(i,s){try{var l=i.ref;if(l!==null){var u=i.stateNode;switch(i.tag){case 26:case 27:case 5:var m=u;break;default:m=u}typeof l=="function"?i.refCleanup=l(m):l.current=m}}catch(g){gt(i,s,g)}}function Wn(i,s){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){gt(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){gt(i,s,m)}else l.current=null}function kw(i){var s=i.type,l=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){gt(i,i.return,m)}}function Pw(i,s,l){try{var u=i.stateNode;VN(u,i.type,l,s),u[Yt]=s}catch(m){gt(i,i.return,m)}}function Vw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Fp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Vw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Hp(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Rf));else if(u!==4&&u!==27&&(i=i.child,i!==null))for(Hp(i,s,l),i=i.sibling;i!==null;)Hp(i,s,l),i=i.sibling}function pf(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(u!==4&&u!==27&&(i=i.child,i!==null))for(pf(i,s,l),i=i.sibling;i!==null;)pf(i,s,l),i=i.sibling}var ji=!1,Mt=!1,qp=!1,Lw=typeof WeakSet=="function"?WeakSet:Set,sn=null,jw=!1;function fN(i,s){if(i=i.containerInfo,vg=Pf,i=t0(i),$m(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var S=0,M=-1,j=-1,G=0,ne=0,le=i,Q=null;t:for(;;){for(var te;le!==l||m!==0&&le.nodeType!==3||(M=S+m),le!==g||u!==0&&le.nodeType!==3||(j=S+u),le.nodeType===3&&(S+=le.nodeValue.length),(te=le.firstChild)!==null;)Q=le,le=te;for(;;){if(le===i)break t;if(Q===l&&++G===m&&(M=S),Q===g&&++ne===u&&(j=S),(te=le.nextSibling)!==null)break;le=Q,Q=le.parentNode}le=te}l=M===-1||j===-1?null:{start:M,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(_g={focusedElem:i,selectionRange:l},Pf=!1,sn=s;sn!==null;)if(s=sn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,sn=i;else for(;sn!==null;){switch(s=sn,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if(i&1024&&g!==null){i=void 0,l=s,m=g.memoizedProps,g=g.memoizedState,u=l.stateNode;try{var Se=$a(l.type,m,l.elementType===l.type);i=u.getSnapshotBeforeUpdate(Se,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ve){gt(l,l.return,Ve)}}break;case 3:if(i&1024){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)Tg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Tg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(i&1024)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,sn=i;break}sn=s.return}return Se=jw,jw=!1,Se}function Uw(i,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Bi(i,l),u&4&&Kc(5,l);break;case 1:if(Bi(i,l),u&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(M){gt(l,l.return,M)}else{var m=$a(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(M){gt(l,l.return,M)}}u&64&&Mw(l),u&512&&Ka(l,l.return);break;case 3:if(Bi(i,l),u&64&&(u=l.updateQueue,u!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Iw(u,i)}catch(M){gt(l,l.return,M)}}break;case 26:Bi(i,l),u&512&&Ka(l,l.return);break;case 27:case 5:Bi(i,l),s===null&&u&4&&kw(l),u&512&&Ka(l,l.return);break;case 12:Bi(i,l);break;case 13:Bi(i,l),u&4&&Fw(i,l);break;case 22:if(m=l.memoizedState!==null||ji,!m){s=s!==null&&s.memoizedState!==null||Mt;var g=ji,S=Mt;ji=m,(Mt=s)&&!S?Os(i,l,(l.subtreeFlags&8772)!==0):Bi(i,l),ji=g,Mt=S}u&512&&(l.memoizedProps.mode==="manual"?Ka(l,l.return):Wn(l,l.return));break;default:Bi(i,l)}}function Bw(i){var s=i.alternate;s!==null&&(i.alternate=null,Bw(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&xa(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Gt=null,Yn=!1;function Ui(i,s,l){for(l=l.child;l!==null;)zw(i,s,l),l=l.sibling}function zw(i,s,l){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(ot,l)}catch{}switch(l.tag){case 26:Mt||Wn(l,s),Ui(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Mt||Wn(l,s);var u=Gt,m=Yn;for(Gt=l.stateNode,Ui(i,s,l),l=l.stateNode,s=l.attributes;s.length;)l.removeAttributeNode(s[0]);xa(l),Gt=u,Yn=m;break;case 5:Mt||Wn(l,s);case 6:m=Gt;var g=Yn;if(Gt=null,Ui(i,s,l),Gt=m,Yn=g,Gt!==null)if(Yn)try{i=Gt,u=l.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)}catch(S){gt(l,s,S)}else try{Gt.removeChild(l.stateNode)}catch(S){gt(l,s,S)}break;case 18:Gt!==null&&(Yn?(s=Gt,l=l.stateNode,s.nodeType===8?Eg(s.parentNode,l):s.nodeType===1&&Eg(s,l),hu(s)):Eg(Gt,l.stateNode));break;case 4:u=Gt,m=Yn,Gt=l.stateNode.containerInfo,Yn=!0,Ui(i,s,l),Gt=u,Yn=m;break;case 0:case 11:case 14:case 15:Mt||Ms(2,l,s),Mt||Ms(4,l,s),Ui(i,s,l);break;case 1:Mt||(Wn(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Ow(l,s,u)),Ui(i,s,l);break;case 21:Ui(i,s,l);break;case 22:Mt||Wn(l,s),Mt=(u=Mt)||l.memoizedState!==null,Ui(i,s,l),Mt=u;break;default:Ui(i,s,l)}}function Fw(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{hu(i)}catch(l){gt(s,s.return,l)}}function hN(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Lw),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Lw),s;default:throw Error(r(435,i.tag))}}function Gp(i,s){var l=hN(i);s.forEach(function(u){var m=AN.bind(null,i,u);l.has(u)||(l.add(u),u.then(m,m))})}function hr(i,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],g=i,S=s,M=S;e:for(;M!==null;){switch(M.tag){case 27:case 5:Gt=M.stateNode,Yn=!1;break e;case 3:Gt=M.stateNode.containerInfo,Yn=!0;break e;case 4:Gt=M.stateNode.containerInfo,Yn=!0;break e}M=M.return}if(Gt===null)throw Error(r(160));zw(g,S,m),Gt=null,Yn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Hw(s,i),s=s.sibling}var Tr=null;function Hw(i,s){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:hr(s,i),mr(i),u&4&&(Ms(3,i,i.return),Kc(3,i),Ms(5,i,i.return));break;case 1:hr(s,i),mr(i),u&512&&(Mt||l===null||Wn(l,l.return)),u&64&&ji&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=Tr;if(hr(s,i),mr(i),u&512&&(Mt||l===null||Wn(l,l.return)),u&4){var g=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){e:{u=i.type,l=i.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":g=m.getElementsByTagName("title")[0],(!g||g[ps]||g[en]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(u),m.head.insertBefore(g,m.querySelector("head > title"))),mn(g,u,l),g[en]=i,St(g),u=g;break e;case"link":var S=kb("link","href",m).get(u+(l.href||""));if(S){for(var M=0;M<S.length;M++)if(g=S[M],g.getAttribute("href")===(l.href==null?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(M,1);break t}}g=m.createElement(u),mn(g,u,l),m.head.appendChild(g);break;case"meta":if(S=kb("meta","content",m).get(u+(l.content||""))){for(M=0;M<S.length;M++)if(g=S[M],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(M,1);break t}}g=m.createElement(u),mn(g,u,l),m.head.appendChild(g);break;default:throw Error(r(468,u))}g[en]=i,St(g),u=g}i.stateNode=u}else Pb(m,i.type,i.stateNode);else i.stateNode=Ob(m,u,i.memoizedProps);else g!==u?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,u===null?Pb(m,i.type,i.stateNode):Ob(m,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Pw(i,i.memoizedProps,l.memoizedProps)}break;case 27:if(u&4&&i.alternate===null){m=i.stateNode,g=i.memoizedProps;try{for(var j=m.firstChild;j;){var G=j.nextSibling,ne=j.nodeName;j[ps]||ne==="HEAD"||ne==="BODY"||ne==="SCRIPT"||ne==="STYLE"||ne==="LINK"&&j.rel.toLowerCase()==="stylesheet"||m.removeChild(j),j=G}for(var le=i.type,Q=m.attributes;Q.length;)m.removeAttributeNode(Q[0]);mn(m,le,g),m[en]=i,m[Yt]=g}catch(Se){gt(i,i.return,Se)}}case 5:if(hr(s,i),mr(i),u&512&&(Mt||l===null||Wn(l,l.return)),i.flags&32){m=i.stateNode;try{ir(m,"")}catch(Se){gt(i,i.return,Se)}}u&4&&i.stateNode!=null&&(m=i.memoizedProps,Pw(i,m,l!==null?l.memoizedProps:m)),u&1024&&(qp=!0);break;case 6:if(hr(s,i),mr(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(Se){gt(i,i.return,Se)}}break;case 3:if(Mf=null,m=Tr,Tr=Nf(s.containerInfo),hr(s,i),Tr=m,mr(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{hu(s.containerInfo)}catch(Se){gt(i,i.return,Se)}qp&&(qp=!1,qw(i));break;case 4:u=Tr,Tr=Nf(i.stateNode.containerInfo),hr(s,i),mr(i),Tr=u;break;case 12:hr(s,i),mr(i);break;case 13:hr(s,i),mr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(eg=wn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Gp(i,u)));break;case 22:if(u&512&&(Mt||l===null||Wn(l,l.return)),j=i.memoizedState!==null,G=l!==null&&l.memoizedState!==null,ne=ji,le=Mt,ji=ne||j,Mt=le||G,hr(s,i),Mt=le,ji=ne,mr(i),s=i.stateNode,s._current=i,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=j?s._visibility&-2:s._visibility|1,j&&(s=ji||Mt,l===null||G||s||sl(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(l=null,s=i;;){if(s.tag===5||s.tag===26||s.tag===27){if(l===null){G=l=s;try{if(m=G.stateNode,j)g=m.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{S=G.stateNode,M=G.memoizedProps.style;var te=M!=null&&M.hasOwnProperty("display")?M.display:null;S.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Se){gt(G,G.return,Se)}}}else if(s.tag===6){if(l===null){G=s;try{G.stateNode.nodeValue=j?"":G.memoizedProps}catch(Se){gt(G,G.return,Se)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Gp(i,l))));break;case 19:hr(s,i),mr(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Gp(i,u)));break;case 21:break;default:hr(s,i),mr(i)}}function mr(i){var s=i.flags;if(s&2){try{if(i.tag!==27){e:{for(var l=i.return;l!==null;){if(Vw(l)){var u=l;break e}l=l.return}throw Error(r(160))}switch(u.tag){case 27:var m=u.stateNode,g=Fp(i);pf(i,g,m);break;case 5:var S=u.stateNode;u.flags&32&&(ir(S,""),u.flags&=-33);var M=Fp(i);pf(i,M,S);break;case 3:case 4:var j=u.stateNode.containerInfo,G=Fp(i);Hp(i,G,j);break;default:throw Error(r(161))}}}catch(ne){gt(i,i.return,ne)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function qw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;qw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Bi(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Uw(i,s.alternate,s),s=s.sibling}function sl(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ms(4,s,s.return),sl(s);break;case 1:Wn(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Ow(s,s.return,l),sl(s);break;case 26:case 27:case 5:Wn(s,s.return),sl(s);break;case 22:Wn(s,s.return),s.memoizedState===null&&sl(s);break;default:sl(s)}i=i.sibling}}function Os(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,m=i,g=s,S=g.flags;switch(g.tag){case 0:case 11:case 15:Os(m,g,l),Kc(4,g);break;case 1:if(Os(m,g,l),u=g,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(G){gt(u,u.return,G)}if(u=g,m=u.updateQueue,m!==null){var M=u.stateNode;try{var j=m.shared.hiddenCallbacks;if(j!==null)for(m.shared.hiddenCallbacks=null,m=0;m<j.length;m++)Nw(j[m],M)}catch(G){gt(u,u.return,G)}}l&&S&64&&Mw(g),Ka(g,g.return);break;case 26:case 27:case 5:Os(m,g,l),l&&u===null&&S&4&&kw(g),Ka(g,g.return);break;case 12:Os(m,g,l);break;case 13:Os(m,g,l),l&&S&4&&Fw(m,g);break;case 22:g.memoizedState===null&&Os(m,g,l),Ka(g,g.return);break;default:Os(m,g,l)}s=s.sibling}}function $p(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Uc(l))}function Wp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Uc(i))}function ks(i,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Gw(i,s,l,u),s=s.sibling}function Gw(i,s,l,u){var m=s.flags;switch(s.tag){case 0:case 11:case 15:ks(i,s,l,u),m&2048&&Kc(9,s);break;case 3:ks(i,s,l,u),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Uc(i)));break;case 12:if(m&2048){ks(i,s,l,u),i=s.stateNode;try{var g=s.memoizedProps,S=g.id,M=g.onPostCommit;typeof M=="function"&&M(S,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(j){gt(s,s.return,j)}}else ks(i,s,l,u);break;case 23:break;case 22:g=s.stateNode,s.memoizedState!==null?g._visibility&4?ks(i,s,l,u):Qc(i,s):g._visibility&4?ks(i,s,l,u):(g._visibility|=4,al(i,s,l,u,(s.subtreeFlags&10256)!==0)),m&2048&&$p(s.alternate,s);break;case 24:ks(i,s,l,u),m&2048&&Wp(s.alternate,s);break;default:ks(i,s,l,u)}}function al(i,s,l,u,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,S=s,M=l,j=u,G=S.flags;switch(S.tag){case 0:case 11:case 15:al(g,S,M,j,m),Kc(8,S);break;case 23:break;case 22:var ne=S.stateNode;S.memoizedState!==null?ne._visibility&4?al(g,S,M,j,m):Qc(g,S):(ne._visibility|=4,al(g,S,M,j,m)),m&&G&2048&&$p(S.alternate,S);break;case 24:al(g,S,M,j,m),m&&G&2048&&Wp(S.alternate,S);break;default:al(g,S,M,j,m)}s=s.sibling}}function Qc(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,u=s,m=u.flags;switch(u.tag){case 22:Qc(l,u),m&2048&&$p(u.alternate,u);break;case 24:Qc(l,u),m&2048&&Wp(u.alternate,u);break;default:Qc(l,u)}s=s.sibling}}var Xc=8192;function ol(i){if(i.subtreeFlags&Xc)for(i=i.child;i!==null;)$w(i),i=i.sibling}function $w(i){switch(i.tag){case 26:ol(i),i.flags&Xc&&i.memoizedState!==null&&tI(Tr,i.memoizedState,i.memoizedProps);break;case 5:ol(i);break;case 3:case 4:var s=Tr;Tr=Nf(i.stateNode.containerInfo),ol(i),Tr=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Xc,Xc=16777216,ol(i),Xc=s):ol(i));break;default:ol(i)}}function Ww(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Zc(i){var s=i.deletions;if(i.flags&16){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];sn=u,Kw(u,i)}Ww(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Yw(i),i=i.sibling}function Yw(i){switch(i.tag){case 0:case 11:case 15:Zc(i),i.flags&2048&&Ms(9,i,i.return);break;case 3:Zc(i);break;case 12:Zc(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&4&&(i.return===null||i.return.tag!==13)?(s._visibility&=-5,gf(i)):Zc(i);break;default:Zc(i)}}function gf(i){var s=i.deletions;if(i.flags&16){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];sn=u,Kw(u,i)}Ww(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ms(8,s,s.return),gf(s);break;case 22:l=s.stateNode,l._visibility&4&&(l._visibility&=-5,gf(s));break;default:gf(s)}i=i.sibling}}function Kw(i,s){for(;sn!==null;){var l=sn;switch(l.tag){case 0:case 11:case 15:Ms(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Uc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,sn=u;else e:for(l=i;sn!==null;){u=sn;var m=u.sibling,g=u.return;if(Bw(u),u===l){sn=null;break e}if(m!==null){m.return=g,sn=m;break e}sn=g}}}function mN(i,s,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(i,s,l,u){return new mN(i,s,l,u)}function Yp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ps(i,s){var l=i.alternate;return l===null?(l=pr(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&31457280,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Qw(i,s){i.flags&=31457282;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function yf(i,s,l,u,m,g){var S=0;if(u=i,typeof i=="function")Yp(i)&&(S=1);else if(typeof i=="string")S=JN(i,l,Oe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case h:return Qa(l.children,m,g,s);case p:S=8,m|=24;break;case y:return i=pr(12,l,s,m|2),i.elementType=y,i.lanes=g,i;case C:return i=pr(13,l,s,m),i.elementType=C,i.lanes=g,i;case R:return i=pr(19,l,s,m),i.elementType=R,i.lanes=g,i;case U:return Xw(l,m,g,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case v:case x:S=10;break e;case E:S=9;break e;case A:S=11;break e;case O:S=14;break e;case D:S=16,u=null;break e}S=29,l=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=pr(S,l,s,m),s.elementType=i,s.type=u,s.lanes=g,s}function Qa(i,s,l,u){return i=pr(7,i,u,s),i.lanes=l,i}function Xw(i,s,l,u){i=pr(22,i,u,s),i.elementType=U,i.lanes=l;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=m._current;if(g===null)throw Error(r(456));if(!(m._pendingVisibility&2)){var S=Ts(g,2);S!==null&&(m._pendingVisibility|=2,Mn(S,g,2))}},attach:function(){var g=m._current;if(g===null)throw Error(r(456));if(m._pendingVisibility&2){var S=Ts(g,2);S!==null&&(m._pendingVisibility&=-3,Mn(S,g,2))}}};return i.stateNode=m,i}function Kp(i,s,l){return i=pr(6,i,null,s),i.lanes=l,i}function Qp(i,s,l){return s=pr(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function zi(i){i.flags|=4}function Zw(i,s){if(s.type!=="stylesheet"||s.state.loading&4)i.flags&=-16777217;else if(i.flags|=16777216,!Vb(s)){if(s=fr.current,s!==null&&((nt&4194176)===nt?Wr!==null:(nt&62914560)!==nt&&!(nt&536870912)||s!==Wr))throw Vc=tp,p0;i.flags|=8192}}function vf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?ds():536870912,i.lanes|=s,cl|=s)}function Jc(i,s){if(!st)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function xt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(s)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&31457280,u|=m.flags&31457280,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=u,i.childLanes=l,s}function pN(i,s,l){var u=s.pendingProps;switch(Jm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(s),null;case 1:return xt(s),null;case 3:return l=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Li(Zt),un(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Mc(s)?zi(s):i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Er!==null&&(ig(Er),Er=null))),xt(s),null;case 26:return l=s.memoizedState,i===null?(zi(s),l!==null?(xt(s),Zw(s,l)):(xt(s),s.flags&=-16777217)):l?l!==i.memoizedState?(zi(s),xt(s),Zw(s,l)):(xt(s),s.flags&=-16777217):(i.memoizedProps!==u&&zi(s),xt(s),s.flags&=-16777217),null;case 27:Pr(s),l=ft.current;var m=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&zi(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return xt(s),null}i=Oe.current,Mc(s)?h0(s):(i=Rb(m,u,l),s.stateNode=i,zi(s))}return xt(s),null;case 5:if(Pr(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&zi(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return xt(s),null}if(i=Oe.current,Mc(s))h0(s);else{switch(m=Df(ft.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?m.createElement(l,{is:u.is}):m.createElement(l)}}i[en]=s,i[Yt]=u;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=i;e:switch(mn(i,l,u),l){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&zi(s)}}return xt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&zi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=ft.current,Mc(s)){if(i=s.stateNode,l=s.memoizedProps,u=null,m=In,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}i[en]=s,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Eb(i.nodeValue,l)),i||Ba(s)}else i=Df(i).createTextNode(u),i[en]=s,s.stateNode=i}return xt(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Mc(s),u!==null&&u.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[en]=s}else Oc(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;xt(s),m=!1}else Er!==null&&(ig(Er),Er=null),m=!0;if(!m)return s.flags&256?(Oi(s),s):(Oi(s),null)}if(Oi(s),s.flags&128)return s.lanes=l,s;if(l=u!==null,i=i!==null&&i.memoizedState!==null,l){u=s.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==m&&(u.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),vf(s,s.updateQueue),xt(s),null;case 4:return un(),i===null&&pg(s.stateNode.containerInfo),xt(s),null;case 10:return Li(s.type),xt(s),null;case 19:if(De(Xt),m=s.memoizedState,m===null)return xt(s),null;if(u=(s.flags&128)!==0,g=m.rendering,g===null)if(u)Jc(m,!1);else{if(Ot!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(g=ef(i),g!==null){for(s.flags|=128,Jc(m,!1),i=g.updateQueue,s.updateQueue=i,vf(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)Qw(l,i),l=l.sibling;return Ee(Xt,Xt.current&1|2),s.child}i=i.sibling}m.tail!==null&&wn()>_f&&(s.flags|=128,u=!0,Jc(m,!1),s.lanes=4194304)}else{if(!u)if(i=ef(g),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,vf(s,i),Jc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!g.alternate&&!st)return xt(s),null}else 2*wn()-m.renderingStartTime>_f&&l!==536870912&&(s.flags|=128,u=!0,Jc(m,!1),s.lanes=4194304);m.isBackwards?(g.sibling=s.child,s.child=g):(i=m.last,i!==null?i.sibling=g:s.child=g,m.last=g)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=wn(),s.sibling=null,i=Xt.current,Ee(Xt,u?i&1|2:i&1),s):(xt(s),null);case 22:case 23:return Oi(s),rp(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?l&536870912&&!(s.flags&128)&&(xt(s),s.subtreeFlags&6&&(s.flags|=8192)):xt(s),l=s.updateQueue,l!==null&&vf(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),i!==null&&De(Fa),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Li(Zt),xt(s),null;case 25:return null}throw Error(r(156,s.tag))}function gN(i,s){switch(Jm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Li(Zt),un(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Pr(s),null;case 13:if(Oi(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Oc()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return De(Xt),null;case 4:return un(),null;case 10:return Li(s.type),null;case 22:case 23:return Oi(s),rp(),i!==null&&De(Fa),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Li(Zt),null;case 25:return null;default:return null}}function Jw(i,s){switch(Jm(s),s.tag){case 3:Li(Zt),un();break;case 26:case 27:case 5:Pr(s);break;case 4:un();break;case 13:Oi(s);break;case 19:De(Xt);break;case 10:Li(s.type);break;case 22:case 23:Oi(s),rp(),i!==null&&De(Fa);break;case 24:Li(Zt)}}var yN={getCacheForType:function(i){var s=En(Zt),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},vN=typeof WeakMap=="function"?WeakMap:Map,At=0,yt=null,We=null,nt=0,vt=0,Kn=null,Fi=!1,ll=!1,Xp=!1,Hi=0,Ot=0,Vs=0,Xa=0,Zp=0,gr=0,cl=0,eu=null,Kr=null,Jp=!1,eg=0,_f=1/0,wf=null,Ls=null,bf=!1,Za=null,tu=0,tg=0,ng=null,nu=0,rg=null;function Qn(){if(At&2&&nt!==0)return nt&-nt;if(I.T!==null){var i=el;return i!==0?i:dg()}return Ad()}function eb(){gr===0&&(gr=!(nt&536870912)||st?mc():536870912);var i=fr.current;return i!==null&&(i.flags|=32),gr}function Mn(i,s,l){(i===yt&&vt===2||i.cancelPendingCommit!==null)&&(ul(i,0),qi(i,nt,gr,!1)),jt(i,l),(!(At&2)||i!==yt)&&(i===yt&&(!(At&2)&&(Xa|=l),Ot===4&&qi(i,nt,gr,!1)),Qr(i))}function tb(i,s,l){if(At&6)throw Error(r(327));var u=!l&&(s&60)===0&&(s&i.expiredLanes)===0||nr(i,s),m=u?bN(i,s):og(i,s,!0),g=u;do{if(m===0){ll&&!u&&qi(i,s,0,!1);break}else if(m===6)qi(i,s,0,!Fi);else{if(l=i.current.alternate,g&&!_N(l)){m=og(i,s,!1),g=!1;continue}if(m===2){if(g=s,i.errorRecoveryDisabledLanes&g)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var M=i;m=eu;var j=M.current.memoizedState.isDehydrated;if(j&&(ul(M,S).flags|=256),S=og(M,S,!1),S!==2){if(Xp&&!j){M.errorRecoveryDisabledLanes|=g,Xa|=g,m=4;break e}g=Kr,Kr=m,g!==null&&ig(g)}m=S}if(g=!1,m!==2)continue}}if(m===1){ul(i,0),qi(i,s,0,!0);break}e:{switch(u=i,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194176)===s){qi(u,s,gr,!Fi);break e}break;case 2:Kr=null;break;case 3:case 5:break;default:throw Error(r(329))}if(u.finishedWork=l,u.finishedLanes=s,(s&62914560)===s&&(g=eg+300-wn(),10<g)){if(qi(u,s,gr,!Fi),bn(u,0)!==0)break e;u.timeoutHandle=xb(nb.bind(null,u,l,Kr,wf,Jp,s,gr,Xa,cl,Fi,2,-0,0),g);break e}nb(u,l,Kr,wf,Jp,s,gr,Xa,cl,Fi,0,-0,0)}}break}while(!0);Qr(i)}function ig(i){Kr===null?Kr=i:Kr.push.apply(Kr,i)}function nb(i,s,l,u,m,g,S,M,j,G,ne,le,Q){var te=s.subtreeFlags;if((te&8192||(te&16785408)===16785408)&&(lu={stylesheets:null,count:0,unsuspend:eI},$w(s),s=nI(),s!==null)){i.cancelPendingCommit=s(cb.bind(null,i,l,u,m,S,M,j,1,le,Q)),qi(i,g,S,!G);return}cb(i,l,u,m,S,M,j,ne,le,Q)}function _N(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],g=m.getSnapshot;m=m.value;try{if(!$n(g(),m))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function qi(i,s,l,u){s&=~Zp,s&=~Xa,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var m=s;0<m;){var g=31-Ft(m),S=1<<g;u[g]=-1,m&=~S}l!==0&&fs(i,l,s)}function Ef(){return At&6?!0:(ru(0),!1)}function sg(){if(We!==null){if(vt===0)var i=We.return;else i=We,Vi=Wa=null,dp(i),Zo=null,Lc=0,i=We;for(;i!==null;)Jw(i.alternate,i),i=i.return;We=null}}function ul(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,jN(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),sg(),yt=i,We=l=Ps(i.current,null),nt=s,vt=0,Kn=null,Fi=!1,ll=nr(i,s),Xp=!1,cl=gr=Zp=Xa=Vs=Ot=0,Kr=eu=null,Jp=!1,s&8&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var m=31-Ft(u),g=1<<m;s|=i[m],u&=~g}return Hi=s,Gd(),l}function rb(i,s){Ge=null,I.H=Yr,s===Pc?(s=v0(),vt=3):s===p0?(s=v0(),vt=4):vt=s===gw?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Kn=s,We===null&&(Ot=1,ff(i,cr(s,i.current)))}function ib(){var i=I.H;return I.H=Yr,i===null?Yr:i}function sb(){var i=I.A;return I.A=yN,i}function ag(){Ot=4,Fi||(nt&4194176)!==nt&&fr.current!==null||(ll=!0),!(Vs&134217727)&&!(Xa&134217727)||yt===null||qi(yt,nt,gr,!1)}function og(i,s,l){var u=At;At|=2;var m=ib(),g=sb();(yt!==i||nt!==s)&&(wf=null,ul(i,s)),s=!1;var S=Ot;e:do try{if(vt!==0&&We!==null){var M=We,j=Kn;switch(vt){case 8:sg(),S=6;break e;case 3:case 2:case 6:fr.current===null&&(s=!0);var G=vt;if(vt=0,Kn=null,dl(i,M,j,G),l&&ll){S=0;break e}break;default:G=vt,vt=0,Kn=null,dl(i,M,j,G)}}wN(),S=Ot;break}catch(ne){rb(i,ne)}while(!0);return s&&i.shellSuspendCounter++,Vi=Wa=null,At=u,I.H=m,I.A=g,We===null&&(yt=null,nt=0,Gd()),S}function wN(){for(;We!==null;)ab(We)}function bN(i,s){var l=At;At|=2;var u=ib(),m=sb();yt!==i||nt!==s?(wf=null,_f=wn()+500,ul(i,s)):ll=nr(i,s);e:do try{if(vt!==0&&We!==null){s=We;var g=Kn;t:switch(vt){case 1:vt=0,Kn=null,dl(i,s,g,1);break;case 2:if(g0(g)){vt=0,Kn=null,ob(s);break}s=function(){vt===2&&yt===i&&(vt=7),Qr(i)},g.then(s,s);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:g0(g)?(vt=0,Kn=null,ob(s)):(vt=0,Kn=null,dl(i,s,g,7));break;case 5:var S=null;switch(We.tag){case 26:S=We.memoizedState;case 5:case 27:var M=We;if(!S||Vb(S)){vt=0,Kn=null;var j=M.sibling;if(j!==null)We=j;else{var G=M.return;G!==null?(We=G,Tf(G)):We=null}break t}}vt=0,Kn=null,dl(i,s,g,5);break;case 6:vt=0,Kn=null,dl(i,s,g,6);break;case 8:sg(),Ot=6;break e;default:throw Error(r(462))}}EN();break}catch(ne){rb(i,ne)}while(!0);return Vi=Wa=null,I.H=u,I.A=m,At=l,We!==null?0:(yt=null,nt=0,Gd(),Ot)}function EN(){for(;We!==null&&!fc();)ab(We)}function ab(i){var s=Rw(i.alternate,i,Hi);i.memoizedProps=i.pendingProps,s===null?Tf(i):We=s}function ob(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=Ew(l,s,s.pendingProps,s.type,void 0,nt);break;case 11:s=Ew(l,s,s.pendingProps,s.type.render,s.ref,nt);break;case 5:dp(s);default:Jw(l,s),s=We=Qw(s,Hi),s=Rw(l,s,Hi)}i.memoizedProps=i.pendingProps,s===null?Tf(i):We=s}function dl(i,s,l,u){Vi=Wa=null,dp(s),Zo=null,Lc=0;var m=s.return;try{if(uN(i,m,s,l,nt)){Ot=1,ff(i,cr(l,i.current)),We=null;return}}catch(g){if(m!==null)throw We=m,g;Ot=1,ff(i,cr(l,i.current)),We=null;return}s.flags&32768?(st||u===1?i=!0:ll||nt&536870912?i=!1:(Fi=i=!0,(u===2||u===3||u===6)&&(u=fr.current,u!==null&&u.tag===13&&(u.flags|=16384))),lb(s,i)):Tf(s)}function Tf(i){var s=i;do{if(s.flags&32768){lb(s,Fi);return}i=s.return;var l=pN(s.alternate,s,Hi);if(l!==null){We=l;return}if(s=s.sibling,s!==null){We=s;return}We=s=i}while(s!==null);Ot===0&&(Ot=5)}function lb(i,s){do{var l=gN(i.alternate,i);if(l!==null){l.flags&=32767,We=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){We=i;return}We=i=l}while(i!==null);Ot=6,We=null}function cb(i,s,l,u,m,g,S,M,j,G){var ne=I.T,le=de.p;try{de.p=2,I.T=null,TN(i,s,l,u,le,m,g,S,M,j,G)}finally{I.T=ne,de.p=le}}function TN(i,s,l,u,m,g,S,M){do fl();while(Za!==null);if(At&6)throw Error(r(327));var j=i.finishedWork;if(u=i.finishedLanes,j===null)return null;if(i.finishedWork=null,i.finishedLanes=0,j===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var G=j.lanes|j.childLanes;if(G|=Qm,Sd(i,u,G,g,S,M),i===yt&&(We=yt=null,nt=0),!(j.subtreeFlags&10256)&&!(j.flags&10256)||bf||(bf=!0,tg=G,ng=l,CN(_r,function(){return fl(),null})),l=(j.flags&15990)!==0,j.subtreeFlags&15990||l?(l=I.T,I.T=null,g=de.p,de.p=2,S=At,At|=4,fN(i,j),Hw(j,i),WD(_g,i.containerInfo),Pf=!!vg,_g=vg=null,i.current=j,Uw(i,j.alternate,j),Ea(),At=S,de.p=g,I.T=l):i.current=j,bf?(bf=!1,Za=i,tu=u):ub(i,G),G=i.pendingLanes,G===0&&(Ls=null),Vn(j.stateNode),Qr(i),s!==null)for(m=i.onRecoverableError,j=0;j<s.length;j++)G=s[j],m(G.value,{componentStack:G.stack});return tu&3&&fl(),G=i.pendingLanes,u&4194218&&G&42?i===rg?nu++:(nu=0,rg=i):nu=0,ru(0),null}function ub(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Uc(s)))}function fl(){if(Za!==null){var i=Za,s=tg;tg=0;var l=xd(tu),u=I.T,m=de.p;try{if(de.p=32>l?32:l,I.T=null,Za===null)var g=!1;else{l=ng,ng=null;var S=Za,M=tu;if(Za=null,tu=0,At&6)throw Error(r(331));var j=At;if(At|=4,Yw(S.current),Gw(S,S.current,M,l),At=j,ru(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(ot,S)}catch{}g=!0}return g}finally{de.p=m,I.T=u,ub(i,s)}}return!1}function db(i,s,l){s=cr(l,s),s=xp(i.stateNode,s,2),i=Is(i,s,2),i!==null&&(jt(i,2),Qr(i))}function gt(i,s,l){if(i.tag===3)db(i,i,l);else for(;s!==null;){if(s.tag===3){db(s,i,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ls===null||!Ls.has(u))){i=cr(l,i),l=mw(2),u=Is(s,l,2),u!==null&&(pw(l,u,s,i),jt(u,2),Qr(u));break}}s=s.return}}function lg(i,s,l){var u=i.pingCache;if(u===null){u=i.pingCache=new vN;var m=new Set;u.set(s,m)}else m=u.get(s),m===void 0&&(m=new Set,u.set(s,m));m.has(l)||(Xp=!0,m.add(l),i=SN.bind(null,i,s,l),s.then(i,i))}function SN(i,s,l){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,yt===i&&(nt&l)===l&&(Ot===4||Ot===3&&(nt&62914560)===nt&&300>wn()-eg?!(At&2)&&ul(i,0):Zp|=l,cl===nt&&(cl=0)),Qr(i)}function fb(i,s){s===0&&(s=ds()),i=Ts(i,s),i!==null&&(jt(i,s),Qr(i))}function xN(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),fb(i,l)}function AN(i,s){var l=0;switch(i.tag){case 13:var u=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),fb(i,l)}function CN(i,s){return bi(i,s)}var Sf=null,hl=null,cg=!1,xf=!1,ug=!1,Ja=0;function Qr(i){i!==hl&&i.next===null&&(hl===null?Sf=hl=i:hl=hl.next=i),xf=!0,cg||(cg=!0,DN(RN))}function ru(i,s){if(!ug&&xf){ug=!0;do for(var l=!1,u=Sf;u!==null;){if(i!==0){var m=u.pendingLanes;if(m===0)var g=0;else{var S=u.suspendedLanes,M=u.pingedLanes;g=(1<<31-Ft(42|i)+1)-1,g&=m&~(S&~M),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(l=!0,pb(u,g))}else g=nt,g=bn(u,u===yt?g:0),!(g&3)||nr(u,g)||(l=!0,pb(u,g));u=u.next}while(l);ug=!1}}function RN(){xf=cg=!1;var i=0;Ja!==0&&(LN()&&(i=Ja),Ja=0);for(var s=wn(),l=null,u=Sf;u!==null;){var m=u.next,g=hb(u,s);g===0?(u.next=null,l===null?Sf=m:l.next=m,m===null&&(hl=l)):(l=u,(i!==0||g&3)&&(xf=!0)),u=m}ru(i)}function hb(i,s){for(var l=i.suspendedLanes,u=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var S=31-Ft(g),M=1<<S,j=m[S];j===-1?(!(M&l)||M&u)&&(m[S]=Io(M,s)):j<=s&&(i.expiredLanes|=M),g&=~M}if(s=yt,l=nt,l=bn(i,i===s?l:0),u=i.callbackNode,l===0||i===s&&vt===2||i.cancelPendingCommit!==null)return u!==null&&u!==null&&us(u),i.callbackNode=null,i.callbackPriority=0;if(!(l&3)||nr(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(u!==null&&us(u),xd(l)){case 2:case 8:l=zt;break;case 32:l=_r;break;case 268435456:l=Ta;break;default:l=_r}return u=mb.bind(null,i),l=bi(l,u),i.callbackPriority=s,i.callbackNode=l,s}return u!==null&&u!==null&&us(u),i.callbackPriority=2,i.callbackNode=null,2}function mb(i,s){var l=i.callbackNode;if(fl()&&i.callbackNode!==l)return null;var u=nt;return u=bn(i,i===yt?u:0),u===0?null:(tb(i,u,s),hb(i,wn()),i.callbackNode!=null&&i.callbackNode===l?mb.bind(null,i):null)}function pb(i,s){if(fl())return null;tb(i,s,!0)}function DN(i){UN(function(){At&6?bi(Lt,i):i()})}function dg(){return Ja===0&&(Ja=mc()),Ja}function gb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ur(""+i)}function yb(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function NN(i,s,l,u,m){if(s==="submit"&&l&&l.stateNode===m){var g=gb((m[Yt]||null).action),S=u.submitter;S&&(s=(s=S[Yt]||null)?gb(s.formAction):S.getAttribute("formAction"),s!==null&&(g=s,S=null));var M=new jo("action","action",null,u,m);i.push({event:M,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ja!==0){var j=S?yb(m,S):new FormData(m);wp(l,{pending:!0,data:j,method:m.method,action:g},null,j)}}else typeof g=="function"&&(M.preventDefault(),j=S?yb(m,S):new FormData(m),wp(l,{pending:!0,data:j,method:m.method,action:g},g,j))},currentTarget:m}]})}}for(var fg=0;fg<c0.length;fg++){var hg=c0[fg],IN=hg.toLowerCase(),MN=hg[0].toUpperCase()+hg.slice(1);br(IN,"on"+MN)}br(i0,"onAnimationEnd"),br(s0,"onAnimationIteration"),br(a0,"onAnimationStart"),br("dblclick","onDoubleClick"),br("focusin","onFocus"),br("focusout","onBlur"),br(KD,"onTransitionRun"),br(QD,"onTransitionStart"),br(XD,"onTransitionCancel"),br(o0,"onTransitionEnd"),Ln("onMouseEnter",["mouseout","mouseover"]),Ln("onMouseLeave",["mouseout","mouseover"]),Ln("onPointerEnter",["pointerout","pointerover"]),Ln("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ON=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(iu));function vb(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],m=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var S=u.length-1;0<=S;S--){var M=u[S],j=M.instance,G=M.currentTarget;if(M=M.listener,j!==g&&m.isPropagationStopped())break e;g=M,m.currentTarget=G;try{g(m)}catch(ne){df(ne)}m.currentTarget=null,g=j}else for(S=0;S<u.length;S++){if(M=u[S],j=M.instance,G=M.currentTarget,M=M.listener,j!==g&&m.isPropagationStopped())break e;g=M,m.currentTarget=G;try{g(m)}catch(ne){df(ne)}m.currentTarget=null,g=j}}}}function Ze(i,s){var l=s[Sa];l===void 0&&(l=s[Sa]=new Set);var u=i+"__bubble";l.has(u)||(_b(s,i,2,!1),l.add(u))}function mg(i,s,l){var u=0;s&&(u|=4),_b(l,i,u,s)}var Af="_reactListening"+Math.random().toString(36).slice(2);function pg(i){if(!i[Af]){i[Af]=!0,gc.forEach(function(l){l!=="selectionchange"&&(ON.has(l)||mg(l,!1,i),mg(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Af]||(s[Af]=!0,mg("selectionchange",!1,s))}}function _b(i,s,l,u){switch(Fb(s)){case 2:var m=sI;break;case 8:m=aI;break;default:m=Rg}l=m.bind(null,s,l,i),m=void 0,!ar||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),u?m!==void 0?i.addEventListener(s,l,{capture:!0,passive:m}):i.addEventListener(s,l,!0):m!==void 0?i.addEventListener(s,l,{passive:m}):i.addEventListener(s,l,!1)}function gg(i,s,l,u,m){var g=u;if(!(s&1)&&!(s&2)&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var M=u.stateNode.containerInfo;if(M===m||M.nodeType===8&&M.parentNode===m)break;if(S===4)for(S=u.return;S!==null;){var j=S.tag;if((j===3||j===4)&&(j=S.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;S=S.return}for(;M!==null;){if(S=wr(M),S===null)return;if(j=S.tag,j===5||j===6||j===26||j===27){u=g=S;continue e}M=M.parentNode}}u=u.return}Nd(function(){var G=g,ne=Lo(l),le=[];e:{var Q=l0.get(i);if(Q!==void 0){var te=jo,Se=i;switch(i){case"keypress":if(zr(l)===0)break e;case"keydown":case"keyup":te=qo;break;case"focusin":Se="focus",te=zo;break;case"focusout":Se="blur",te=zo;break;case"beforeblur":case"afterblur":te=zo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=or;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Fm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=jd;break;case i0:case s0:case a0:te=Fo;break;case o0:te=Bd;break;case"scroll":case"scrollend":te=Id;break;case"wheel":te=Go;break;case"copy":case"cut":case"paste":te=Ho;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Rc;break;case"toggle":case"beforetoggle":te=Fd}var Ve=(s&4)!==0,kt=!Ve&&(i==="scroll"||i==="scrollend"),$=Ve?Q!==null?Q+"Capture":null:Q;Ve=[];for(var q=G,K;q!==null;){var re=q;if(K=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||K===null||$===null||(re=Da(q,$),re!=null&&Ve.push(su(q,re,K))),kt)break;q=q.return}0<Ve.length&&(Q=new te(Q,Se,null,l,ne),le.push({event:Q,listeners:Ve}))}}if(!(s&7)){e:{if(Q=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",Q&&l!==sr&&(Se=l.relatedTarget||l.fromElement)&&(wr(Se)||Se[Ei]))break e;if((te||Q)&&(Q=ne.window===ne?ne:(Q=ne.ownerDocument)?Q.defaultView||Q.parentWindow:window,te?(Se=l.relatedTarget||l.toElement,te=G,Se=Se?wr(Se):null,Se!==null&&(kt=ie(Se),Ve=Se.tag,Se!==kt||Ve!==5&&Ve!==27&&Ve!==6)&&(Se=null)):(te=null,Se=G),te!==Se)){if(Ve=or,re="onMouseLeave",$="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&(Ve=Rc,re="onPointerLeave",$="onPointerEnter",q="pointer"),kt=te==null?Q:gs(te),K=Se==null?Q:gs(Se),Q=new Ve(re,q+"leave",te,l,ne),Q.target=kt,Q.relatedTarget=K,re=null,wr(ne)===G&&(Ve=new Ve($,q+"enter",Se,l,ne),Ve.target=K,Ve.relatedTarget=kt,re=Ve),kt=re,te&&Se)t:{for(Ve=te,$=Se,q=0,K=Ve;K;K=ml(K))q++;for(K=0,re=$;re;re=ml(re))K++;for(;0<q-K;)Ve=ml(Ve),q--;for(;0<K-q;)$=ml($),K--;for(;q--;){if(Ve===$||$!==null&&Ve===$.alternate)break t;Ve=ml(Ve),$=ml($)}Ve=null}else Ve=null;te!==null&&wb(le,Q,te,Ve,!1),Se!==null&&kt!==null&&wb(le,kt,Se,Ve,!0)}}e:{if(Q=G?gs(G):window,te=Q.nodeName&&Q.nodeName.toLowerCase(),te==="select"||te==="input"&&Q.type==="file")var ve=W_;else if(Qt(Q))if(Y_)ve=GD;else{ve=HD;var $e=FD}else te=Q.nodeName,!te||te.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?G&&bc(G.elementType)&&(ve=W_):ve=qD;if(ve&&(ve=ve(i,G))){Ni(le,ve,l,ne);break e}$e&&$e(i,Q,G),i==="focusout"&&G&&Q.type==="number"&&G.memoizedProps.value!=null&&Vo(Q,"number",Q.value)}switch($e=G?gs(G):window,i){case"focusin":(Qt($e)||$e.contentEditable==="true")&&($o=$e,Wm=G,Ic=null);break;case"focusout":Ic=Wm=$o=null;break;case"mousedown":Ym=!0;break;case"contextmenu":case"mouseup":case"dragend":Ym=!1,n0(le,l,ne);break;case"selectionchange":if(YD)break;case"keydown":case"keyup":n0(le,l,ne)}var Ae;if(qr)e:{switch(i){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else et?X(i,l)&&(Ne="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ne="onCompositionStart");Ne&&(T&&l.locale!=="ko"&&(et||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&et&&(Ae=Tc()):(Br=ne,Es="value"in Br?Br.value:Br.textContent,et=!0)),$e=Cf(G,Ne),0<$e.length&&(Ne=new Ac(Ne,i,null,l,ne),le.push({event:Ne,listeners:$e}),Ae?Ne.data=Ae:(Ae=ue(l),Ae!==null&&(Ne.data=Ae)))),(Ae=w?Kt(i,l):tt(i,l))&&(Ne=Cf(G,"onBeforeInput"),0<Ne.length&&($e=new Ac("onBeforeInput","beforeinput",null,l,ne),le.push({event:$e,listeners:Ne}),$e.data=Ae)),NN(le,i,G,l,ne)}vb(le,s)})}function su(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Cf(i,s){for(var l=s+"Capture",u=[];i!==null;){var m=i,g=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Da(i,l),m!=null&&u.unshift(su(i,m,g)),m=Da(i,s),m!=null&&u.push(su(i,m,g))),i=i.return}return u}function ml(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function wb(i,s,l,u,m){for(var g=s._reactName,S=[];l!==null&&l!==u;){var M=l,j=M.alternate,G=M.stateNode;if(M=M.tag,j!==null&&j===u)break;M!==5&&M!==26&&M!==27||G===null||(j=G,m?(G=Da(l,g),G!=null&&S.unshift(su(l,G,j))):m||(G=Da(l,g),G!=null&&S.push(su(l,G,j)))),l=l.return}S.length!==0&&i.push({event:s,listeners:S})}var kN=/\r\n?/g,PN=/\u0000|\uFFFD/g;function bb(i){return(typeof i=="string"?i:""+i).replace(kN,`
`).replace(PN,"")}function Eb(i,s){return s=bb(s),bb(i)===s}function Rf(){}function mt(i,s,l,u,m,g){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||ir(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&ir(i,""+u);break;case"className":_s(i,"class",u);break;case"tabIndex":_s(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":_s(i,l,u);break;case"style":Dd(i,u,g);break;case"data":if(s!=="object"){_s(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Ur(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(s!=="input"&&mt(i,s,"name",m.name,m,null),mt(i,s,"formEncType",m.formEncType,m,null),mt(i,s,"formMethod",m.formMethod,m,null),mt(i,s,"formTarget",m.formTarget,m,null)):(mt(i,s,"encType",m.encType,m,null),mt(i,s,"method",m.method,m,null),mt(i,s,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Ur(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=Rf);break;case"onScroll":u!=null&&Ze("scroll",i);break;case"onScrollEnd":u!=null&&Ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=Ur(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":Ze("beforetoggle",i),Ze("toggle",i),vs(i,"popover",u);break;case"xlinkActuate":rr(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":rr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":rr(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":rr(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":rr(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":rr(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":rr(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":rr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":rr(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":vs(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Bm.get(l)||l,vs(i,l,u))}}function yg(i,s,l,u,m,g){switch(l){case"style":Dd(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof u=="string"?ir(i,u):(typeof u=="number"||typeof u=="bigint")&&ir(i,""+u);break;case"onScroll":u!=null&&Ze("scroll",i);break;case"onScrollEnd":u!=null&&Ze("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Rf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),s=l.slice(2,m?l.length-7:void 0),g=i[Yt]||null,g=g!=null?g[l]:null,typeof g=="function"&&i.removeEventListener(s,g,m),typeof u=="function")){typeof g!="function"&&g!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,u,m);break e}l in i?i[l]=u:u===!0?i.setAttribute(l,""):vs(i,l,u)}}}function mn(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",i),Ze("load",i);var u=!1,m=!1,g;for(g in l)if(l.hasOwnProperty(g)){var S=l[g];if(S!=null)switch(g){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:mt(i,s,g,S,l,null)}}m&&mt(i,s,"srcSet",l.srcSet,l,null),u&&mt(i,s,"src",l.src,l,null);return;case"input":Ze("invalid",i);var M=g=S=m=null,j=null,G=null;for(u in l)if(l.hasOwnProperty(u)){var ne=l[u];if(ne!=null)switch(u){case"name":m=ne;break;case"type":S=ne;break;case"checked":j=ne;break;case"defaultChecked":G=ne;break;case"value":g=ne;break;case"defaultValue":M=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:mt(i,s,u,ne,l,null)}}Ca(i,g,M,j,G,S,m,!1),Aa(i);return;case"select":Ze("invalid",i),u=S=g=null;for(m in l)if(l.hasOwnProperty(m)&&(M=l[m],M!=null))switch(m){case"value":g=M;break;case"defaultValue":S=M;break;case"multiple":u=M;default:mt(i,s,m,M,l,null)}s=g,l=S,i.multiple=!!u,s!=null?it(i,!!u,s,!1):l!=null&&it(i,!!u,l,!0);return;case"textarea":Ze("invalid",i),g=m=u=null;for(S in l)if(l.hasOwnProperty(S)&&(M=l[S],M!=null))switch(S){case"value":u=M;break;case"defaultValue":m=M;break;case"children":g=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:mt(i,s,S,M,l,null)}bs(i,u,m,g),Aa(i);return;case"option":for(j in l)if(l.hasOwnProperty(j)&&(u=l[j],u!=null))switch(j){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:mt(i,s,j,u,l,null)}return;case"dialog":Ze("cancel",i),Ze("close",i);break;case"iframe":case"object":Ze("load",i);break;case"video":case"audio":for(u=0;u<iu.length;u++)Ze(iu[u],i);break;case"image":Ze("error",i),Ze("load",i);break;case"details":Ze("toggle",i);break;case"embed":case"source":case"link":Ze("error",i),Ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(u=l[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:mt(i,s,G,u,l,null)}return;default:if(bc(s)){for(ne in l)l.hasOwnProperty(ne)&&(u=l[ne],u!==void 0&&yg(i,s,ne,u,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(u=l[M],u!=null&&mt(i,s,M,u,l,null))}function VN(i,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,S=null,M=null,j=null,G=null,ne=null;for(te in l){var le=l[te];if(l.hasOwnProperty(te)&&le!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":j=le;default:u.hasOwnProperty(te)||mt(i,s,te,null,u,le)}}for(var Q in u){var te=u[Q];if(le=l[Q],u.hasOwnProperty(Q)&&(te!=null||le!=null))switch(Q){case"type":g=te;break;case"name":m=te;break;case"checked":G=te;break;case"defaultChecked":ne=te;break;case"value":S=te;break;case"defaultValue":M=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,s));break;default:te!==le&&mt(i,s,Q,te,u,le)}}ws(i,S,M,j,G,ne,g,m);return;case"select":te=S=M=Q=null;for(g in l)if(j=l[g],l.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":te=j;default:u.hasOwnProperty(g)||mt(i,s,g,null,u,j)}for(m in u)if(g=u[m],j=l[m],u.hasOwnProperty(m)&&(g!=null||j!=null))switch(m){case"value":Q=g;break;case"defaultValue":M=g;break;case"multiple":S=g;default:g!==j&&mt(i,s,m,g,u,j)}s=M,l=S,u=te,Q!=null?it(i,!!l,Q,!1):!!u!=!!l&&(s!=null?it(i,!!l,s,!0):it(i,!!l,l?[]:"",!1));return;case"textarea":te=Q=null;for(M in l)if(m=l[M],l.hasOwnProperty(M)&&m!=null&&!u.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:mt(i,s,M,null,u,m)}for(S in u)if(m=u[S],g=l[S],u.hasOwnProperty(S)&&(m!=null||g!=null))switch(S){case"value":Q=m;break;case"defaultValue":te=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==g&&mt(i,s,S,m,u,g)}Ra(i,Q,te);return;case"option":for(var Se in l)if(Q=l[Se],l.hasOwnProperty(Se)&&Q!=null&&!u.hasOwnProperty(Se))switch(Se){case"selected":i.selected=!1;break;default:mt(i,s,Se,null,u,Q)}for(j in u)if(Q=u[j],te=l[j],u.hasOwnProperty(j)&&Q!==te&&(Q!=null||te!=null))switch(j){case"selected":i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:mt(i,s,j,Q,u,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in l)Q=l[Ve],l.hasOwnProperty(Ve)&&Q!=null&&!u.hasOwnProperty(Ve)&&mt(i,s,Ve,null,u,Q);for(G in u)if(Q=u[G],te=l[G],u.hasOwnProperty(G)&&Q!==te&&(Q!=null||te!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:mt(i,s,G,Q,u,te)}return;default:if(bc(s)){for(var kt in l)Q=l[kt],l.hasOwnProperty(kt)&&Q!==void 0&&!u.hasOwnProperty(kt)&&yg(i,s,kt,void 0,u,Q);for(ne in u)Q=u[ne],te=l[ne],!u.hasOwnProperty(ne)||Q===te||Q===void 0&&te===void 0||yg(i,s,ne,Q,u,te);return}}for(var $ in l)Q=l[$],l.hasOwnProperty($)&&Q!=null&&!u.hasOwnProperty($)&&mt(i,s,$,null,u,Q);for(le in u)Q=u[le],te=l[le],!u.hasOwnProperty(le)||Q===te||Q==null&&te==null||mt(i,s,le,Q,u,te)}var vg=null,_g=null;function Df(i){return i.nodeType===9?i:i.ownerDocument}function Tb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sb(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function wg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var bg=null;function LN(){var i=window.event;return i&&i.type==="popstate"?i===bg?!1:(bg=i,!0):(bg=null,!1)}var xb=typeof setTimeout=="function"?setTimeout:void 0,jN=typeof clearTimeout=="function"?clearTimeout:void 0,Ab=typeof Promise=="function"?Promise:void 0,UN=typeof queueMicrotask=="function"?queueMicrotask:typeof Ab<"u"?function(i){return Ab.resolve(null).then(i).catch(BN)}:xb;function BN(i){setTimeout(function(){throw i})}function Eg(i,s){var l=s,u=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(u===0){i.removeChild(m),hu(s);return}u--}else l!=="$"&&l!=="$?"&&l!=="$!"||u++;l=m}while(l);hu(s)}function Tg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Tg(l),xa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function zN(i,s,l,u){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[ps])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Sr(i.nextSibling),i===null)break}return null}function FN(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Sr(i.nextSibling),i===null))return null;return i}function Sr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}function Cb(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function Rb(i,s,l){switch(s=Df(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var yr=new Map,Db=new Set;function Nf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Gi=de.d;de.d={f:HN,r:qN,D:GN,C:$N,L:WN,m:YN,X:QN,S:KN,M:XN};function HN(){var i=Gi.f(),s=Ef();return i||s}function qN(i){var s=Ti(i);s!==null&&s.tag===5&&s.type==="form"?nw(s):Gi.r(i)}var pl=typeof document>"u"?null:document;function Nb(i,s,l){var u=pl;if(u&&typeof s=="string"&&s){var m=It(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),Db.has(m)||(Db.add(m),i={rel:i,crossOrigin:l,href:s},u.querySelector(m)===null&&(s=u.createElement("link"),mn(s,"link",i),St(s),u.head.appendChild(s)))}}function GN(i){Gi.D(i),Nb("dns-prefetch",i,null)}function $N(i,s){Gi.C(i,s),Nb("preconnect",i,s)}function WN(i,s,l){Gi.L(i,s,l);var u=pl;if(u&&i&&s){var m='link[rel="preload"][as="'+It(s)+'"]';s==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+It(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+It(l.imageSizes)+'"]')):m+='[href="'+It(i)+'"]';var g=m;switch(s){case"style":g=gl(i);break;case"script":g=yl(i)}yr.has(g)||(i=V({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),yr.set(g,i),u.querySelector(m)!==null||s==="style"&&u.querySelector(au(g))||s==="script"&&u.querySelector(ou(g))||(s=u.createElement("link"),mn(s,"link",i),St(s),u.head.appendChild(s)))}}function YN(i,s){Gi.m(i,s);var l=pl;if(l&&i){var u=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+It(u)+'"][href="'+It(i)+'"]',g=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=yl(i)}if(!yr.has(g)&&(i=V({rel:"modulepreload",href:i},s),yr.set(g,i),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ou(g)))return}u=l.createElement("link"),mn(u,"link",i),St(u),l.head.appendChild(u)}}}function KN(i,s,l){Gi.S(i,s,l);var u=pl;if(u&&i){var m=ys(u).hoistableStyles,g=gl(i);s=s||"default";var S=m.get(g);if(!S){var M={loading:0,preload:null};if(S=u.querySelector(au(g)))M.loading=5;else{i=V({rel:"stylesheet",href:i,"data-precedence":s},l),(l=yr.get(g))&&Sg(i,l);var j=S=u.createElement("link");St(j),mn(j,"link",i),j._p=new Promise(function(G,ne){j.onload=G,j.onerror=ne}),j.addEventListener("load",function(){M.loading|=1}),j.addEventListener("error",function(){M.loading|=2}),M.loading|=4,If(S,s,u)}S={type:"stylesheet",instance:S,count:1,state:M},m.set(g,S)}}}function QN(i,s){Gi.X(i,s);var l=pl;if(l&&i){var u=ys(l).hoistableScripts,m=yl(i),g=u.get(m);g||(g=l.querySelector(ou(m)),g||(i=V({src:i,async:!0},s),(s=yr.get(m))&&xg(i,s),g=l.createElement("script"),St(g),mn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function XN(i,s){Gi.M(i,s);var l=pl;if(l&&i){var u=ys(l).hoistableScripts,m=yl(i),g=u.get(m);g||(g=l.querySelector(ou(m)),g||(i=V({src:i,async:!0,type:"module"},s),(s=yr.get(m))&&xg(i,s),g=l.createElement("script"),St(g),mn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function Ib(i,s,l,u){var m=(m=ft.current)?Nf(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=gl(l.href),l=ys(m).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=gl(l.href);var g=ys(m).hoistableStyles,S=g.get(i);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,S),(g=m.querySelector(au(i)))&&!g._p&&(S.instance=g,S.state.loading=5),yr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},yr.set(i,l),g||ZN(m,i,l,S.state))),s&&u===null)throw Error(r(528,""));return S}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=yl(l),l=ys(m).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function gl(i){return'href="'+It(i)+'"'}function au(i){return'link[rel="stylesheet"]['+i+"]"}function Mb(i){return V({},i,{"data-precedence":i.precedence,precedence:null})}function ZN(i,s,l,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),mn(s,"link",l),St(s),i.head.appendChild(s))}function yl(i){return'[src="'+It(i)+'"]'}function ou(i){return"script[async]"+i}function Ob(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+It(l.href)+'"]');if(u)return s.instance=u,St(u),u;var m=V({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),St(u),mn(u,"style",m),If(u,l.precedence,i),s.instance=u;case"stylesheet":m=gl(l.href);var g=i.querySelector(au(m));if(g)return s.state.loading|=4,s.instance=g,St(g),g;u=Mb(l),(m=yr.get(m))&&Sg(u,m),g=(i.ownerDocument||i).createElement("link"),St(g);var S=g;return S._p=new Promise(function(M,j){S.onload=M,S.onerror=j}),mn(g,"link",u),s.state.loading|=4,If(g,l.precedence,i),s.instance=g;case"script":return g=yl(l.src),(m=i.querySelector(ou(g)))?(s.instance=m,St(m),m):(u=l,(m=yr.get(g))&&(u=V({},l),xg(u,m)),i=i.ownerDocument||i,m=i.createElement("script"),St(m),mn(m,"link",u),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&!(s.state.loading&4)&&(u=s.instance,s.state.loading|=4,If(u,l.precedence,i));return s.instance}function If(i,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,g=m,S=0;S<u.length;S++){var M=u[S];if(M.dataset.precedence===s)g=M;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function Sg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function xg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Mf=null;function kb(i,s,l){if(Mf===null){var u=new Map,m=Mf=new Map;m.set(l,u)}else m=Mf,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var g=l[m];if(!(g[ps]||g[en]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(s)||"";S=i+S;var M=u.get(S);M?M.push(g):u.set(S,[g])}}return u}function Pb(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function JN(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Vb(i){return!(i.type==="stylesheet"&&!(i.state.loading&3))}var lu=null;function eI(){}function tI(i,s,l){if(lu===null)throw Error(r(475));var u=lu;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&!(s.state.loading&4)){if(s.instance===null){var m=gl(l.href),g=i.querySelector(au(m));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Of.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=g,St(g);return}g=i.ownerDocument||i,l=Mb(l),(m=yr.get(m))&&Sg(l,m),g=g.createElement("link"),St(g);var S=g;S._p=new Promise(function(M,j){S.onload=M,S.onerror=j}),mn(g,"link",l),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&!(s.state.loading&3)&&(u.count++,s=Of.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function nI(){if(lu===null)throw Error(r(475));var i=lu;return i.stylesheets&&i.count===0&&Ag(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&Ag(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Of(){if(this.count--,this.count===0){if(this.stylesheets)Ag(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var kf=null;function Ag(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,kf=new Map,s.forEach(rI,i),kf=null,Of.call(i))}function rI(i,s){if(!(s.state.loading&4)){var l=kf.get(i);if(l)var u=l.get(null);else{l=new Map,kf.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var S=m[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),u=S)}u&&l.set(null,u)}m=s.instance,S=m.getAttribute("data-precedence"),g=l.get(S)||u,g===u&&l.set(null,m),l.set(S,m),this.count++,u=Of.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var cu={$$typeof:x,Provider:null,Consumer:null,_currentValue:Re,_currentValue2:Re,_threadCount:0};function iI(i,s,l,u,m,g,S,M){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mo(0),this.hiddenUpdates=Mo(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Lb(i,s,l,u,m,g,S,M,j,G,ne,le){return i=new iI(i,s,l,S,M,j,G,le),s=1,g===!0&&(s|=24),g=pr(3,null,null,s),i.current=g,g.stateNode=i,s=ip(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:l,cache:s},jp(g),i}function jb(i){return i?(i=Ko,i):Ko}function Ub(i,s,l,u,m,g){m=jb(m),u.context===null?u.context=m:u.pendingContext=m,u=Ns(s),u.payload={element:l},g=g===void 0?null:g,g!==null&&(u.callback=g),l=Is(i,u,s),l!==null&&(Mn(l,i,s),$c(l,i,s))}function Bb(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Cg(i,s){Bb(i,s),(i=i.alternate)&&Bb(i,s)}function zb(i){if(i.tag===13){var s=Ts(i,67108864);s!==null&&Mn(s,i,67108864),Cg(i,67108864)}}var Pf=!0;function sI(i,s,l,u){var m=I.T;I.T=null;var g=de.p;try{de.p=2,Rg(i,s,l,u)}finally{de.p=g,I.T=m}}function aI(i,s,l,u){var m=I.T;I.T=null;var g=de.p;try{de.p=8,Rg(i,s,l,u)}finally{de.p=g,I.T=m}}function Rg(i,s,l,u){if(Pf){var m=Dg(u);if(m===null)gg(i,s,u,Vf,l),Hb(i,u);else if(lI(m,i,s,l,u))u.stopPropagation();else if(Hb(i,u),s&4&&-1<oI.indexOf(i)){for(;m!==null;){var g=Ti(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=Hn(g.pendingLanes);if(S!==0){var M=g;for(M.pendingLanes|=2,M.entangledLanes|=2;S;){var j=1<<31-Ft(S);M.entanglements[1]|=j,S&=~j}Qr(g),!(At&6)&&(_f=wn()+500,ru(0))}}break;case 13:M=Ts(g,2),M!==null&&Mn(M,g,2),Ef(),Cg(g,2)}if(g=Dg(u),g===null&&gg(i,s,u,Vf,l),g===m)break;m=g}m!==null&&u.stopPropagation()}else gg(i,s,u,null,l)}}function Dg(i){return i=Lo(i),Ng(i)}var Vf=null;function Ng(i){if(Vf=null,i=wr(i),i!==null){var s=ie(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=ae(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Vf=i,null}function Fb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Do()){case Lt:return 2;case zt:return 8;case _r:case No:return 32;case Ta:return 268435456;default:return 32}default:return 32}}var Ig=!1,js=null,Us=null,Bs=null,uu=new Map,du=new Map,zs=[],oI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hb(i,s){switch(i){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":uu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":du.delete(s.pointerId)}}function fu(i,s,l,u,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:g,targetContainers:[m]},s!==null&&(s=Ti(s),s!==null&&zb(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function lI(i,s,l,u,m){switch(s){case"focusin":return js=fu(js,i,s,l,u,m),!0;case"dragenter":return Us=fu(Us,i,s,l,u,m),!0;case"mouseover":return Bs=fu(Bs,i,s,l,u,m),!0;case"pointerover":var g=m.pointerId;return uu.set(g,fu(uu.get(g)||null,i,s,l,u,m)),!0;case"gotpointercapture":return g=m.pointerId,du.set(g,fu(du.get(g)||null,i,s,l,u,m)),!0}return!1}function qb(i){var s=wr(i.target);if(s!==null){var l=ie(s);if(l!==null){if(s=l.tag,s===13){if(s=ae(l),s!==null){i.blockedOn=s,ms(i.priority,function(){if(l.tag===13){var u=Qn(),m=Ts(l,u);m!==null&&Mn(m,l,u),Cg(l,u)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Lf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Dg(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);sr=u,l.target.dispatchEvent(u),sr=null}else return s=Ti(l),s!==null&&zb(s),i.blockedOn=l,!1;s.shift()}return!0}function Gb(i,s,l){Lf(i)&&l.delete(s)}function cI(){Ig=!1,js!==null&&Lf(js)&&(js=null),Us!==null&&Lf(Us)&&(Us=null),Bs!==null&&Lf(Bs)&&(Bs=null),uu.forEach(Gb),du.forEach(Gb)}function jf(i,s){i.blockedOn===s&&(i.blockedOn=null,Ig||(Ig=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,cI)))}var Uf=null;function $b(i){Uf!==i&&(Uf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Uf===i&&(Uf=null);for(var s=0;s<i.length;s+=3){var l=i[s],u=i[s+1],m=i[s+2];if(typeof u!="function"){if(Ng(u||l)===null)continue;break}var g=Ti(l);g!==null&&(i.splice(s,3),s-=3,wp(g,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function hu(i){function s(j){return jf(j,i)}js!==null&&jf(js,i),Us!==null&&jf(Us,i),Bs!==null&&jf(Bs,i),uu.forEach(s),du.forEach(s);for(var l=0;l<zs.length;l++){var u=zs[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<zs.length&&(l=zs[0],l.blockedOn===null);)qb(l),l.blockedOn===null&&zs.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],g=l[u+1],S=m[Yt]||null;if(typeof g=="function")S||$b(l);else if(S){var M=null;if(g&&g.hasAttribute("formAction")){if(m=g,S=g[Yt]||null)M=S.formAction;else if(Ng(m)!==null)continue}else M=S.action;typeof M=="function"?l[u+1]=M:(l.splice(u,3),u-=3),$b(l)}}}function Mg(i){this._internalRoot=i}Bf.prototype.render=Mg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,u=Qn();Ub(l,u,i,s,null,null)},Bf.prototype.unmount=Mg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;i.tag===0&&fl(),Ub(i.current,2,null,i,null,null),Ef(),s[Ei]=null}};function Bf(i){this._internalRoot=i}Bf.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ad();i={blockedOn:null,target:i,priority:s};for(var l=0;l<zs.length&&s!==0&&s<zs[l].priority;l++);zs.splice(l,0,i),l===0&&qb(i)}};var Wb=e.version;if(Wb!=="19.0.0")throw Error(r(527,Wb,"19.0.0"));de.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=ee(s),i=i!==null?he(i):null,i=i===null?null:i.stateNode,i};var uI={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:I,findFiberByHostInstance:wr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zf.isDisabled&&zf.supportsFiber)try{ot=zf.inject(uI),je=zf}catch{}}return pu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,u="",m=uw,g=dw,S=fw,M=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(M=s.unstable_transitionCallbacks)),s=Lb(i,1,!1,null,null,l,u,m,g,S,M,null),i[Ei]=s.current,pg(i.nodeType===8?i.parentNode:i),new Mg(s)},pu.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var u=!1,m="",g=uw,S=dw,M=fw,j=null,G=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(j=l.unstable_transitionCallbacks),l.formState!==void 0&&(G=l.formState)),s=Lb(i,1,!0,s,l??null,u,m,g,S,M,j,G),s.context=jb(null),l=s.current,u=Qn(),m=Ns(u),m.callback=null,Is(l,m,u),s.current.lanes=u,jt(s,u),Qr(s),i[Ei]=s.current,pg(i),new Bf(s)},pu.version="19.0.0",pu}var rE;function bI(){if(rE)return Pg.exports;rE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pg.exports=wI(),Pg.exports}var EI=bI();const TI=nv(EI);var gu={},iE;function SI(){if(iE)return gu;iE=1,Object.defineProperty(gu,"__esModule",{value:!0}),gu.parse=c,gu.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,x){const A=new o,C=E.length;if(C<2)return A;const R=(x==null?void 0:x.decode)||y;let O=0;do{const D=E.indexOf("=",O);if(D===-1)break;const U=E.indexOf(";",O),H=U===-1?C:U;if(D>H){O=E.lastIndexOf(";",D-1)+1;continue}const W=d(E,O,D),Z=h(E,D,W),k=E.slice(W,Z);if(A[k]===void 0){let N=d(E,D+1,H),I=h(E,H,N);const V=R(E.slice(N,I));A[k]=V}O=H+1}while(O<C);return A}function d(E,x,A){do{const C=E.charCodeAt(x);if(C!==32&&C!==9)return x}while(++x<A);return A}function h(E,x,A){for(;x>A;){const C=E.charCodeAt(--x);if(C!==32&&C!==9)return x+1}return A}function p(E,x,A){const C=(A==null?void 0:A.encode)||encodeURIComponent;if(!t.test(E))throw new TypeError(`argument name is invalid: ${E}`);const R=C(x);if(!e.test(R))throw new TypeError(`argument val is invalid: ${x}`);let O=E+"="+R;if(!A)return O;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);O+="; Max-Age="+A.maxAge}if(A.domain){if(!n.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);O+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);O+="; Path="+A.path}if(A.expires){if(!v(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);O+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(O+="; HttpOnly"),A.secure&&(O+="; Secure"),A.partitioned&&(O+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return O}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function v(E){return a.call(E)==="[object Date]"}return gu}SI();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sE="popstate";function xI(t={}){function e(r,a){let{pathname:o,search:c,hash:d}=r.location;return hy("",{pathname:o,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Pu(a)}return CI(e,n,null,t)}function Ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ci(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AI(){return Math.random().toString(36).substring(2,10)}function aE(t,e){return{usr:t.state,key:t.key,idx:e}}function hy(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ql(e):e,state:n,key:e&&e.key||r||AI()}}function Pu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ql(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function CI(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,c=a.history,d="POP",h=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function v(){d="POP";let R=y(),O=R==null?null:R-p;p=R,h&&h({action:d,location:C.location,delta:O})}function E(R,O){d="PUSH";let D=hy(C.location,R,O);p=y()+1;let U=aE(D,p),H=C.createHref(D);try{c.pushState(U,"",H)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;a.location.assign(H)}o&&h&&h({action:d,location:C.location,delta:1})}function x(R,O){d="REPLACE";let D=hy(C.location,R,O);p=y();let U=aE(D,p),H=C.createHref(D);c.replaceState(U,"",H),o&&h&&h({action:d,location:C.location,delta:0})}function A(R){let O=a.location.origin!=="null"?a.location.origin:a.location.href,D=typeof R=="string"?R:Pu(R);return D=D.replace(/ $/,"%20"),Ct(O,`No window.location.(origin|href) available to create URL for href: ${D}`),new URL(D,O)}let C={get action(){return d},get location(){return t(a,c)},listen(R){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(sE,v),h=R,()=>{a.removeEventListener(sE,v),h=null}},createHref(R){return e(a,R)},createURL:A,encodeLocation(R){let O=A(R);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:E,replace:x,go(R){return c.go(R)}};return C}function bS(t,e,n="/"){return RI(t,e,n,!1)}function RI(t,e,n,r){let a=typeof e=="string"?Ql(e):e,o=ia(a.pathname||"/",n);if(o==null)return null;let c=ES(t);DI(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let p=BI(o);d=jI(c[h],p,r)}return d}function ES(t,e=[],n=[],r=""){let a=(o,c,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};h.relativePath.startsWith("/")&&(Ct(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=es([r,h.relativePath]),y=n.concat(h);o.children&&o.children.length>0&&(Ct(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),ES(o.children,e,y,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:VI(p,o.index),routesMeta:y})};return t.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,c);else for(let h of TS(o.path))a(o,c,h)}),e}function TS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let c=TS(r.join("/")),d=[];return d.push(...c.map(h=>h===""?o:[o,h].join("/"))),a&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function DI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:LI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var NI=/^:[\w-]+$/,II=3,MI=2,OI=1,kI=10,PI=-2,oE=t=>t==="*";function VI(t,e){let n=t.split("/"),r=n.length;return n.some(oE)&&(r+=PI),e&&(r+=MI),n.filter(a=>!oE(a)).reduce((a,o)=>a+(NI.test(o)?II:o===""?OI:kI),r)}function LI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function jI(t,e,n=!1){let{routesMeta:r}=t,a={},o="/",c=[];for(let d=0;d<r.length;++d){let h=r[d],p=d===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",v=yh({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},y),E=h.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=yh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:es([o,v.pathname]),pathnameBase:qI(es([o,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(o=es([o,v.pathnameBase]))}return c}function yh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=UI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:v},E)=>{if(y==="*"){let A=d[E]||"";c=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const x=d[E];return v&&!x?p[y]=void 0:p[y]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:t}}function UI(t,e=!1,n=!0){ci(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function BI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ci(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ia(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function zI(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Ql(t):t;return{pathname:n?n.startsWith("/")?n:FI(n,e):e,search:GI(r),hash:$I(a)}}function FI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ug(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function SS(t){let e=HI(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function xS(t,e,n,r=!1){let a;typeof t=="string"?a=Ql(t):(a={...t},Ct(!a.pathname||!a.pathname.includes("?"),Ug("?","pathname","search",a)),Ct(!a.pathname||!a.pathname.includes("#"),Ug("#","pathname","hash",a)),Ct(!a.search||!a.search.includes("#"),Ug("#","search","hash",a)));let o=t===""||a.pathname==="",c=o?"/":a.pathname,d;if(c==null)d=n;else{let v=e.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),v-=1;a.pathname=E.join("/")}d=v>=0?e[v]:"/"}let h=zI(a,d),p=c&&c!=="/"&&c.endsWith("/"),y=(o||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||y)&&(h.pathname+="/"),h}var es=t=>t.join("/").replace(/\/\/+/g,"/"),qI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),GI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$I=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function WI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var AS=["POST","PUT","PATCH","DELETE"];new Set(AS);var YI=["GET",...AS];new Set(YI);var Xl=b.createContext(null);Xl.displayName="DataRouter";var $h=b.createContext(null);$h.displayName="DataRouterState";var CS=b.createContext({isTransitioning:!1});CS.displayName="ViewTransition";var KI=b.createContext(new Map);KI.displayName="Fetchers";var QI=b.createContext(null);QI.displayName="Await";var pi=b.createContext(null);pi.displayName="Navigation";var Xu=b.createContext(null);Xu.displayName="Location";var ls=b.createContext({outlet:null,matches:[],isDataRoute:!1});ls.displayName="Route";var iv=b.createContext(null);iv.displayName="RouteError";function XI(t,{relative:e}={}){Ct(Zu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(pi),{hash:a,pathname:o,search:c}=Ju(t,{relative:e}),d=o;return n!=="/"&&(d=o==="/"?n:es([n,o])),r.createHref({pathname:d,search:c,hash:a})}function Zu(){return b.useContext(Xu)!=null}function bo(){return Ct(Zu(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Xu).location}var RS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DS(t){b.useContext(pi).static||b.useLayoutEffect(t)}function ZI(){let{isDataRoute:t}=b.useContext(ls);return t?dM():JI()}function JI(){Ct(Zu(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(Xl),{basename:e,navigator:n}=b.useContext(pi),{matches:r}=b.useContext(ls),{pathname:a}=bo(),o=JSON.stringify(SS(r)),c=b.useRef(!1);return DS(()=>{c.current=!0}),b.useCallback((h,p={})=>{if(ci(c.current,RS),!c.current)return;if(typeof h=="number"){n.go(h);return}let y=xS(h,JSON.parse(o),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:es([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,o,a,t])}b.createContext(null);function Ju(t,{relative:e}={}){let{matches:n}=b.useContext(ls),{pathname:r}=bo(),a=JSON.stringify(SS(n));return b.useMemo(()=>xS(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function eM(t,e){return NS(t,e)}function NS(t,e,n,r){var O;Ct(Zu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=b.useContext(pi),{matches:o}=b.useContext(ls),c=o[o.length-1],d=c?c.params:{},h=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let D=y&&y.path||"";IS(h,!y||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let v=bo(),E;if(e){let D=typeof e=="string"?Ql(e):e;Ct(p==="/"||((O=D.pathname)==null?void 0:O.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${D.pathname}" was given in the \`location\` prop.`),E=D}else E=v;let x=E.pathname||"/",A=x;if(p!=="/"){let D=p.replace(/^\//,"").split("/");A="/"+x.replace(/^\//,"").split("/").slice(D.length).join("/")}let C=bS(t,{pathname:A});ci(y||C!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),ci(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=sM(C&&C.map(D=>Object.assign({},D,{params:Object.assign({},d,D.params),pathname:es([p,a.encodeLocation?a.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?p:es([p,a.encodeLocation?a.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),o,n,r);return e&&R?b.createElement(Xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},R):R}function tM(){let t=uM(),e=WI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=b.createElement(b.Fragment,null,b.createElement("p",null,"💿 Hey developer 👋"),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:o},"ErrorBoundary")," or"," ",b.createElement("code",{style:o},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:a},n):null,c)}var nM=b.createElement(tM,null),rM=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?b.createElement(ls.Provider,{value:this.props.routeContext},b.createElement(iv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iM({routeContext:t,match:e,children:n}){let r=b.useContext(Xl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(ls.Provider,{value:t},n)}function sM(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=n==null?void 0:n.errors;if(o!=null){let h=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);Ct(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,d=-1;if(n)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:y,errors:v}=n,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||E){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,p,y)=>{let v,E=!1,x=null,A=null;n&&(v=o&&p.route.id?o[p.route.id]:void 0,x=p.route.errorElement||nM,c&&(d<0&&y===0?(IS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,A=null):d===y&&(E=!0,A=p.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,y+1)),R=()=>{let O;return v?O=x:E?O=A:p.route.Component?O=b.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=h,b.createElement(iM,{match:p,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:O})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?b.createElement(rM,{location:n.location,revalidation:n.revalidation,component:x,error:v,children:R(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):R()},null)}function sv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aM(t){let e=b.useContext(Xl);return Ct(e,sv(t)),e}function oM(t){let e=b.useContext($h);return Ct(e,sv(t)),e}function lM(t){let e=b.useContext(ls);return Ct(e,sv(t)),e}function av(t){let e=lM(t),n=e.matches[e.matches.length-1];return Ct(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function cM(){return av("useRouteId")}function uM(){var r;let t=b.useContext(iv),e=oM("useRouteError"),n=av("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function dM(){let{router:t}=aM("useNavigate"),e=av("useNavigate"),n=b.useRef(!1);return DS(()=>{n.current=!0}),b.useCallback(async(a,o={})=>{ci(n.current,RS),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var lE={};function IS(t,e,n){!e&&!lE[t]&&(lE[t]=!0,ci(!1,n))}b.memo(fM);function fM({routes:t,future:e,state:n}){return NS(t,void 0,n,e)}function my(t){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hM({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:o=!1}){Ct(!Zu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof n=="string"&&(n=Ql(n));let{pathname:h="/",search:p="",hash:y="",state:v=null,key:E="default"}=n,x=b.useMemo(()=>{let A=ia(h,c);return A==null?null:{location:{pathname:A,search:p,hash:y,state:v,key:E},navigationType:r}},[c,h,p,y,v,E,r]);return ci(x!=null,`<Router basename="${c}"> is not able to match the URL "${h}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:b.createElement(pi.Provider,{value:d},b.createElement(Xu.Provider,{children:e,value:x}))}function mM({children:t,location:e}){return eM(py(t),e)}function py(t,e=[]){let n=[];return b.Children.forEach(t,(r,a)=>{if(!b.isValidElement(r))return;let o=[...e,a];if(r.type===b.Fragment){n.push.apply(n,py(r.props.children,o));return}Ct(r.type===my,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=py(r.props.children,o)),n.push(c)}),n}var nh="get",rh="application/x-www-form-urlencoded";function Wh(t){return t!=null&&typeof t.tagName=="string"}function pM(t){return Wh(t)&&t.tagName.toLowerCase()==="button"}function gM(t){return Wh(t)&&t.tagName.toLowerCase()==="form"}function yM(t){return Wh(t)&&t.tagName.toLowerCase()==="input"}function vM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _M(t,e){return t.button===0&&(!e||e==="_self")&&!vM(t)}var Ff=null;function wM(){if(Ff===null)try{new FormData(document.createElement("form"),0),Ff=!1}catch{Ff=!0}return Ff}var bM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bg(t){return t!=null&&!bM.has(t)?(ci(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rh}"`),null):t}function EM(t,e){let n,r,a,o,c;if(gM(t)){let d=t.getAttribute("action");r=d?ia(d,e):null,n=t.getAttribute("method")||nh,a=Bg(t.getAttribute("enctype"))||rh,o=new FormData(t)}else if(pM(t)||yM(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(r=h?ia(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||nh,a=Bg(t.getAttribute("formenctype"))||Bg(d.getAttribute("enctype"))||rh,o=new FormData(d,t),!wM()){let{name:p,type:y,value:v}=t;if(y==="image"){let E=p?`${p}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else p&&o.append(p,v)}}else{if(Wh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nh,r=null,a=rh,c=t}return o&&a==="text/plain"&&(c=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:c}}function ov(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function TM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function xM(t,e,n){let r=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await TM(o,n);return c.links?c.links():[]}return[]}));return DM(r.flat(1).filter(SM).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function cE(t,e,n,r,a,o){let c=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,d=(h,p)=>{var y;return n[p].pathname!==h.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,p)=>c(h,p)||d(h,p)):o==="data"?e.filter((h,p)=>{var v;let y=r.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(c(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let E=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function AM(t,e){return CM(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let a=[r.module];return r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function CM(t){return[...new Set(t)]}function RM(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function DM(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let o=JSON.stringify(RM(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}function NM(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function IM(){let t=b.useContext(Xl);return ov(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function MM(){let t=b.useContext($h);return ov(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var lv=b.createContext(void 0);lv.displayName="FrameworkContext";function MS(){let t=b.useContext(lv);return ov(t,"You must render this element inside a <HydratedRouter> element"),t}function OM(t,e){let n=b.useContext(lv),[r,a]=b.useState(!1),[o,c]=b.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,E=b.useRef(null);b.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let C=O=>{O.forEach(D=>{c(D.isIntersecting)})},R=new IntersectionObserver(C,{threshold:.5});return E.current&&R.observe(E.current),()=>{R.disconnect()}}},[t]),b.useEffect(()=>{if(r){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[r]);let x=()=>{a(!0)},A=()=>{a(!1),c(!1)};return n?t!=="intent"?[o,E,{}]:[o,E,{onFocus:yu(d,x),onBlur:yu(h,A),onMouseEnter:yu(p,x),onMouseLeave:yu(y,A),onTouchStart:yu(v,x)}]:[!1,E,{}]}function yu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function kM({page:t,...e}){let{router:n}=IM(),r=b.useMemo(()=>bS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?b.createElement(VM,{page:t,matches:r,...e}):(console.warn(`Tried to prefetch ${t} but no routes matched.`),null)}function PM(t){let{manifest:e,routeModules:n}=MS(),[r,a]=b.useState([]);return b.useEffect(()=>{let o=!1;return xM(t,e,n).then(c=>{o||a(c)}),()=>{o=!0}},[t,e,n]),r}function VM({page:t,matches:e,...n}){let r=bo(),{manifest:a,routeModules:o}=MS(),{loaderData:c,matches:d}=MM(),h=b.useMemo(()=>cE(t,e,d,a,r,"data"),[t,e,d,a,r]),p=b.useMemo(()=>cE(t,e,d,a,r,"assets"),[t,e,d,a,r]),y=b.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,A=!1;if(e.forEach(R=>{var D;let O=a.routes[R.route.id];!O||!O.hasLoader||(!h.some(U=>U.route.id===R.route.id)&&R.route.id in c&&((D=o[R.route.id])!=null&&D.shouldRevalidate)||O.hasClientLoader?A=!0:x.add(R.route.id))}),x.size===0)return[];let C=NM(t);return A&&x.size>0&&C.searchParams.set("_routes",e.filter(R=>x.has(R.route.id)).map(R=>R.route.id).join(",")),[C.pathname+C.search]},[c,r,a,h,e,t,o]),v=b.useMemo(()=>AM(p,a),[p,a]),E=PM(p);return b.createElement(b.Fragment,null,y.map(x=>b.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),v.map(x=>b.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),E.map(({key:x,link:A})=>b.createElement("link",{key:x,...A})))}function LM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var OS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OS&&(window.__reactRouterVersion="7.0.2")}catch{}function jM({basename:t,children:e,window:n}){let r=b.useRef();r.current==null&&(r.current=xI({window:n,v5Compat:!0}));let a=r.current,[o,c]=b.useState({action:a.action,location:a.location}),d=b.useCallback(h=>{b.startTransition(()=>c(h))},[c]);return b.useLayoutEffect(()=>a.listen(d),[a,d]),b.createElement(hM,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:a})}var kS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cv=b.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:c,state:d,target:h,to:p,preventScrollReset:y,viewTransition:v,...E},x){let{basename:A}=b.useContext(pi),C=typeof p=="string"&&kS.test(p),R,O=!1;if(typeof p=="string"&&C&&(R=p,OS))try{let I=new URL(window.location.href),V=p.startsWith("//")?new URL(I.protocol+p):new URL(p),z=ia(V.pathname,A);V.origin===I.origin&&z!=null?p=z+V.search+V.hash:O=!0}catch{ci(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=XI(p,{relative:a}),[U,H,W]=OM(r,E),Z=FM(p,{replace:c,state:d,target:h,preventScrollReset:y,relative:a,viewTransition:v});function k(I){e&&e(I),I.defaultPrevented||Z(I)}let N=b.createElement("a",{...E,...W,href:R||D,onClick:O||o?e:k,ref:LM(x,H),target:h,"data-discover":!C&&n==="render"?"true":void 0});return U&&!C?b.createElement(b.Fragment,null,N,b.createElement(kM,{page:D})):N});cv.displayName="Link";var UM=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:c,viewTransition:d,children:h,...p},y){let v=Ju(c,{relative:p.relative}),E=bo(),x=b.useContext($h),{navigator:A,basename:C}=b.useContext(pi),R=x!=null&&WM(v)&&d===!0,O=A.encodeLocation?A.encodeLocation(v).pathname:v.pathname,D=E.pathname,U=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(D=D.toLowerCase(),U=U?U.toLowerCase():null,O=O.toLowerCase()),U&&C&&(U=ia(U,C)||U);const H=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let W=D===O||!a&&D.startsWith(O)&&D.charAt(H)==="/",Z=U!=null&&(U===O||!a&&U.startsWith(O)&&U.charAt(O.length)==="/"),k={isActive:W,isPending:Z,isTransitioning:R},N=W?e:void 0,I;typeof r=="function"?I=r(k):I=[r,W?"active":null,Z?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(k):o;return b.createElement(cv,{...p,"aria-current":N,className:I,ref:y,style:V,to:c,viewTransition:d},typeof h=="function"?h(k):h)});UM.displayName="NavLink";var BM=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:o,method:c=nh,action:d,onSubmit:h,relative:p,preventScrollReset:y,viewTransition:v,...E},x)=>{let A=GM(),C=$M(d,{relative:p}),R=c.toLowerCase()==="get"?"get":"post",O=typeof d=="string"&&kS.test(d),D=U=>{if(h&&h(U),U.defaultPrevented)return;U.preventDefault();let H=U.nativeEvent.submitter,W=(H==null?void 0:H.getAttribute("formmethod"))||c;A(H||U.currentTarget,{fetcherKey:e,method:W,navigate:n,replace:a,state:o,relative:p,preventScrollReset:y,viewTransition:v})};return b.createElement("form",{ref:x,method:R,action:C,onSubmit:r?h:D,...E,"data-discover":!O&&t==="render"?"true":void 0})});BM.displayName="Form";function zM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PS(t){let e=b.useContext(Xl);return Ct(e,zM(t)),e}function FM(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:c}={}){let d=ZI(),h=bo(),p=Ju(t,{relative:o});return b.useCallback(y=>{if(_M(y,e)){y.preventDefault();let v=n!==void 0?n:Pu(h)===Pu(p);d(t,{replace:v,state:r,preventScrollReset:a,relative:o,viewTransition:c})}},[h,d,p,n,r,e,t,a,o,c])}var HM=0,qM=()=>`__${String(++HM)}__`;function GM(){let{router:t}=PS("useSubmit"),{basename:e}=b.useContext(pi),n=cM();return b.useCallback(async(r,a={})=>{let{action:o,method:c,encType:d,formData:h,body:p}=EM(r,e);if(a.navigate===!1){let y=a.fetcherKey||qM();await t.fetch(y,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function $M(t,{relative:e}={}){let{basename:n}=b.useContext(pi),r=b.useContext(ls);Ct(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Ju(t||".",{relative:e})},c=bo();if(t==null){o.search=c.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(y=>y==="")){d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let y=d.toString();o.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:es([n,o.pathname])),Pu(o)}function WM(t,e={}){let n=b.useContext(CS);Ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=PS("useViewTransitionState"),a=Ju(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=ia(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=ia(n.nextLocation.pathname,r)||n.nextLocation.pathname;return yh(a.pathname,c)!=null||yh(a.pathname,o)!=null}new TextEncoder;var ed=wS();const YM=nv(ed);var uE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},KM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],c=t[n++],d=t[n++],h=((a&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},LS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],c=a+1<t.length,d=c?t[a+1]:0,h=a+2<t.length,p=h?t[a+2]:0,y=o>>2,v=(o&3)<<4|d>>4;let E=(d&15)<<2|p>>6,x=p&63;h||(x=64,c||(E=64)),r.push(n[y],n[v],n[E],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||d==null||p==null||v==null)throw new QM;const E=o<<2|d>>4;if(r.push(E),p!==64){const x=d<<4&240|p>>2;if(r.push(x),v!==64){const A=p<<6&192|v;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class QM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XM=function(t){const e=VS(t);return LS.encodeByteArray(e,!0)},vh=function(t){return XM(t).replace(/\./g,"")},jS=function(t){try{return LS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=()=>ZM().__FIREBASE_DEFAULTS__,eO=()=>{if(typeof process>"u"||typeof uE>"u")return;const t=uE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jS(t[1]);return e&&JSON.parse(e)},Yh=()=>{try{return JM()||eO()||tO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},US=t=>{var e,n;return(n=(e=Yh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},BS=t=>{const e=US(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zS=()=>{var t;return(t=Yh())===null||t===void 0?void 0:t.config},FS=t=>{var e;return(e=Yh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[vh(JSON.stringify(n)),vh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function iO(){var t;const e=(t=Yh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lO(){const t=Cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cO(){return!iO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uO(){try{return typeof indexedDB=="object"}catch{return!1}}function dO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO="FirebaseError";class gi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fO,Object.setPrototypeOf(this,gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,td.prototype.create)}}class td{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?hO(o,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new gi(a,d,r)}}function hO(t,e){return t.replace(mO,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const mO=/\{\$([^}]+)}/g;function pO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],c=e[a];if(dE(o)&&dE(c)){if(!Vu(o,c))return!1}else if(o!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function dE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gO(t,e){const n=new yO(t,e);return n.subscribe.bind(n)}class yO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vO(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=zg),a.error===void 0&&(a.error=zg),a.complete===void 0&&(a.complete=zg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t){return t&&t._delegate?t._delegate:t}class sa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bO(e))try{this.getOrInitializeService({instanceIdentifier:eo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=eo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=eo){return this.instances.has(e)}getOptions(e=eo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&c.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=eo){return this.component?this.component.multipleInstances?e:eo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wO(t){return t===eo?void 0:t}function bO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _O(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const TO={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},SO=Ye.INFO,xO={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},AO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=xO[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uv{constructor(e){this.name=e,this._logLevel=SO,this._logHandler=AO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const CO=(t,e)=>e.some(n=>t instanceof n);let fE,hE;function RO(){return fE||(fE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DO(){return hE||(hE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qS=new WeakMap,gy=new WeakMap,GS=new WeakMap,Fg=new WeakMap,dv=new WeakMap;function NO(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(Zs(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&qS.set(n,t)}).catch(()=>{}),dv.set(e,t),e}function IO(t){if(gy.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});gy.set(t,e)}let yy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function MO(t){yy=t(yy)}function OO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Hg(this),e,...n);return GS.set(r,e.sort?e.sort():[e]),Zs(r)}:DO().includes(t)?function(...e){return t.apply(Hg(this),e),Zs(qS.get(this))}:function(...e){return Zs(t.apply(Hg(this),e))}}function kO(t){return typeof t=="function"?OO(t):(t instanceof IDBTransaction&&IO(t),CO(t,RO())?new Proxy(t,yy):t)}function Zs(t){if(t instanceof IDBRequest)return NO(t);if(Fg.has(t))return Fg.get(t);const e=kO(t);return e!==t&&(Fg.set(t,e),dv.set(e,t)),e}const Hg=t=>dv.get(t);function PO(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const c=indexedDB.open(t,e),d=Zs(c);return r&&c.addEventListener("upgradeneeded",h=>{r(Zs(c.result),h.oldVersion,h.newVersion,Zs(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const VO=["get","getKey","getAll","getAllKeys","count"],LO=["put","add","delete","clear"],qg=new Map;function mE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qg.get(e))return qg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=LO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||VO.includes(n)))return;const o=async function(c,...d){const h=this.transaction(c,a?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&h.done]))[0]};return qg.set(e,o),o}MO(t=>({...t,get:(e,n,r)=>mE(e,n)||t.get(e,n,r),has:(e,n)=>!!mE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function UO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vy="@firebase/app",pE="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new uv("@firebase/app"),BO="@firebase/app-compat",zO="@firebase/analytics-compat",FO="@firebase/analytics",HO="@firebase/app-check-compat",qO="@firebase/app-check",GO="@firebase/auth",$O="@firebase/auth-compat",WO="@firebase/database",YO="@firebase/data-connect",KO="@firebase/database-compat",QO="@firebase/functions",XO="@firebase/functions-compat",ZO="@firebase/installations",JO="@firebase/installations-compat",ek="@firebase/messaging",tk="@firebase/messaging-compat",nk="@firebase/performance",rk="@firebase/performance-compat",ik="@firebase/remote-config",sk="@firebase/remote-config-compat",ak="@firebase/storage",ok="@firebase/storage-compat",lk="@firebase/firestore",ck="@firebase/vertexai",uk="@firebase/firestore-compat",dk="firebase",fk="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="[DEFAULT]",hk={[vy]:"fire-core",[BO]:"fire-core-compat",[FO]:"fire-analytics",[zO]:"fire-analytics-compat",[qO]:"fire-app-check",[HO]:"fire-app-check-compat",[GO]:"fire-auth",[$O]:"fire-auth-compat",[WO]:"fire-rtdb",[YO]:"fire-data-connect",[KO]:"fire-rtdb-compat",[QO]:"fire-fn",[XO]:"fire-fn-compat",[ZO]:"fire-iid",[JO]:"fire-iid-compat",[ek]:"fire-fcm",[tk]:"fire-fcm-compat",[nk]:"fire-perf",[rk]:"fire-perf-compat",[ik]:"fire-rc",[sk]:"fire-rc-compat",[ak]:"fire-gcs",[ok]:"fire-gcs-compat",[lk]:"fire-fst",[uk]:"fire-fst-compat",[ck]:"fire-vertex","fire-js":"fire-js",[dk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Map,mk=new Map,wy=new Map;function gE(t,e){try{t.container.addComponent(e)}catch(n){ts.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fo(t){const e=t.name;if(wy.has(e))return ts.debug(`There were multiple attempts to register component ${e}.`),!1;wy.set(e,t);for(const n of _h.values())gE(n,t);for(const n of mk.values())gE(n,t);return!0}function Kh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Js=new td("app","Firebase",pk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Js.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=fk;function $S(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_y,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw Js.create("bad-app-name",{appName:String(a)});if(n||(n=zS()),!n)throw Js.create("no-options");const o=_h.get(a);if(o){if(Vu(n,o.options)&&Vu(r,o.config))return o;throw Js.create("duplicate-app",{appName:a})}const c=new EO(a);for(const h of wy.values())c.addComponent(h);const d=new gk(n,r,c);return _h.set(a,d),d}function fv(t=_y){const e=_h.get(t);if(!e&&t===_y&&zS())return $S();if(!e)throw Js.create("no-app",{appName:t});return e}function ni(t,e,n){var r;let a=(r=hk[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ts.warn(d.join(" "));return}fo(new sa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk="firebase-heartbeat-database",vk=1,Lu="firebase-heartbeat-store";let Gg=null;function WS(){return Gg||(Gg=PO(yk,vk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Js.create("idb-open",{originalErrorMessage:t.message})})),Gg}async function _k(t){try{const n=(await WS()).transaction(Lu),r=await n.objectStore(Lu).get(YS(t));return await n.done,r}catch(e){if(e instanceof gi)ts.warn(e.message);else{const n=Js.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ts.warn(n.message)}}}async function yE(t,e){try{const r=(await WS()).transaction(Lu,"readwrite");await r.objectStore(Lu).put(e,YS(t)),await r.done}catch(n){if(n instanceof gi)ts.warn(n.message);else{const r=Js.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ts.warn(r.message)}}}function YS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=1024,bk=30*24*60*60*1e3;class Ek{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Sk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=vE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=bk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ts.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vE(),{heartbeatsToSend:r,unsentEntries:a}=Tk(this._heartbeatsCache.heartbeats),o=vh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ts.warn(n),""}}}function vE(){return new Date().toISOString().substring(0,10)}function Tk(t,e=wk){const n=[];let r=t.slice();for(const a of t){const o=n.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),_E(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),_E(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Sk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uO()?dO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _k(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return yE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return yE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function _E(t){return vh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(t){fo(new sa("platform-logger",e=>new jO(e),"PRIVATE")),fo(new sa("heartbeat",e=>new Ek(e),"PRIVATE")),ni(vy,pE,t),ni(vy,pE,"esm2017"),ni("fire-js","")}xk("");var Ak="firebase",Ck="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ni(Ak,Ck,"app");var Xr=function(){return Xr=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Xr.apply(this,arguments)};function rd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function Rk(t,e,n){if(n||arguments.length===2)for(var r=0,a=e.length,o;r<a;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function KS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Dk=KS,QS=new td("auth","Firebase",KS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new uv("@firebase/auth");function Nk(t,...e){wh.logLevel<=Ye.WARN&&wh.warn(`Auth (${Eo}): ${t}`,...e)}function ih(t,...e){wh.logLevel<=Ye.ERROR&&wh.error(`Auth (${Eo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(t,...e){throw mv(t,...e)}function Rr(t,...e){return mv(t,...e)}function hv(t,e,n){const r=Object.assign(Object.assign({},Dk()),{[e]:n});return new td("auth","Firebase",r).create(e,{appName:t.name})}function io(t){return hv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ik(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ui(t,"argument-error"),hv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return QS.create(t,...e)}function ke(t,e,...n){if(!t)throw mv(e,...n)}function Ki(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ih(e),new Error(e)}function ns(t,e){t||Ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Mk(){return wE()==="http:"||wE()==="https:"}function wE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Mk()||aO()||"connection"in navigator)?navigator.onLine:!0}function kk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n){this.shortDelay=e,this.longDelay=n,ns(n>e,"Short delay should be less than long delay!"),this.isMobile=rO()||oO()}get(){return Ok()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t,e){ns(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=new id(3e4,6e4);function gv(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Zl(t,e,n,r,a={}){return ZS(t,a,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const d=nd(Object.assign({key:t.config.apiKey},c)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:h},o);return sO()||(p.referrerPolicy="no-referrer"),XS.fetch()(JS(t,t.config.apiHost,n,d),p)})}async function ZS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Pk),e);try{const a=new jk(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Hf(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[h,p]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hf(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw Hf(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw Hf(t,"user-disabled",c);const y=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw hv(t,y,p);ui(t,y)}}catch(a){if(a instanceof gi)throw a;ui(t,"network-request-failed",{message:String(a)})}}async function Lk(t,e,n,r,a={}){const o=await Zl(t,e,n,r,a);return"mfaPendingCredential"in o&&ui(t,"multi-factor-auth-required",{_serverResponse:o}),o}function JS(t,e,n,r){const a=`${e}${n}?${r}`;return t.config.emulator?pv(t.config,a):`${t.config.apiScheme}://${a}`}class jk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rr(this.auth,"network-request-failed")),Vk.get())})}}function Hf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Rr(t,e,r);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uk(t,e){return Zl(t,"POST","/v1/accounts:delete",e)}async function e1(t,e){return Zl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Bk(t,e=!1){const n=ln(t),r=await n.getIdToken(e),a=yv(r);ke(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:Cu($g(a.auth_time)),issuedAtTime:Cu($g(a.iat)),expirationTime:Cu($g(a.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function $g(t){return Number(t)*1e3}function yv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const a=jS(n);return a?JSON.parse(a):(ih("Failed to decode base64 JWT payload"),null)}catch(a){return ih("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function bE(t){const e=yv(t);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof gi&&zk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function zk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cu(this.lastLoginAt),this.creationTime=Cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bh(t){var e;const n=t.auth,r=await t.getIdToken(),a=await ju(t,e1(n,{idToken:r}));ke(a==null?void 0:a.users.length,n,"internal-error");const o=a.users[0];t._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?t1(o.providerUserInfo):[],d=qk(t.providerData,c),h=t.isAnonymous,p=!(t.email&&o.passwordHash)&&!(d!=null&&d.length),y=h?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Ey(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(t,v)}async function Hk(t){const e=ln(t);await bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qk(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function t1(t){return t.map(e=>{var{providerId:n}=e,r=rd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gk(t,e){const n=await ZS(t,{},async()=>{const r=nd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,c=JS(t,a,"/v1/token",`key=${o}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",XS.fetch()(c,{method:"POST",headers:d,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $k(t,e){return Zl(t,"POST","/v2/accounts:revokeToken",gv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const n=bE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await Gk(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,c=new Al;return r&&(ke(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(ke(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(ke(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Al,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t,e){ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qi{constructor(e){var{uid:n,auth:r,stsTokenManager:a}=e,o=rd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ey(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ju(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Bk(this,e)}reload(){return Hk(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yi(this.auth.app))return Promise.reject(io(this.auth));const e=await this.getIdToken();return await ju(this,Uk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,a,o,c,d,h,p,y;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(a=n.email)!==null&&a!==void 0?a:void 0,x=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(c=n.photoURL)!==null&&c!==void 0?c:void 0,C=(d=n.tenantId)!==null&&d!==void 0?d:void 0,R=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,O=(p=n.createdAt)!==null&&p!==void 0?p:void 0,D=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:U,emailVerified:H,isAnonymous:W,providerData:Z,stsTokenManager:k}=n;ke(U&&k,e,"internal-error");const N=Al.fromJSON(this.name,k);ke(typeof U=="string",e,"internal-error"),Hs(v,e.name),Hs(E,e.name),ke(typeof H=="boolean",e,"internal-error"),ke(typeof W=="boolean",e,"internal-error"),Hs(x,e.name),Hs(A,e.name),Hs(C,e.name),Hs(R,e.name),Hs(O,e.name),Hs(D,e.name);const I=new Qi({uid:U,auth:e,email:E,emailVerified:H,displayName:v,isAnonymous:W,photoURL:A,phoneNumber:x,tenantId:C,stsTokenManager:N,createdAt:O,lastLoginAt:D});return Z&&Array.isArray(Z)&&(I.providerData=Z.map(V=>Object.assign({},V))),R&&(I._redirectEventId=R),I}static async _fromIdTokenResponse(e,n,r=!1){const a=new Al;a.updateFromServerResponse(n);const o=new Qi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await bh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];ke(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?t1(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),d=new Al;d.updateFromIdToken(r);const h=new Qi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Ey(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;function Xi(t){ns(t instanceof Function,"Expected a class definition");let e=EE.get(t);return e?(ns(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,EE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}n1.type="NONE";const TE=n1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t,e,n){return`firebase:${t}:${e}:${n}`}class Cl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=sh(this.userKey,a.apiKey,o),this.fullPersistenceKey=sh("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Qi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Cl(Xi(TE),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||Xi(TE);const c=sh(r,e.config.apiKey,e.name);let d=null;for(const p of n)try{const y=await p._get(c);if(y){const v=Qi._fromJSON(e,y);p!==o&&(d=v),o=p;break}}catch{}const h=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Cl(o,e,r):(o=h[0],d&&await o._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(c)}catch{}})),new Cl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(a1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(r1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(l1(e))return"Blackberry";if(c1(e))return"Webos";if(i1(e))return"Safari";if((e.includes("chrome/")||s1(e))&&!e.includes("edge/"))return"Chrome";if(o1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function r1(t=Cn()){return/firefox\//i.test(t)}function i1(t=Cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function s1(t=Cn()){return/crios\//i.test(t)}function a1(t=Cn()){return/iemobile/i.test(t)}function o1(t=Cn()){return/android/i.test(t)}function l1(t=Cn()){return/blackberry/i.test(t)}function c1(t=Cn()){return/webos/i.test(t)}function vv(t=Cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Wk(t=Cn()){var e;return vv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Yk(){return lO()&&document.documentMode===10}function u1(t=Cn()){return vv(t)||o1(t)||c1(t)||l1(t)||/windows phone/i.test(t)||a1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(t,e=[]){let n;switch(t){case"Browser":n=SE(Cn());break;case"Worker":n=`${SE(Cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((c,d)=>{try{const h=e(o);c(h)}catch(h){d(h)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qk(t,e={}){return Zl(t,"GET","/v2/passwordPolicy",gv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=6;class Zk{constructor(e){var n,r,a,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:Xk,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,a,o,c,d;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(a=h.containsLowercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(c=h.containsNumericCharacter)!==null&&c!==void 0?c:!0),h.isValid&&(h.isValid=(d=h.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xE(this),this.idTokenSubscription=new xE(this),this.beforeStateQueue=new Kk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xi(n)),this._initializationPromise=this.queue(async()=>{var r,a;if(!this._deleted&&(this.persistenceManager=await Cl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await e1(this,{idToken:e}),r=await Qi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Yi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=a==null?void 0:a._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===d)&&(h!=null&&h.user)&&(a=h.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yi(this.app))return Promise.reject(io(this));const n=e?ln(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yi(this.app)?Promise.reject(io(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yi(this.app)?Promise.reject(io(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Qk(this),n=new Zk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new td("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $k(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xi(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await Cl.create(this,[Xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,a);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=d1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Nk(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Qh(t){return ln(t)}class xE{constructor(e){this.auth=e,this.observer=null,this.addObserver=gO(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _v={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function e2(t){_v=t}function t2(t){return _v.loadJS(t)}function n2(){return _v.gapiScript}function r2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t,e){const n=Kh(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(Vu(o,e??{}))return a;ui(a,"already-initialized")}return n.initialize({options:e})}function s2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function a2(t,e,n){const r=Qh(t);ke(r._canInitEmulator,r,"emulator-config-failed"),ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=f1(e),{host:c,port:d}=o2(e),h=d===null?"":`:${d}`;r.config.emulator={url:`${o}//${c}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})}),l2()}function f1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function o2(t){const e=f1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:AE(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:AE(c)}}}function AE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function l2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ki("not implemented")}_getIdTokenResponse(e){return Ki("not implemented")}_linkToIdToken(e,n){return Ki("not implemented")}_getReauthenticationResolver(e){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(t,e){return Lk(t,"POST","/v1/accounts:signInWithIdp",gv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="http://localhost";class ho extends h1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=n,o=rd(n,["providerId","signInMethod"]);if(!r||!a)return null;const c=new ho(r,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Rl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Rl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Rl(e,n)}buildRequest(){const e={requestUri:c2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends wv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends sd{constructor(){super("facebook.com")}static credential(e){return ho._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ys.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends sd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ho._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wi.credential(n,r)}catch{return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com";Wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends sd{constructor(){super("github.com")}static credential(e){return ho._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.GITHUB_SIGN_IN_METHOD="github.com";Ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends sd{constructor(){super("twitter.com")}static credential(e,n){return ho._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qs.credential(n,r)}catch{return null}}}Qs.TWITTER_SIGN_IN_METHOD="twitter.com";Qs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await Qi._fromIdTokenResponse(e,r,a),c=CE(r);return new Ll({user:o,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=CE(r);return new Ll({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function CE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends gi{constructor(e,n,r,a){var o;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Eh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Eh(e,n,r,a)}}function m1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Eh._fromErrorAndOperation(t,o,e,r):o})}async function u2(t,e,n=!1){const r=await ju(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ll._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2(t,e,n=!1){const{auth:r}=t;if(Yi(r.app))return Promise.reject(io(r));const a="reauthenticate";try{const o=await ju(t,m1(r,a,e,t),n);ke(o.idToken,r,"internal-error");const c=yv(o.idToken);ke(c,r,"internal-error");const{sub:d}=c;return ke(t.uid===d,r,"user-mismatch"),Ll._forOperation(t,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ui(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(t,e,n=!1){if(Yi(t.app))return Promise.reject(io(t));const r="signIn",a=await m1(t,r,e),o=await Ll._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}function h2(t,e,n,r){return ln(t).onIdTokenChanged(e,n,r)}function m2(t,e,n){return ln(t).beforeAuthStateChanged(e,n)}function p2(t){return ln(t).signOut()}const Th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=1e3,y2=10;class g1 extends p1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=u1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,h)=>{this.notifyListeners(c,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);Yk()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,y2):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},g2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}g1.type="LOCAL";const v2=g1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1 extends p1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}y1.type="SESSION";const v1=y1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Xh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,o)),h=await _2(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((d,h)=>{const p=bv("",20);a.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(E.data.response);break;default:clearTimeout(y),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function b2(t){ri().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function E2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function T2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function S2(){return _1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="firebaseLocalStorageDb",x2=1,Sh="firebaseLocalStorage",b1="fbase_key";class ad{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zh(t,e){return t.transaction([Sh],e?"readwrite":"readonly").objectStore(Sh)}function A2(){const t=indexedDB.deleteDatabase(w1);return new ad(t).toPromise()}function Ty(){const t=indexedDB.open(w1,x2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Sh,{keyPath:b1})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Sh)?e(r):(r.close(),await A2(),e(await Ty()))})})}async function RE(t,e,n){const r=Zh(t,!0).put({[b1]:e,value:n});return new ad(r).toPromise()}async function C2(t,e){const n=Zh(t,!1).get(e),r=await new ad(n).toPromise();return r===void 0?null:r.value}function DE(t,e){const n=Zh(t,!0).delete(e);return new ad(n).toPromise()}const R2=800,D2=3;class E1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ty(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>D2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(S2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await E2(),!this.activeServiceWorker)return;this.sender=new w2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||T2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ty();return await RE(e,Th,"1"),await DE(e,Th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>RE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>C2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>DE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Zh(a,!1).getAll();return new ad(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),R2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}E1.type="LOCAL";const N2=E1;new id(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(t,e){return e?Xi(e):(ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev extends h1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Rl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function I2(t){return f2(t.auth,new Ev(t),t.bypassAuthState)}function M2(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),d2(n,new Ev(t),t.bypassAuthState)}async function O2(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),u2(n,new Ev(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return I2;case"linkViaPopup":case"linkViaRedirect":return O2;case"reauthViaPopup":case"reauthViaRedirect":return M2;default:ui(this.auth,"internal-error")}}resolve(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=new id(2e3,1e4);async function P2(t,e,n){if(Yi(t.app))return Promise.reject(Rr(t,"operation-not-supported-in-this-environment"));const r=Qh(t);Ik(t,e,wv);const a=T1(r,n);return new no(r,"signInViaPopup",e,a).executeNotNull()}class no extends S1{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){ns(this.filter.length===1,"Popup operations only handle one event");const e=bv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,k2.get())};e()}}no.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="pendingRedirect",ah=new Map;class L2 extends S1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const r=await j2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function j2(t,e){const n=z2(e),r=B2(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function U2(t,e){ah.set(t._key(),e)}function B2(t){return Xi(t._redirectPersistence)}function z2(t){return sh(V2,t.config.apiKey,t.name)}async function F2(t,e,n=!1){if(Yi(t.app))return Promise.reject(io(t));const r=Qh(t),a=T1(r,e),c=await new L2(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=10*60*1e3;class q2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!G2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!x1(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rr(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=H2&&this.cachedEventUids.clear(),this.cachedEventUids.has(NE(e))}saveEventToCache(e){this.cachedEventUids.add(NE(e)),this.lastProcessedEventTime=Date.now()}}function NE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function x1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function G2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return x1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(t,e={}){return Zl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y2=/^https?/;async function K2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $2(t);for(const n of e)try{if(Q2(n))return}catch{}ui(t,"unauthorized-domain")}function Q2(t){const e=by(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!Y2.test(n))return!1;if(W2.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=new id(3e4,6e4);function IE(){const t=ri().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Z2(t){return new Promise((e,n)=>{var r,a,o;function c(){IE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IE(),n(Rr(t,"network-request-failed"))},timeout:X2.get()})}if(!((a=(r=ri().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=ri().gapi)===null||o===void 0)&&o.load)c();else{const d=r2("iframefcb");return ri()[d]=()=>{gapi.load?c():n(Rr(t,"network-request-failed"))},t2(`${n2()}?onload=${d}`).catch(h=>n(h))}}).catch(e=>{throw oh=null,e})}let oh=null;function J2(t){return oh=oh||Z2(t),oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=new id(5e3,15e3),tP="__/auth/iframe",nP="emulator/auth/iframe",rP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sP(t){const e=t.config;ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?pv(e,nP):`https://${t.config.authDomain}/${tP}`,r={apiKey:e.apiKey,appName:t.name,v:Eo},a=iP.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${nd(r).slice(1)}`}async function aP(t){const e=await J2(t),n=ri().gapi;return ke(n,t,"internal-error"),e.open({where:document.body,url:sP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rP,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const c=Rr(t,"network-request-failed"),d=ri().setTimeout(()=>{o(c)},eP.get());function h(){ri().clearTimeout(d),a(r)}r.ping(h).then(h,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lP=500,cP=600,uP="_blank",dP="http://localhost";class ME{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fP(t,e,n,r=lP,a=cP){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h=Object.assign(Object.assign({},oP),{width:r.toString(),height:a.toString(),top:o,left:c}),p=Cn().toLowerCase();n&&(d=s1(p)?uP:n),r1(p)&&(e=e||dP,h.scrollbars="yes");const y=Object.entries(h).reduce((E,[x,A])=>`${E}${x}=${A},`,"");if(Wk(p)&&d!=="_self")return hP(e||"",d),new ME(null);const v=window.open(e||"",d,y);ke(v,t,"popup-blocked");try{v.focus()}catch{}return new ME(v)}function hP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP="__/auth/handler",pP="emulator/auth/handler",gP=encodeURIComponent("fac");async function OE(t,e,n,r,a,o){ke(t.config.authDomain,t,"auth-domain-config-required"),ke(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Eo,eventId:a};if(e instanceof wv){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",pO(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(e instanceof sd){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const h=await t._getAppCheckToken(),p=h?`#${gP}=${encodeURIComponent(h)}`:"";return`${yP(t)}?${nd(d).slice(1)}${p}`}function yP({config:t}){return t.emulator?pv(t,pP):`https://${t.authDomain}/${mP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="webStorageSupport";class vP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=v1,this._completeRedirectFn=F2,this._overrideRedirectResult=U2}async _openPopup(e,n,r,a){var o;ns((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await OE(e,n,r,by(),a);return fP(e,c,bv())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await OE(e,n,r,by(),a);return b2(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(ns(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await aP(e),r=new q2(e);return n.register("authEvent",a=>(ke(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wg,{type:Wg},a=>{var o;const c=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[Wg];c!==void 0&&n(!!c),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=K2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return u1()||i1()||vv()}}const _P=vP;var kE="@firebase/auth",PE="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EP(t){fo(new sa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;ke(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:d1(t)},p=new Jk(r,a,o,h);return s2(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fo(new sa("auth-internal",e=>{const n=Qh(e.getProvider("auth").getImmediate());return(r=>new wP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ni(kE,PE,bP(t)),ni(kE,PE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=5*60,SP=FS("authIdTokenMaxAge")||TP;let VE=null;const xP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>SP)return;const a=n==null?void 0:n.token;VE!==a&&(VE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function AP(t=fv()){const e=Kh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=i2(t,{popupRedirectResolver:_P,persistence:[N2,v2,v1]}),r=FS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=xP(o.toString());m2(n,c,()=>c(n.currentUser)),h2(n,d=>c(d))}}const a=US("auth");return a&&a2(n,`http://${a}`),n}function CP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}e2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=Rr("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",CP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EP("Browser");var LE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var so,A1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,N){function I(){}I.prototype=N.prototype,k.D=N.prototype,k.prototype=new I,k.prototype.constructor=k,k.C=function(V,z,B){for(var L=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)L[ye-2]=arguments[ye];return N.prototype[z].apply(V,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,N,I){I||(I=0);var V=Array(16);if(typeof N=="string")for(var z=0;16>z;++z)V[z]=N.charCodeAt(I++)|N.charCodeAt(I++)<<8|N.charCodeAt(I++)<<16|N.charCodeAt(I++)<<24;else for(z=0;16>z;++z)V[z]=N[I++]|N[I++]<<8|N[I++]<<16|N[I++]<<24;N=k.g[0],I=k.g[1],z=k.g[2];var B=k.g[3],L=N+(B^I&(z^B))+V[0]+3614090360&4294967295;N=I+(L<<7&4294967295|L>>>25),L=B+(z^N&(I^z))+V[1]+3905402710&4294967295,B=N+(L<<12&4294967295|L>>>20),L=z+(I^B&(N^I))+V[2]+606105819&4294967295,z=B+(L<<17&4294967295|L>>>15),L=I+(N^z&(B^N))+V[3]+3250441966&4294967295,I=z+(L<<22&4294967295|L>>>10),L=N+(B^I&(z^B))+V[4]+4118548399&4294967295,N=I+(L<<7&4294967295|L>>>25),L=B+(z^N&(I^z))+V[5]+1200080426&4294967295,B=N+(L<<12&4294967295|L>>>20),L=z+(I^B&(N^I))+V[6]+2821735955&4294967295,z=B+(L<<17&4294967295|L>>>15),L=I+(N^z&(B^N))+V[7]+4249261313&4294967295,I=z+(L<<22&4294967295|L>>>10),L=N+(B^I&(z^B))+V[8]+1770035416&4294967295,N=I+(L<<7&4294967295|L>>>25),L=B+(z^N&(I^z))+V[9]+2336552879&4294967295,B=N+(L<<12&4294967295|L>>>20),L=z+(I^B&(N^I))+V[10]+4294925233&4294967295,z=B+(L<<17&4294967295|L>>>15),L=I+(N^z&(B^N))+V[11]+2304563134&4294967295,I=z+(L<<22&4294967295|L>>>10),L=N+(B^I&(z^B))+V[12]+1804603682&4294967295,N=I+(L<<7&4294967295|L>>>25),L=B+(z^N&(I^z))+V[13]+4254626195&4294967295,B=N+(L<<12&4294967295|L>>>20),L=z+(I^B&(N^I))+V[14]+2792965006&4294967295,z=B+(L<<17&4294967295|L>>>15),L=I+(N^z&(B^N))+V[15]+1236535329&4294967295,I=z+(L<<22&4294967295|L>>>10),L=N+(z^B&(I^z))+V[1]+4129170786&4294967295,N=I+(L<<5&4294967295|L>>>27),L=B+(I^z&(N^I))+V[6]+3225465664&4294967295,B=N+(L<<9&4294967295|L>>>23),L=z+(N^I&(B^N))+V[11]+643717713&4294967295,z=B+(L<<14&4294967295|L>>>18),L=I+(B^N&(z^B))+V[0]+3921069994&4294967295,I=z+(L<<20&4294967295|L>>>12),L=N+(z^B&(I^z))+V[5]+3593408605&4294967295,N=I+(L<<5&4294967295|L>>>27),L=B+(I^z&(N^I))+V[10]+38016083&4294967295,B=N+(L<<9&4294967295|L>>>23),L=z+(N^I&(B^N))+V[15]+3634488961&4294967295,z=B+(L<<14&4294967295|L>>>18),L=I+(B^N&(z^B))+V[4]+3889429448&4294967295,I=z+(L<<20&4294967295|L>>>12),L=N+(z^B&(I^z))+V[9]+568446438&4294967295,N=I+(L<<5&4294967295|L>>>27),L=B+(I^z&(N^I))+V[14]+3275163606&4294967295,B=N+(L<<9&4294967295|L>>>23),L=z+(N^I&(B^N))+V[3]+4107603335&4294967295,z=B+(L<<14&4294967295|L>>>18),L=I+(B^N&(z^B))+V[8]+1163531501&4294967295,I=z+(L<<20&4294967295|L>>>12),L=N+(z^B&(I^z))+V[13]+2850285829&4294967295,N=I+(L<<5&4294967295|L>>>27),L=B+(I^z&(N^I))+V[2]+4243563512&4294967295,B=N+(L<<9&4294967295|L>>>23),L=z+(N^I&(B^N))+V[7]+1735328473&4294967295,z=B+(L<<14&4294967295|L>>>18),L=I+(B^N&(z^B))+V[12]+2368359562&4294967295,I=z+(L<<20&4294967295|L>>>12),L=N+(I^z^B)+V[5]+4294588738&4294967295,N=I+(L<<4&4294967295|L>>>28),L=B+(N^I^z)+V[8]+2272392833&4294967295,B=N+(L<<11&4294967295|L>>>21),L=z+(B^N^I)+V[11]+1839030562&4294967295,z=B+(L<<16&4294967295|L>>>16),L=I+(z^B^N)+V[14]+4259657740&4294967295,I=z+(L<<23&4294967295|L>>>9),L=N+(I^z^B)+V[1]+2763975236&4294967295,N=I+(L<<4&4294967295|L>>>28),L=B+(N^I^z)+V[4]+1272893353&4294967295,B=N+(L<<11&4294967295|L>>>21),L=z+(B^N^I)+V[7]+4139469664&4294967295,z=B+(L<<16&4294967295|L>>>16),L=I+(z^B^N)+V[10]+3200236656&4294967295,I=z+(L<<23&4294967295|L>>>9),L=N+(I^z^B)+V[13]+681279174&4294967295,N=I+(L<<4&4294967295|L>>>28),L=B+(N^I^z)+V[0]+3936430074&4294967295,B=N+(L<<11&4294967295|L>>>21),L=z+(B^N^I)+V[3]+3572445317&4294967295,z=B+(L<<16&4294967295|L>>>16),L=I+(z^B^N)+V[6]+76029189&4294967295,I=z+(L<<23&4294967295|L>>>9),L=N+(I^z^B)+V[9]+3654602809&4294967295,N=I+(L<<4&4294967295|L>>>28),L=B+(N^I^z)+V[12]+3873151461&4294967295,B=N+(L<<11&4294967295|L>>>21),L=z+(B^N^I)+V[15]+530742520&4294967295,z=B+(L<<16&4294967295|L>>>16),L=I+(z^B^N)+V[2]+3299628645&4294967295,I=z+(L<<23&4294967295|L>>>9),L=N+(z^(I|~B))+V[0]+4096336452&4294967295,N=I+(L<<6&4294967295|L>>>26),L=B+(I^(N|~z))+V[7]+1126891415&4294967295,B=N+(L<<10&4294967295|L>>>22),L=z+(N^(B|~I))+V[14]+2878612391&4294967295,z=B+(L<<15&4294967295|L>>>17),L=I+(B^(z|~N))+V[5]+4237533241&4294967295,I=z+(L<<21&4294967295|L>>>11),L=N+(z^(I|~B))+V[12]+1700485571&4294967295,N=I+(L<<6&4294967295|L>>>26),L=B+(I^(N|~z))+V[3]+2399980690&4294967295,B=N+(L<<10&4294967295|L>>>22),L=z+(N^(B|~I))+V[10]+4293915773&4294967295,z=B+(L<<15&4294967295|L>>>17),L=I+(B^(z|~N))+V[1]+2240044497&4294967295,I=z+(L<<21&4294967295|L>>>11),L=N+(z^(I|~B))+V[8]+1873313359&4294967295,N=I+(L<<6&4294967295|L>>>26),L=B+(I^(N|~z))+V[15]+4264355552&4294967295,B=N+(L<<10&4294967295|L>>>22),L=z+(N^(B|~I))+V[6]+2734768916&4294967295,z=B+(L<<15&4294967295|L>>>17),L=I+(B^(z|~N))+V[13]+1309151649&4294967295,I=z+(L<<21&4294967295|L>>>11),L=N+(z^(I|~B))+V[4]+4149444226&4294967295,N=I+(L<<6&4294967295|L>>>26),L=B+(I^(N|~z))+V[11]+3174756917&4294967295,B=N+(L<<10&4294967295|L>>>22),L=z+(N^(B|~I))+V[2]+718787259&4294967295,z=B+(L<<15&4294967295|L>>>17),L=I+(B^(z|~N))+V[9]+3951481745&4294967295,k.g[0]=k.g[0]+N&4294967295,k.g[1]=k.g[1]+(z+(L<<21&4294967295|L>>>11))&4294967295,k.g[2]=k.g[2]+z&4294967295,k.g[3]=k.g[3]+B&4294967295}r.prototype.u=function(k,N){N===void 0&&(N=k.length);for(var I=N-this.blockSize,V=this.B,z=this.h,B=0;B<N;){if(z==0)for(;B<=I;)a(this,k,B),B+=this.blockSize;if(typeof k=="string"){for(;B<N;)if(V[z++]=k.charCodeAt(B++),z==this.blockSize){a(this,V),z=0;break}}else for(;B<N;)if(V[z++]=k[B++],z==this.blockSize){a(this,V),z=0;break}}this.h=z,this.o+=N},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var N=1;N<k.length-8;++N)k[N]=0;var I=8*this.o;for(N=k.length-8;N<k.length;++N)k[N]=I&255,I/=256;for(this.u(k),k=Array(16),N=I=0;4>N;++N)for(var V=0;32>V;V+=8)k[I++]=this.g[N]>>>V&255;return k};function o(k,N){var I=d;return Object.prototype.hasOwnProperty.call(I,k)?I[k]:I[k]=N(k)}function c(k,N){this.h=N;for(var I=[],V=!0,z=k.length-1;0<=z;z--){var B=k[z]|0;V&&B==N||(I[z]=B,V=!1)}this.g=I}var d={};function h(k){return-128<=k&&128>k?o(k,function(N){return new c([N|0],0>N?-1:0)}):new c([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return v;if(0>k)return R(p(-k));for(var N=[],I=1,V=0;k>=I;V++)N[V]=k/I|0,I*=4294967296;return new c(N,0)}function y(k,N){if(k.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(k.charAt(0)=="-")return R(y(k.substring(1),N));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(N,8)),V=v,z=0;z<k.length;z+=8){var B=Math.min(8,k.length-z),L=parseInt(k.substring(z,z+B),N);8>B?(B=p(Math.pow(N,B)),V=V.j(B).add(p(L))):(V=V.j(I),V=V.add(p(L)))}return V}var v=h(0),E=h(1),x=h(16777216);t=c.prototype,t.m=function(){if(C(this))return-R(this).m();for(var k=0,N=1,I=0;I<this.g.length;I++){var V=this.i(I);k+=(0<=V?V:4294967296+V)*N,N*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(A(this))return"0";if(C(this))return"-"+R(this).toString(k);for(var N=p(Math.pow(k,6)),I=this,V="";;){var z=H(I,N).g;I=O(I,z.j(N));var B=((0<I.g.length?I.g[0]:I.h)>>>0).toString(k);if(I=z,A(I))return B+V;for(;6>B.length;)B="0"+B;V=B+V}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function A(k){if(k.h!=0)return!1;for(var N=0;N<k.g.length;N++)if(k.g[N]!=0)return!1;return!0}function C(k){return k.h==-1}t.l=function(k){return k=O(this,k),C(k)?-1:A(k)?0:1};function R(k){for(var N=k.g.length,I=[],V=0;V<N;V++)I[V]=~k.g[V];return new c(I,~k.h).add(E)}t.abs=function(){return C(this)?R(this):this},t.add=function(k){for(var N=Math.max(this.g.length,k.g.length),I=[],V=0,z=0;z<=N;z++){var B=V+(this.i(z)&65535)+(k.i(z)&65535),L=(B>>>16)+(this.i(z)>>>16)+(k.i(z)>>>16);V=L>>>16,B&=65535,L&=65535,I[z]=L<<16|B}return new c(I,I[I.length-1]&-2147483648?-1:0)};function O(k,N){return k.add(R(N))}t.j=function(k){if(A(this)||A(k))return v;if(C(this))return C(k)?R(this).j(R(k)):R(R(this).j(k));if(C(k))return R(this.j(R(k)));if(0>this.l(x)&&0>k.l(x))return p(this.m()*k.m());for(var N=this.g.length+k.g.length,I=[],V=0;V<2*N;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(var z=0;z<k.g.length;z++){var B=this.i(V)>>>16,L=this.i(V)&65535,ye=k.i(z)>>>16,xe=k.i(z)&65535;I[2*V+2*z]+=L*xe,D(I,2*V+2*z),I[2*V+2*z+1]+=B*xe,D(I,2*V+2*z+1),I[2*V+2*z+1]+=L*ye,D(I,2*V+2*z+1),I[2*V+2*z+2]+=B*ye,D(I,2*V+2*z+2)}for(V=0;V<N;V++)I[V]=I[2*V+1]<<16|I[2*V];for(V=N;V<2*N;V++)I[V]=0;return new c(I,0)};function D(k,N){for(;(k[N]&65535)!=k[N];)k[N+1]+=k[N]>>>16,k[N]&=65535,N++}function U(k,N){this.g=k,this.h=N}function H(k,N){if(A(N))throw Error("division by zero");if(A(k))return new U(v,v);if(C(k))return N=H(R(k),N),new U(R(N.g),R(N.h));if(C(N))return N=H(k,R(N)),new U(R(N.g),N.h);if(30<k.g.length){if(C(k)||C(N))throw Error("slowDivide_ only works with positive integers.");for(var I=E,V=N;0>=V.l(k);)I=W(I),V=W(V);var z=Z(I,1),B=Z(V,1);for(V=Z(V,2),I=Z(I,2);!A(V);){var L=B.add(V);0>=L.l(k)&&(z=z.add(I),B=L),V=Z(V,1),I=Z(I,1)}return N=O(k,z.j(N)),new U(z,N)}for(z=v;0<=k.l(N);){for(I=Math.max(1,Math.floor(k.m()/N.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),B=p(I),L=B.j(N);C(L)||0<L.l(k);)I-=V,B=p(I),L=B.j(N);A(B)&&(B=E),z=z.add(B),k=O(k,L)}return new U(z,k)}t.A=function(k){return H(this,k).h},t.and=function(k){for(var N=Math.max(this.g.length,k.g.length),I=[],V=0;V<N;V++)I[V]=this.i(V)&k.i(V);return new c(I,this.h&k.h)},t.or=function(k){for(var N=Math.max(this.g.length,k.g.length),I=[],V=0;V<N;V++)I[V]=this.i(V)|k.i(V);return new c(I,this.h|k.h)},t.xor=function(k){for(var N=Math.max(this.g.length,k.g.length),I=[],V=0;V<N;V++)I[V]=this.i(V)^k.i(V);return new c(I,this.h^k.h)};function W(k){for(var N=k.g.length+1,I=[],V=0;V<N;V++)I[V]=k.i(V)<<1|k.i(V-1)>>>31;return new c(I,k.h)}function Z(k,N){var I=N>>5;N%=32;for(var V=k.g.length-I,z=[],B=0;B<V;B++)z[B]=0<N?k.i(B+I)>>>N|k.i(B+I+1)<<32-N:k.i(B+I);return new c(z,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,A1=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,so=c}).apply(typeof LE<"u"?LE:typeof self<"u"?self:typeof window<"u"?window:{});var qf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var C1,wu,R1,lh,Sy,D1,N1,I1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,w,T){return f==Array.prototype||f==Object.prototype||(f[w]=T.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof qf=="object"&&qf];for(var w=0;w<f.length;++w){var T=f[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function a(f,w){if(w)e:{var T=r;f=f.split(".");for(var P=0;P<f.length-1;P++){var Y=f[P];if(!(Y in T))break e;T=T[Y]}f=f[f.length-1],P=T[f],w=w(P),w!=P&&w!=null&&e(T,f,{configurable:!0,writable:!0,value:w})}}function o(f,w){f instanceof String&&(f+="");var T=0,P=!1,Y={next:function(){if(!P&&T<f.length){var X=T++;return{value:w(X,f[X]),done:!1}}return P=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}a("Array.prototype.values",function(f){return f||function(){return o(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function h(f){var w=typeof f;return w=w!="object"?w:f?Array.isArray(f)?"array":w:"null",w=="array"||w=="object"&&typeof f.length=="number"}function p(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function y(f,w,T){return f.call.apply(f.bind,arguments)}function v(f,w,T){if(!f)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,P),f.apply(w,Y)}}return function(){return f.apply(w,arguments)}}function E(f,w,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:v,E.apply(null,arguments)}function x(f,w){var T=Array.prototype.slice.call(arguments,1);return function(){var P=T.slice();return P.push.apply(P,arguments),f.apply(this,P)}}function A(f,w){function T(){}T.prototype=w.prototype,f.aa=w.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(P,Y,X){for(var ue=Array(arguments.length-2),et=2;et<arguments.length;et++)ue[et-2]=arguments[et];return w.prototype[Y].apply(P,ue)}}function C(f){const w=f.length;if(0<w){const T=Array(w);for(let P=0;P<w;P++)T[P]=f[P];return T}return[]}function R(f,w){for(let T=1;T<arguments.length;T++){const P=arguments[T];if(h(P)){const Y=f.length||0,X=P.length||0;f.length=Y+X;for(let ue=0;ue<X;ue++)f[Y+ue]=P[ue]}else f.push(P)}}class O{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function D(f){return/^[\s\xa0]*$/.test(f)}function U(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function H(f){return H[" "](f),f}H[" "]=function(){};var W=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function Z(f,w,T){for(const P in f)w.call(T,f[P],P,f)}function k(f,w){for(const T in f)w.call(void 0,f[T],T,f)}function N(f){const w={};for(const T in f)w[T]=f[T];return w}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(f,w){let T,P;for(let Y=1;Y<arguments.length;Y++){P=arguments[Y];for(T in P)f[T]=P[T];for(let X=0;X<I.length;X++)T=I[X],Object.prototype.hasOwnProperty.call(P,T)&&(f[T]=P[T])}}function z(f){var w=1;f=f.split(":");const T=[];for(;0<w&&f.length;)T.push(f.shift()),w--;return f.length&&T.push(f.join(":")),T}function B(f){d.setTimeout(()=>{throw f},0)}function L(){var f=ae;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class ye{constructor(){this.h=this.g=null}add(w,T){const P=xe.get();P.set(w,T),this.h?this.h.next=P:this.g=P,this.h=P}}var xe=new O(()=>new J,f=>f.reset());class J{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ie=!1,ae=new ye,F=()=>{const f=d.Promise.resolve(void 0);ce=()=>{f.then(ee)}};var ee=()=>{for(var f;f=L();){try{f.h.call(f.g)}catch(T){B(T)}var w=xe;w.j(f),100>w.h&&(w.h++,f.next=w.g,w.g=f)}ie=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};d.addEventListener("test",T,w),d.removeEventListener("test",T,w)}catch{}return f}();function Re(f,w){if(fe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,P=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget){if(W){e:{try{H(w.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(w=null)}}else T=="mouseover"?w=f.fromElement:T=="mouseout"&&(w=f.toElement);this.relatedTarget=w,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Te[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Re.aa.h.call(this)}}A(Re,fe);var Te={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),_e=0;function De(f,w,T,P,Y){this.listener=f,this.proxy=null,this.src=w,this.type=T,this.capture=!!P,this.ha=Y,this.key=++_e,this.da=this.fa=!1}function Ee(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Oe(f){this.src=f,this.g={},this.h=0}Oe.prototype.add=function(f,w,T,P,Y){var X=f.toString();f=this.g[X],f||(f=this.g[X]=[],this.h++);var ue=ft(f,w,P,Y);return-1<ue?(w=f[ue],T||(w.fa=!1)):(w=new De(w,this.src,X,!!P,Y),w.fa=T,f.push(w)),w};function He(f,w){var T=w.type;if(T in f.g){var P=f.g[T],Y=Array.prototype.indexOf.call(P,w,void 0),X;(X=0<=Y)&&Array.prototype.splice.call(P,Y,1),X&&(Ee(w),f.g[T].length==0&&(delete f.g[T],f.h--))}}function ft(f,w,T,P){for(var Y=0;Y<f.length;++Y){var X=f[Y];if(!X.da&&X.listener==w&&X.capture==!!T&&X.ha==P)return Y}return-1}var Vt="closure_lm_"+(1e6*Math.random()|0),_n={};function un(f,w,T,P,Y){if(Array.isArray(w)){for(var X=0;X<w.length;X++)un(f,w[X],T,P,Y);return null}return T=Do(T),f&&f[me]?f.K(w,T,p(P)?!!P.capture:!!P,Y):Pn(f,w,T,!1,P,Y)}function Pn(f,w,T,P,Y,X){if(!w)throw Error("Invalid event type");var ue=p(Y)?!!Y.capture:!!Y,et=Ea(f);if(et||(f[Vt]=et=new Oe(f)),T=et.add(w,T,P,ue,X),T.proxy)return T;if(P=Pr(),T.proxy=P,P.src=f,P.listener=T,f.addEventListener)de||(Y=ue),Y===void 0&&(Y=!1),f.addEventListener(w.toString(),P,Y);else if(f.attachEvent)f.attachEvent(us(w.toString()),P);else if(f.addListener&&f.removeListener)f.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Pr(){function f(T){return w.call(f.src,f.listener,T)}const w=fc;return f}function Fn(f,w,T,P,Y){if(Array.isArray(w))for(var X=0;X<w.length;X++)Fn(f,w[X],T,P,Y);else P=p(P)?!!P.capture:!!P,T=Do(T),f&&f[me]?(f=f.i,w=String(w).toString(),w in f.g&&(X=f.g[w],T=ft(X,T,P,Y),-1<T&&(Ee(X[T]),Array.prototype.splice.call(X,T,1),X.length==0&&(delete f.g[w],f.h--)))):f&&(f=Ea(f))&&(w=f.g[w.toString()],f=-1,w&&(f=ft(w,T,P,Y)),(T=-1<f?w[f]:null)&&bi(T))}function bi(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[me])He(w.i,f);else{var T=f.type,P=f.proxy;w.removeEventListener?w.removeEventListener(T,P,f.capture):w.detachEvent?w.detachEvent(us(T),P):w.addListener&&w.removeListener&&w.removeListener(P),(T=Ea(w))?(He(T,f),T.h==0&&(T.src=null,w[Vt]=null)):Ee(f)}}}function us(f){return f in _n?_n[f]:_n[f]="on"+f}function fc(f,w){if(f.da)f=!0;else{w=new Re(w,this);var T=f.listener,P=f.ha||f.src;f.fa&&bi(f),f=T.call(P,w)}return f}function Ea(f){return f=f[Vt],f instanceof Oe?f:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Do(f){return typeof f=="function"?f:(f[wn]||(f[wn]=function(w){return f.handleEvent(w)}),f[wn])}function Lt(){he.call(this),this.i=new Oe(this),this.M=this,this.F=null}A(Lt,he),Lt.prototype[me]=!0,Lt.prototype.removeEventListener=function(f,w,T,P){Fn(this,f,w,T,P)};function zt(f,w){var T,P=f.F;if(P)for(T=[];P;P=P.F)T.push(P);if(f=f.M,P=w.type||w,typeof w=="string")w=new fe(w,f);else if(w instanceof fe)w.target=w.target||f;else{var Y=w;w=new fe(P,f),V(w,Y)}if(Y=!0,T)for(var X=T.length-1;0<=X;X--){var ue=w.g=T[X];Y=_r(ue,P,!0,w)&&Y}if(ue=w.g=f,Y=_r(ue,P,!0,w)&&Y,Y=_r(ue,P,!1,w)&&Y,T)for(X=0;X<T.length;X++)ue=w.g=T[X],Y=_r(ue,P,!1,w)&&Y}Lt.prototype.N=function(){if(Lt.aa.N.call(this),this.i){var f=this.i,w;for(w in f.g){for(var T=f.g[w],P=0;P<T.length;P++)Ee(T[P]);delete f.g[w],f.h--}}this.F=null},Lt.prototype.K=function(f,w,T,P){return this.i.add(String(f),w,!1,T,P)},Lt.prototype.L=function(f,w,T,P){return this.i.add(String(f),w,!0,T,P)};function _r(f,w,T,P){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();for(var Y=!0,X=0;X<w.length;++X){var ue=w[X];if(ue&&!ue.da&&ue.capture==T){var et=ue.listener,Kt=ue.ha||ue.src;ue.fa&&He(f.i,ue),Y=et.call(Kt,P)!==!1&&Y}}return Y&&!P.defaultPrevented}function No(f,w,T){if(typeof f=="function")T&&(f=E(f,T));else if(f&&typeof f.handleEvent=="function")f=E(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:d.setTimeout(f,w||0)}function Ta(f){f.g=No(()=>{f.g=null,f.i&&(f.i=!1,Ta(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class hc extends he{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Ta(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ue(f){he.call(this),this.h=f,this.g={}}A(Ue,he);var ot=[];function je(f){Z(f.g,function(w,T){this.g.hasOwnProperty(T)&&bi(w)},f),f.g={}}Ue.prototype.N=function(){Ue.aa.N.call(this),je(this)},Ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=d.JSON.stringify,Dt=d.JSON.parse,Ft=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function Nt(){}Nt.prototype.h=null;function Rn(f){return f.h||(f.h=f.i())}function Xe(){}var tr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vr(){fe.call(this,"d")}A(Vr,fe);function Hn(){fe.call(this,"c")}A(Hn,fe);var bn={},nr=null;function Io(){return nr=nr||new Lt}bn.La="serverreachability";function mc(f){fe.call(this,bn.La,f)}A(mc,fe);function ds(f){const w=Io();zt(w,new mc(w))}bn.STAT_EVENT="statevent";function Mo(f,w){fe.call(this,bn.STAT_EVENT,f),this.stat=w}A(Mo,fe);function jt(f){const w=Io();zt(w,new Mo(w,f))}bn.Ma="timingevent";function Sd(f,w){fe.call(this,bn.Ma,f),this.size=w}A(Sd,fe);function fs(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},w)}function hs(){this.g=!0}hs.prototype.xa=function(){this.g=!1};function xd(f,w,T,P,Y,X){f.info(function(){if(f.g)if(X)for(var ue="",et=X.split("&"),Kt=0;Kt<et.length;Kt++){var tt=et[Kt].split("=");if(1<tt.length){var nn=tt[0];tt=tt[1];var Qt=nn.split("_");ue=2<=Qt.length&&Qt[1]=="type"?ue+(nn+"="+tt+"&"):ue+(nn+"=redacted&")}}else ue=null;else ue=X;return"XMLHTTP REQ ("+P+") [attempt "+Y+"]: "+w+`
`+T+`
`+ue})}function Ad(f,w,T,P,Y,X,ue){f.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+Y+"]: "+w+`
`+T+`
`+X+" "+ue})}function ms(f,w,T,P){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+en(f,T)+(P?" "+P:"")})}function Lr(f,w){f.info(function(){return"TIMEOUT: "+w})}hs.prototype.info=function(){};function en(f,w){if(!f.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var P=T[f];if(!(2>P.length)){var Y=P[1];if(Array.isArray(Y)&&!(1>Y.length)){var X=Y[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ue=1;ue<Y.length;ue++)Y[ue]=""}}}}return Vn(T)}catch{return w}}var Yt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sa;function Oo(){}A(Oo,Nt),Oo.prototype.g=function(){return new XMLHttpRequest},Oo.prototype.i=function(){return{}},Sa=new Oo;function jr(f,w,T,P){this.j=f,this.i=w,this.l=T,this.R=P||1,this.U=new Ue(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pc}function pc(){this.i=null,this.g="",this.h=!1}var ps={},xa={};function wr(f,w,T){f.L=1,f.v=Ra(It(w)),f.m=T,f.P=!0,Ti(f,null)}function Ti(f,w){f.F=Date.now(),St(f),f.A=It(f.v);var T=f.A,P=f.R;Array.isArray(P)||(P=[String(P)]),Ai(T.i,"t",P),f.C=0,T=f.j.J,f.h=new pc,f.g=Bd(f.j,T?w:null,!f.m),0<f.O&&(f.M=new hc(E(f.Y,f,f.g),f.O)),w=f.U,T=f.g,P=f.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(ot[0]=Y.toString()),Y=ot);for(var X=0;X<Y.length;X++){var ue=un(T,Y[X],P||w.handleEvent,!1,w.h||w);if(!ue)break;w.g[ue.key]=ue}w=f.H?N(f.H):{},f.m?(f.u||(f.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,w)):(f.u="GET",f.g.ea(f.A,f.u,null,w)),ds(),xd(f.i,f.u,f.A,f.l,f.R,f.m)}jr.prototype.ca=function(f){f=f.target;const w=this.M;w&&or(f)==3?w.j():this.Y(f)},jr.prototype.Y=function(f){try{if(f==this.g)e:{const Qt=or(this.g);var w=this.g.Ba();const Ni=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||Md(this.g)))){this.J||Qt!=4||w==7||(w==8||0>=Ni?ds(3):ds(2)),ko(this);var T=this.g.Z();this.X=T;t:if(gs(this)){var P=Md(this.g);f="";var Y=P.length,X=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ln(this),qn(this);var ue="";break t}this.h.i=new d.TextDecoder}for(w=0;w<Y;w++)this.h.h=!0,f+=this.h.i.decode(P[w],{stream:!(X&&w==Y-1)});P.length=0,this.h.g+=f,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=T==200,Ad(this.i,this.u,this.A,this.l,this.R,Qt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var et,Kt=this.g;if((et=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(et)){var tt=et;break t}}tt=null}if(T=tt)ms(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gn(this,T);else{this.o=!1,this.s=3,jt(12),Ln(this),qn(this);break e}}if(this.P){T=!0;let dn;for(;!this.J&&this.C<ue.length;)if(dn=ys(this,ue),dn==xa){Qt==4&&(this.s=4,jt(14),T=!1),ms(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==ps){this.s=4,jt(15),ms(this.i,this.l,ue,"[Invalid Chunk]"),T=!1;break}else ms(this.i,this.l,dn,null),Gn(this,dn);if(gs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||ue.length!=0||this.h.h||(this.s=1,jt(16),T=!1),this.o=this.o&&T,!T)ms(this.i,this.l,ue,"[Invalid Chunked Response]"),Ln(this),qn(this);else if(0<ue.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Pa(nn),nn.M=!0,jt(11))}}else ms(this.i,this.l,ue,null),Gn(this,ue);Qt==4&&Ln(this),this.o&&!this.J&&(Qt==4?Ld(this.j,this):(this.o=!1,St(this)))}else Fm(this.g),T==400&&0<ue.indexOf("Unknown SID")?(this.s=3,jt(12)):(this.s=0,jt(13)),Ln(this),qn(this)}}}catch{}finally{}};function gs(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function ys(f,w){var T=f.C,P=w.indexOf(`
`,T);return P==-1?xa:(T=Number(w.substring(T,P)),isNaN(T)?ps:(P+=1,P+T>w.length?xa:(w=w.slice(P,P+T),f.C=P+T,w)))}jr.prototype.cancel=function(){this.J=!0,Ln(this)};function St(f){f.S=Date.now()+f.I,gc(f,f.I)}function gc(f,w){if(f.B!=null)throw Error("WatchDog timer not null");f.B=fs(E(f.ba,f),w)}function ko(f){f.B&&(d.clearTimeout(f.B),f.B=null)}jr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Lr(this.i,this.A),this.L!=2&&(ds(),jt(17)),Ln(this),this.s=2,qn(this)):gc(this,this.S-f)};function qn(f){f.j.G==0||f.J||Ld(f.j,f)}function Ln(f){ko(f);var w=f.M;w&&typeof w.ma=="function"&&w.ma(),f.M=null,je(f.U),f.g&&(w=f.g,f.g=null,w.abort(),w.ma())}function Gn(f,w){try{var T=f.j;if(T.G!=0&&(T.g==f||vs(T.h,f))){if(!f.K&&vs(T.h,f)&&T.G==3){try{var P=T.Da.g.parse(w)}catch{P=null}if(Array.isArray(P)&&P.length==3){var Y=P;if(Y[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)qo(T),Fo(T);else break e;Cc(T),jt(18)}}else T.za=Y[1],0<T.za-T.T&&37500>Y[2]&&T.F&&T.v==0&&!T.C&&(T.C=fs(E(T.Za,T),6e3));if(1>=Cd(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Di(T,11)}else if((f.K||T.g==f)&&qo(T),!D(w))for(Y=T.Da.g.parse(w),w=0;w<Y.length;w++){let tt=Y[w];if(T.T=tt[0],tt=tt[1],T.G==2)if(tt[0]=="c"){T.K=tt[1],T.ia=tt[2];const nn=tt[3];nn!=null&&(T.la=nn,T.j.info("VER="+T.la));const Qt=tt[4];Qt!=null&&(T.Aa=Qt,T.j.info("SVER="+T.Aa));const Ni=tt[5];Ni!=null&&typeof Ni=="number"&&0<Ni&&(P=1.5*Ni,T.L=P,T.j.info("backChannelRequestTimeoutMs_="+P)),P=T;const dn=f.g;if(dn){const Gr=dn.g?dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gr){var X=P.h;X.g||Gr.indexOf("spdy")==-1&&Gr.indexOf("quic")==-1&&Gr.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(_s(X,X.h),X.h=null))}if(P.D){const Dc=dn.g?dn.g.getResponseHeader("X-HTTP-Session-Id"):null;Dc&&(P.ya=Dc,it(P.I,P.D,Dc))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),P=T;var ue=f;if(P.qa=Ud(P,P.J?P.ia:null,P.W),ue.K){rr(P.h,ue);var et=ue,Kt=P.L;Kt&&(et.I=Kt),et.B&&(ko(et),St(et)),P.g=ue}else Pd(P);0<T.i.length&&Ho(T)}else tt[0]!="stop"&&tt[0]!="close"||Di(T,7);else T.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Di(T,7):xc(T):tt[0]!="noop"&&T.l&&T.l.ta(tt),T.v=0)}}ds(4)}catch{}}var Lm=class{constructor(f,w){this.g=f,this.map=w}};function yc(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vc(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Cd(f){return f.h?1:f.g?f.g.size:0}function vs(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function _s(f,w){f.g?f.g.add(w):f.h=w}function rr(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}yc.prototype.cancel=function(){if(this.i=Dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Dn(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const T of f.g.values())w=w.concat(T.D);return w}return C(f.i)}function Rd(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var w=[],T=f.length,P=0;P<T;P++)w.push(f[P]);return w}w=[],T=0;for(P in f)w[T++]=f[P];return w}function jm(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var w=[];f=f.length;for(var T=0;T<f;T++)w.push(T);return w}w=[],T=0;for(const P in f)w[T++]=P;return w}}}function Aa(f,w){if(f.forEach&&typeof f.forEach=="function")f.forEach(w,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,w,void 0);else for(var T=jm(f),P=Rd(f),Y=P.length,X=0;X<Y;X++)w.call(void 0,P[X],T&&T[X],f)}var _c=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Po(f,w){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var P=f[T].indexOf("="),Y=null;if(0<=P){var X=f[T].substring(0,P);Y=f[T].substring(P+1)}else X=f[T];w(X,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Si(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Si){this.h=f.h,ws(this,f.j),this.o=f.o,this.g=f.g,Ca(this,f.s),this.l=f.l;var w=f.i,T=new Ur;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),Vo(this,T),this.m=f.m}else f&&(w=String(f).match(_c))?(this.h=!1,ws(this,w[1]||"",!0),this.o=bs(w[2]||""),this.g=bs(w[3]||"",!0),Ca(this,w[4]),this.l=bs(w[5]||"",!0),Vo(this,w[6]||"",!0),this.m=bs(w[7]||"")):(this.h=!1,this.i=new Ur(null,this.h))}Si.prototype.toString=function(){var f=[],w=this.j;w&&f.push(ir(w,wc,!0),":");var T=this.g;return(T||w=="file")&&(f.push("//"),(w=this.o)&&f.push(ir(w,wc,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(ir(T,T.charAt(0)=="/"?bc:Dd,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",ir(T,zm)),f.join("")};function It(f){return new Si(f)}function ws(f,w,T){f.j=T?bs(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function Ca(f,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);f.s=w}else f.s=null}function Vo(f,w,T){w instanceof Ur?(f.i=w,Ec(f.i,f.h)):(T||(w=ir(w,Bm)),f.i=new Ur(w,f.h))}function it(f,w,T){f.i.set(w,T)}function Ra(f){return it(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function bs(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ir(f,w,T){return typeof f=="string"?(f=encodeURI(f).replace(w,Um),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Um(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var wc=/[#\/\?@]/g,Dd=/[#\?:]/g,bc=/[#\?]/g,Bm=/[#\?@]/g,zm=/#/g;function Ur(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function sr(f){f.g||(f.g=new Map,f.h=0,f.i&&Po(f.i,function(w,T){f.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}t=Ur.prototype,t.add=function(f,w){sr(this),this.i=null,f=Ci(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(w),this.h+=1,this};function Lo(f,w){sr(f),w=Ci(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function xi(f,w){return sr(f),w=Ci(f,w),f.g.has(w)}t.forEach=function(f,w){sr(this),this.g.forEach(function(T,P){T.forEach(function(Y){f.call(w,Y,P,this)},this)},this)},t.na=function(){sr(this);const f=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let P=0;P<w.length;P++){const Y=f[P];for(let X=0;X<Y.length;X++)T.push(w[P])}return T},t.V=function(f){sr(this);let w=[];if(typeof f=="string")xi(this,f)&&(w=w.concat(this.g.get(Ci(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)w=w.concat(f[T])}return w},t.set=function(f,w){return sr(this),this.i=null,f=Ci(this,f),xi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},t.get=function(f,w){return f?(f=this.V(f),0<f.length?String(f[0]):w):w};function Ai(f,w,T){Lo(f,w),0<T.length&&(f.i=null,f.g.set(Ci(f,w),C(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var P=w[T];const X=encodeURIComponent(String(P)),ue=this.V(P);for(P=0;P<ue.length;P++){var Y=X;ue[P]!==""&&(Y+="="+encodeURIComponent(String(ue[P]))),f.push(Y)}}return this.i=f.join("&")};function Ci(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function Ec(f,w){w&&!f.j&&(sr(f),f.i=null,f.g.forEach(function(T,P){var Y=P.toLowerCase();P!=Y&&(Lo(this,P),Ai(this,Y,T))},f)),f.j=w}function Nd(f,w){const T=new hs;if(d.Image){const P=new Image;P.onload=x(ar,T,"TestLoadImage: loaded",!0,w,P),P.onerror=x(ar,T,"TestLoadImage: error",!1,w,P),P.onabort=x(ar,T,"TestLoadImage: abort",!1,w,P),P.ontimeout=x(ar,T,"TestLoadImage: timeout",!1,w,P),d.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=f}else w(!1)}function Da(f,w){const T=new hs,P=new AbortController,Y=setTimeout(()=>{P.abort(),ar(T,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:P.signal}).then(X=>{clearTimeout(Y),X.ok?ar(T,"TestPingServer: ok",!0,w):ar(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Y),ar(T,"TestPingServer: error",!1,w)})}function ar(f,w,T,P,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),P(T)}catch{}}function Na(){this.g=new Ft}function Br(f,w,T){const P=T||"";try{Aa(f,function(Y,X){let ue=Y;p(Y)&&(ue=Vn(Y)),w.push(P+X+"="+encodeURIComponent(ue))})}catch(Y){throw w.push(P+"type="+encodeURIComponent("_badmap")),Y}}function Es(f){this.l=f.Ub||null,this.j=f.eb||!1}A(Es,Nt),Es.prototype.g=function(){return new Ri(this.l,this.j)},Es.prototype.i=function(f){return function(){return f}}({});function Ri(f,w){Lt.call(this),this.D=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Ri,Lt),t=Ri.prototype,t.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=w,this.readyState=1,Fr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(w.body=f),(this.D||d).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zr(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Fr(this)),this.g&&(this.readyState=3,Fr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tc(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tc(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?zr(this):Fr(this),this.readyState==3&&Tc(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,zr(this))},t.Qa=function(f){this.g&&(this.response=f,zr(this))},t.ga=function(){this.g&&zr(this)};function zr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Fr(f)}t.setRequestHeader=function(f,w){this.u.append(f,w)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=w.next();return f.join(`\r
`)};function Fr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Sc(f){let w="";return Z(f,function(T,P){w+=P,w+=":",w+=T,w+=`\r
`}),w}function tn(f,w,T){e:{for(P in T){var P=!1;break e}P=!0}P||(T=Sc(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):it(f,w,T))}function lt(f){Lt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(lt,Lt);var jo=/^https?$/i,Ia=["POST","PUT"];t=lt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,w,T,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sa.g(),this.v=this.o?Rn(this.o):Rn(Sa),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(X){Id(this,X);return}if(f=T||"",T=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var Y in P)T.set(Y,P[Y]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const X of P.keys())T.set(X,P.get(X));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),Y=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ia,w,void 0))||P||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of T)this.g.setRequestHeader(X,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ma(this),this.u=!0,this.g.send(f),this.u=!1}catch(X){Id(this,X)}};function Id(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.m=5,Uo(f),Hr(f)}function Uo(f){f.A||(f.A=!0,zt(f,"complete"),zt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,zt(this,"complete"),zt(this,"abort"),Hr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hr(this,!0)),lt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Bo(this):this.bb())},t.bb=function(){Bo(this)};function Bo(f){if(f.h&&typeof c<"u"&&(!f.v[1]||or(f)!=4||f.Z()!=2)){if(f.u&&or(f)==4)No(f.Ea,0,f);else if(zt(f,"readystatechange"),or(f)==4){f.h=!1;try{const ue=f.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var P;if(P=ue===0){var Y=String(f.D).match(_c)[1]||null;!Y&&d.self&&d.self.location&&(Y=d.self.location.protocol.slice(0,-1)),P=!jo.test(Y?Y.toLowerCase():"")}T=P}if(T)zt(f,"complete"),zt(f,"success");else{f.m=6;try{var X=2<or(f)?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.Z()+"]",Uo(f)}}finally{Hr(f)}}}}function Hr(f,w){if(f.g){Ma(f);const T=f.g,P=f.v[0]?()=>{}:null;f.g=null,f.v=null,w||zt(f,"ready");try{T.onreadystatechange=P}catch{}}}function Ma(f){f.I&&(d.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function or(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),Dt(w)}};function Md(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Fm(f){const w={};f=(f.g&&2<=or(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<f.length;P++){if(D(f[P]))continue;var T=z(f[P]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=w[Y]||[];w[Y]=X,X.push(T)}k(w,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oa(f,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||w}function zo(f){this.Aa=0,this.i=[],this.j=new hs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oa("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oa("baseRetryDelayMs",5e3,f),this.cb=Oa("retryDelaySeedMs",1e4,f),this.Wa=Oa("forwardChannelMaxRetries",2,f),this.wa=Oa("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new yc(f&&f.concurrentRequestLimit),this.Da=new Na,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=zo.prototype,t.la=8,t.G=1,t.connect=function(f,w,T,P){jt(0),this.W=f,this.H=w||{},T&&P!==void 0&&(this.H.OSID=T,this.H.OAID=P),this.F=this.X,this.I=Ud(this,null,this.W),Ho(this)};function xc(f){if(Od(f),f.G==3){var w=f.U++,T=It(f.I);if(it(T,"SID",f.K),it(T,"RID",w),it(T,"TYPE","terminate"),ka(f,T),w=new jr(f,f.j,w),w.L=2,w.v=Ra(It(T)),T=!1,d.navigator&&d.navigator.sendBeacon)try{T=d.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&d.Image&&(new Image().src=w.v,T=!0),T||(w.g=Bd(w.j,null),w.g.ea(w.v)),w.F=Date.now(),St(w)}jd(f)}function Fo(f){f.g&&(Pa(f),f.g.cancel(),f.g=null)}function Od(f){Fo(f),f.u&&(d.clearTimeout(f.u),f.u=null),qo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function Ho(f){if(!vc(f.h)&&!f.s){f.s=!0;var w=f.Ga;ce||F(),ie||(ce(),ie=!0),ae.add(w,f),f.B=0}}function Hm(f,w){return Cd(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=w.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=fs(E(f.Ga,f,w),Rc(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Y=new jr(this,this.j,f);let X=this.o;if(this.S&&(X?(X=N(X),V(X,this.S)):X=this.S),this.m!==null||this.O||(Y.H=X,X=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var P=this.i[T];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(w+=P,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=kd(this,Y,w),T=It(this.I),it(T,"RID",f),it(T,"CVER",22),this.D&&it(T,"X-HTTP-Session-Id",this.D),ka(this,T),X&&(this.O?w="headers="+encodeURIComponent(String(Sc(X)))+"&"+w:this.m&&tn(T,this.m,X)),_s(this.h,Y),this.Ua&&it(T,"TYPE","init"),this.P?(it(T,"$req",w),it(T,"SID","null"),Y.T=!0,wr(Y,T,null)):wr(Y,T,w),this.G=2}}else this.G==3&&(f?Ac(this,f):this.i.length==0||vc(this.h)||Ac(this))};function Ac(f,w){var T;w?T=w.l:T=f.U++;const P=It(f.I);it(P,"SID",f.K),it(P,"RID",T),it(P,"AID",f.T),ka(f,P),f.m&&f.o&&tn(P,f.m,f.o),T=new jr(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),w&&(f.i=w.D.concat(f.i)),w=kd(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),_s(f.h,T),wr(T,P,w)}function ka(f,w){f.H&&Z(f.H,function(T,P){it(w,P,T)}),f.l&&Aa({},function(T,P){it(w,P,T)})}function kd(f,w,T){T=Math.min(f.i.length,T);var P=f.l?E(f.l.Na,f.l,f):null;e:{var Y=f.i;let X=-1;for(;;){const ue=["count="+T];X==-1?0<T?(X=Y[0].g,ue.push("ofs="+X)):X=0:ue.push("ofs="+X);let et=!0;for(let Kt=0;Kt<T;Kt++){let tt=Y[Kt].g;const nn=Y[Kt].map;if(tt-=X,0>tt)X=Math.max(0,Y[Kt].g-100),et=!1;else try{Br(nn,ue,"req"+tt+"_")}catch{P&&P(nn)}}if(et){P=ue.join("&");break e}}}return f=f.i.splice(0,T),w.D=f,P}function Pd(f){if(!f.g&&!f.u){f.Y=1;var w=f.Fa;ce||F(),ie||(ce(),ie=!0),ae.add(w,f),f.v=0}}function Cc(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=fs(E(f.Fa,f),Rc(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Vd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=fs(E(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,jt(10),Fo(this),Vd(this))};function Pa(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function Vd(f){f.g=new jr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var w=It(f.qa);it(w,"RID","rpc"),it(w,"SID",f.K),it(w,"AID",f.T),it(w,"CI",f.F?"0":"1"),!f.F&&f.ja&&it(w,"TO",f.ja),it(w,"TYPE","xmlhttp"),ka(f,w),f.m&&f.o&&tn(w,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=Ra(It(w)),T.m=null,T.P=!0,Ti(T,f)}t.Za=function(){this.C!=null&&(this.C=null,Fo(this),Cc(this),jt(19))};function qo(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Ld(f,w){var T=null;if(f.g==w){qo(f),Pa(f),f.g=null;var P=2}else if(vs(f.h,w))T=w.D,rr(f.h,w),P=1;else return;if(f.G!=0){if(w.o)if(P==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var Y=f.B;P=Io(),zt(P,new Sd(P,T)),Ho(f)}else Pd(f);else if(Y=w.s,Y==3||Y==0&&0<w.X||!(P==1&&Hm(f,w)||P==2&&Cc(f)))switch(T&&0<T.length&&(w=f.h,w.i=w.i.concat(T)),Y){case 1:Di(f,5);break;case 4:Di(f,10);break;case 3:Di(f,6);break;default:Di(f,2)}}}function Rc(f,w){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*w}function Di(f,w){if(f.j.info("Error code "+w),w==2){var T=E(f.fb,f),P=f.Xa;const Y=!P;P=new Si(P||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ws(P,"https"),Ra(P),Y?Nd(P.toString(),T):Da(P.toString(),T)}else jt(2);f.G=0,f.l&&f.l.sa(w),jd(f),Od(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function jd(f){if(f.G=0,f.ka=[],f.l){const w=Dn(f.h);(w.length!=0||f.i.length!=0)&&(R(f.ka,w),R(f.ka,f.i),f.h.i.length=0,C(f.i),f.i.length=0),f.l.ra()}}function Ud(f,w,T){var P=T instanceof Si?It(T):new Si(T);if(P.g!="")w&&(P.g=w+"."+P.g),Ca(P,P.s);else{var Y=d.location;P=Y.protocol,w=w?w+"."+Y.hostname:Y.hostname,Y=+Y.port;var X=new Si(null);P&&ws(X,P),w&&(X.g=w),Y&&Ca(X,Y),T&&(X.l=T),P=X}return T=f.D,w=f.ya,T&&w&&it(P,T,w),it(P,"VER",f.la),ka(f,P),P}function Bd(f,w,T){if(w&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Ca&&!f.pa?new lt(new Es({eb:T})):new lt(f.pa),w.Ha(f.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zd(){}t=zd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Go(){}Go.prototype.g=function(f,w){return new Nn(f,w)};function Nn(f,w){Lt.call(this),this.g=new zo(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(f?f["X-WebChannel-Client-Profile"]=w.va:f={"X-WebChannel-Client-Profile":w.va}),this.g.S=f,(f=w&&w.Sb)&&!D(f)&&(this.g.m=f),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!D(w)&&(this.g.D=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new qr(this)}A(Nn,Lt),Nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){xc(this.g)},Nn.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=Vn(f),f=T);w.i.push(new Lm(w.Ya++,f)),w.G==3&&Ho(w)},Nn.prototype.N=function(){this.g.l=null,delete this.j,xc(this.g),delete this.g,Nn.aa.N.call(this)};function Fd(f){Vr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const T in w){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}A(Fd,Vr);function Hd(){Hn.call(this),this.status=1}A(Hd,Hn);function qr(f){this.g=f}A(qr,zd),qr.prototype.ua=function(){zt(this.g,"a")},qr.prototype.ta=function(f){zt(this.g,new Fd(f))},qr.prototype.sa=function(f){zt(this.g,new Hd)},qr.prototype.ra=function(){zt(this.g,"b")},Go.prototype.createWebChannel=Go.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,I1=function(){return new Go},N1=function(){return Io()},D1=bn,Sy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yt.NO_ERROR=0,Yt.TIMEOUT=8,Yt.HTTP_ERROR=6,lh=Yt,Ei.COMPLETE="complete",R1=Ei,Xe.EventType=tr,tr.OPEN="a",tr.CLOSE="b",tr.ERROR="c",tr.MESSAGE="d",Lt.prototype.listen=Lt.prototype.K,wu=Xe,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,C1=lt}).apply(typeof qf<"u"?qf:typeof self<"u"?self:typeof window<"u"?window:{});const jE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jl="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=new uv("@firebase/firestore");function El(){return mo.logLevel}function ge(t,...e){if(mo.logLevel<=Ye.DEBUG){const n=e.map(Tv);mo.debug(`Firestore (${Jl}): ${t}`,...n)}}function rs(t,...e){if(mo.logLevel<=Ye.ERROR){const n=e.map(Tv);mo.error(`Firestore (${Jl}): ${t}`,...n)}}function jl(t,...e){if(mo.logLevel<=Ye.WARN){const n=e.map(Tv);mo.warn(`Firestore (${Jl}): ${t}`,...n)}}function Tv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t="Unexpected state"){const e=`FIRESTORE (${Jl}) INTERNAL ASSERTION FAILED: `+t;throw rs(e),new Error(e)}function ct(t,e){t||Me()}function Le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends gi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xn.UNAUTHENTICATED))}shutdown(){}}class DP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class NP{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0);let r=this.i;const a=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new ao;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ao,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await a(this.currentUser)})},d=h=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(h=>d(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ao)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string"),new M1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string"),new xn(e)}}class IP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class MP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new IP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class OP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ct(this.o===void 0);const r=o=>{o.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.R;return this.R=o.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?a(o):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ct(typeof n.token=="string"),this.R=n.token,new OP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const a=PP(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%e.length))}return r}}function Je(t,e){return t<e?-1:t>e?1:0}function Ul(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new be(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Qe(0,0))}static max(){return new Pe(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(),r===void 0?r=e.length-n:r>e.length-n&&Me(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Uu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Uu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=e.get(a),c=n.get(a);if(o<c)return-1;if(o>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Et extends Uu{construct(e,n,r){return new Et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new Et(n)}static emptyPath(){return new Et([])}}const VP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends Uu{construct(e,n,r){return new gn(e,n,r)}static isValidIdentifier(e){return VP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new gn(["__name__"])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new be(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new be(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new be(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(o(),a++)}if(o(),c)throw new be(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(n)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(Et.fromString(e))}static fromName(e){return new Ce(Et.fromString(e).popFirst(5))}static empty(){return new Ce(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new Et(e.slice()))}}function LP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Pe.fromTimestamp(r===1e9?new Qe(n+1,0):new Qe(n,r));return new aa(a,Ce.empty(),e)}function jP(t){return new aa(t.readTime,t.key,-1)}class aa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new aa(Pe.min(),Ce.empty(),-1)}static max(){return new aa(Pe.max(),Ce.empty(),-1)}}function UP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==BP)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,r)=>{n(e)})}static reject(e){return new se((n,r)=>{r(e)})}static waitFor(e){return new se((n,r)=>{let a=0,o=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++o,c&&o===a&&n()},h=>r(h))}),c=!0,o===a&&n()})}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next(a=>a?se.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,o)=>{r.push(n.call(this,a,o))}),this.waitFor(r)}static mapArray(e,n){return new se((r,a)=>{const o=e.length,c=new Array(o);let d=0;for(let h=0;h<o;h++){const p=h;n(e[p]).next(y=>{c[p]=y,++d,d===o&&r(c)},y=>a(y))}})}static doWhile(e,n){return new se((r,a)=>{const o=()=>{e()===!0?n().next(()=>{o()},a):r()};o()})}}function FP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Jh.oe=-1;function em(t){return t==null}function xh(t){return t===0&&1/t==-1/0}function HP(t){return typeof t=="number"&&Number.isInteger(t)&&!xh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=UE(e)),e=GP(t.get(n),e);return UE(e)}function GP(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function UE(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ma(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function k1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new Rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gf(this.root,e,this.comparator,!0)}}class Gf{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??pn.RED,this.left=a??pn.EMPTY,this.right=o??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new pn(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return pn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Me();const e=this.left.check();if(e!==this.right.check())throw Me();return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me()}get value(){throw Me()}get color(){throw Me()}get left(){throw Me()}get right(){throw Me()}copy(e,n,r,a,o){return this}insert(e,n,r){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zE(this.data.getIterator())}getIteratorFrom(e){return new zE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class zE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new Zn([])}unionWith(e){let n=new Jt(gn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ul(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new P1("Invalid base64 string: "+o):o}}(e);return new yn(n)}static fromUint8Array(e){const n=function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o}(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const $P=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(t){if(ct(!!t),typeof t=="string"){let e=0;const n=$P.exec(t);if(ct(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function la(t){return typeof t=="string"?yn.fromBase64String(t):yn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function tm(t){const e=t.mapValue.fields.__previous_value__;return Sv(e)?tm(e):e}function Bu(t){const e=oa(t.mapValue.fields.__local_write_time__.timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,n,r,a,o,c,d,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=p}}class zu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ca(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sv(t)?4:KP(t)?9007199254740991:YP(t)?10:11:Me()}function di(t,e){if(t===e)return!0;const n=ca(t);if(n!==ca(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bu(t).isEqual(Bu(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=oa(a.timestampValue),d=oa(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,o){return la(a.bytesValue).isEqual(la(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,o){return Bt(a.geoPointValue.latitude)===Bt(o.geoPointValue.latitude)&&Bt(a.geoPointValue.longitude)===Bt(o.geoPointValue.longitude)}(t,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return Bt(a.integerValue)===Bt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=Bt(a.doubleValue),d=Bt(o.doubleValue);return c===d?xh(c)===xh(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return Ul(t.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return function(a,o){const c=a.mapValue.fields||{},d=o.mapValue.fields||{};if(BE(c)!==BE(d))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(d[h]===void 0||!di(c[h],d[h])))return!1;return!0}(t,e);default:return Me()}}function Fu(t,e){return(t.values||[]).find(n=>di(n,e))!==void 0}function Bl(t,e){if(t===e)return 0;const n=ca(t),r=ca(e);if(n!==r)return Je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return function(o,c){const d=Bt(o.integerValue||o.doubleValue),h=Bt(c.integerValue||c.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1}(t,e);case 3:return FE(t.timestampValue,e.timestampValue);case 4:return FE(Bu(t),Bu(e));case 5:return Je(t.stringValue,e.stringValue);case 6:return function(o,c){const d=la(o),h=la(c);return d.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(o,c){const d=o.split("/"),h=c.split("/");for(let p=0;p<d.length&&p<h.length;p++){const y=Je(d[p],h[p]);if(y!==0)return y}return Je(d.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,c){const d=Je(Bt(o.latitude),Bt(c.latitude));return d!==0?d:Je(Bt(o.longitude),Bt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return HE(t.arrayValue,e.arrayValue);case 10:return function(o,c){var d,h,p,y;const v=o.fields||{},E=c.fields||{},x=(d=v.value)===null||d===void 0?void 0:d.arrayValue,A=(h=E.value)===null||h===void 0?void 0:h.arrayValue,C=Je(((p=x==null?void 0:x.values)===null||p===void 0?void 0:p.length)||0,((y=A==null?void 0:A.values)===null||y===void 0?void 0:y.length)||0);return C!==0?C:HE(x,A)}(t.mapValue,e.mapValue);case 11:return function(o,c){if(o===$f.mapValue&&c===$f.mapValue)return 0;if(o===$f.mapValue)return 1;if(c===$f.mapValue)return-1;const d=o.fields||{},h=Object.keys(d),p=c.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let v=0;v<h.length&&v<y.length;++v){const E=Je(h[v],y[v]);if(E!==0)return E;const x=Bl(d[h[v]],p[y[v]]);if(x!==0)return x}return Je(h.length,y.length)}(t.mapValue,e.mapValue);default:throw Me()}}function FE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=oa(t),r=oa(e),a=Je(n.seconds,r.seconds);return a!==0?a:Je(n.nanos,r.nanos)}function HE(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=Bl(n[a],r[a]);if(o)return o}return Je(n.length,r.length)}function zl(t){return xy(t)}function xy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=oa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return la(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=xy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const c of r)o?o=!1:a+=",",a+=`${c}:${xy(n.fields[c])}`;return a+"}"}(t.mapValue):Me()}function ch(t){switch(ca(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tm(t);return e?16+ch(e):16;case 5:return 2*t.stringValue.length;case 6:return la(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+ch(o),0)}(t.arrayValue);case 10:case 11:return function(r){let a=0;return ma(r.fields,(o,c)=>{a+=o.length+ch(c)}),a}(t.mapValue);default:throw Me()}}function qE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ay(t){return!!t&&"integerValue"in t}function xv(t){return!!t&&"arrayValue"in t}function GE(t){return!!t&&"nullValue"in t}function $E(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function uh(t){return!!t&&"mapValue"in t}function YP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ru(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ma(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ru(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ru(t.arrayValue.values[n]);return e}return Object.assign({},t)}function KP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ru(n)}setAll(e){let n=gn.emptyPath(),r={},a=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const h=this.getFieldsMap(n);this.applyChanges(h,r,a),r={},a=[],n=d.popLast()}c?r[d.lastSegment()]=Ru(c):a.push(d.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];uh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){ma(n,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new Bn(Ru(this.value))}}function V1(t){const e=[];return ma(t.fields,(n,r)=>{const a=new gn([n]);if(uh(r)){const o=V1(r.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n,r,a,o,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new An(e,0,Pe.min(),Pe.min(),Pe.min(),Bn.empty(),0)}static newFoundDocument(e,n,r,a){return new An(e,1,n,Pe.min(),r,a,0)}static newNoDocument(e,n){return new An(e,2,n,Pe.min(),Pe.min(),Bn.empty(),0)}static newUnknownDocument(e,n){return new An(e,3,n,Pe.min(),Pe.min(),Bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.position=e,this.inclusive=n}}function WE(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],c=t.position[a];if(o.field.isKeyField()?r=Ce.comparator(Ce.fromName(c.referenceValue),n.key):r=Bl(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function YE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!di(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n="asc"){this.field=e,this.dir=n}}function QP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{}class Wt extends L1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ZP(e,n,r):n==="array-contains"?new tV(e,r):n==="in"?new nV(e,r):n==="not-in"?new rV(e,r):n==="array-contains-any"?new iV(e,r):new Wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new JP(e,r):new eV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Bl(n,this.value)):n!==null&&ca(this.value)===ca(n)&&this.matchesComparison(Bl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nr extends L1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Nr(e,n)}matches(e){return j1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function j1(t){return t.op==="and"}function U1(t){return XP(t)&&j1(t)}function XP(t){for(const e of t.filters)if(e instanceof Nr)return!1;return!0}function Cy(t){if(t instanceof Wt)return t.field.canonicalString()+t.op.toString()+zl(t.value);if(U1(t))return t.filters.map(e=>Cy(e)).join(",");{const e=t.filters.map(n=>Cy(n)).join(",");return`${t.op}(${e})`}}function B1(t,e){return t instanceof Wt?function(r,a){return a instanceof Wt&&r.op===a.op&&r.field.isEqual(a.field)&&di(r.value,a.value)}(t,e):t instanceof Nr?function(r,a){return a instanceof Nr&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,c,d)=>o&&B1(c,a.filters[d]),!0):!1}(t,e):void Me()}function z1(t){return t instanceof Wt?function(n){return`${n.field.canonicalString()} ${n.op} ${zl(n.value)}`}(t):t instanceof Nr?function(n){return n.op.toString()+" {"+n.getFilters().map(z1).join(" ,")+"}"}(t):"Filter"}class ZP extends Wt{constructor(e,n,r){super(e,n,r),this.key=Ce.fromName(r.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class JP extends Wt{constructor(e,n){super(e,"in",n),this.keys=F1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class eV extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=F1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function F1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ce.fromName(r.referenceValue))}class tV extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xv(n)&&Fu(n.arrayValue,this.value)}}class nV extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fu(this.value.arrayValue,n)}}class rV extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Fu(this.value.arrayValue,n)}}class iV extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,n=null,r=[],a=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=c,this.endAt=d,this.ue=null}}function KE(t,e=null,n=[],r=[],a=null,o=null,c=null){return new sV(t,e,n,r,a,o,c)}function Av(t){const e=Le(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),em(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>zl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>zl(r)).join(",")),e.ue=n}return e.ue}function Cv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!QP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!B1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!YE(t.startAt,e.startAt)&&YE(t.endAt,e.endAt)}function Ry(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n=null,r=[],a=[],o=null,c="F",d=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function aV(t,e,n,r,a,o,c,d){return new od(t,e,n,r,a,o,c,d)}function Rv(t){return new od(t)}function QE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function H1(t){return t.collectionGroup!==null}function Du(t){const e=Le(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Jt(gn.comparator);return c.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ch(o,r))}),n.has(gn.keyField().canonicalString())||e.ce.push(new Ch(gn.keyField(),r))}return e.ce}function ii(t){const e=Le(t);return e.le||(e.le=oV(e,Du(t))),e.le}function oV(t,e){if(t.limitType==="F")return KE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new Ch(a.field,o)});const n=t.endAt?new Ah(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ah(t.startAt.position,t.startAt.inclusive):null;return KE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Dy(t,e){const n=t.filters.concat([e]);return new od(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ny(t,e,n){return new od(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nm(t,e){return Cv(ii(t),ii(e))&&t.limitType===e.limitType}function q1(t){return`${Av(ii(t))}|lt:${t.limitType}`}function Tl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>z1(a)).join(", ")}]`),em(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>zl(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>zl(a)).join(",")),`Target(${r})`}(ii(t))}; limitType=${t.limitType})`}function rm(t,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ce.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,a){for(const o of Du(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(t,e)&&function(r,a){return!(r.startAt&&!function(c,d,h){const p=WE(c,d,h);return c.inclusive?p<=0:p<0}(r.startAt,Du(r),a)||r.endAt&&!function(c,d,h){const p=WE(c,d,h);return c.inclusive?p>=0:p>0}(r.endAt,Du(r),a))}(t,e)}function lV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function G1(t){return(e,n)=>{let r=!1;for(const a of Du(t)){const o=cV(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function cV(t,e,n){const r=t.field.isKeyField()?Ce.comparator(e.key,n.key):function(o,c,d){const h=c.data.field(o),p=d.data.field(o);return h!==null&&p!==null?Bl(h,p):Me()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ma(this.inner,(n,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return k1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=new Rt(Ce.comparator);function is(){return uV}const $1=new Rt(Ce.comparator);function bu(...t){let e=$1;for(const n of t)e=e.insert(n.key,n);return e}function W1(t){let e=$1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ro(){return Nu()}function Y1(){return Nu()}function Nu(){return new To(t=>t.toString(),(t,e)=>t.isEqual(e))}const dV=new Rt(Ce.comparator),fV=new Jt(Ce.comparator);function Ke(...t){let e=fV;for(const n of t)e=e.add(n);return e}const hV=new Jt(Je);function mV(){return hV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xh(e)?"-0":e}}function K1(t){return{integerValue:""+t}}function pV(t,e){return HP(e)?K1(e):Dv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(){this._=void 0}}function gV(t,e,n){return t instanceof Rh?function(a,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Sv(o)&&(o=tm(o)),o&&(c.fields.__previous_value__=o),{mapValue:c}}(n,e):t instanceof Fl?X1(t,e):t instanceof Hu?Z1(t,e):function(a,o){const c=Q1(a,o),d=XE(c)+XE(a.Pe);return Ay(c)&&Ay(a.Pe)?K1(d):Dv(a.serializer,d)}(t,e)}function yV(t,e,n){return t instanceof Fl?X1(t,e):t instanceof Hu?Z1(t,e):n}function Q1(t,e){return t instanceof Dh?function(r){return Ay(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Rh extends im{}class Fl extends im{constructor(e){super(),this.elements=e}}function X1(t,e){const n=J1(e);for(const r of t.elements)n.some(a=>di(a,r))||n.push(r);return{arrayValue:{values:n}}}class Hu extends im{constructor(e){super(),this.elements=e}}function Z1(t,e){let n=J1(e);for(const r of t.elements)n=n.filter(a=>!di(a,r));return{arrayValue:{values:n}}}class Dh extends im{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function XE(t){return Bt(t.integerValue||t.doubleValue)}function J1(t){return xv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n){this.field=e,this.transform=n}}function _V(t,e){return t.field.isEqual(e.field)&&function(r,a){return r instanceof Fl&&a instanceof Fl||r instanceof Hu&&a instanceof Hu?Ul(r.elements,a.elements,di):r instanceof Dh&&a instanceof Dh?di(r.Pe,a.Pe):r instanceof Rh&&a instanceof Rh}(t.transform,e.transform)}class wV{constructor(e,n){this.version=e,this.transformResults=n}}class Dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sm{}function ex(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Nv(t.key,Dr.none()):new ld(t.key,t.data,Dr.none());{const n=t.data,r=Bn.empty();let a=new Jt(gn.comparator);for(let o of e.fields)if(!a.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),a=a.add(o)}return new pa(t.key,r,new Zn(a.toArray()),Dr.none())}}function bV(t,e,n){t instanceof ld?function(a,o,c){const d=a.value.clone(),h=JE(a.fieldTransforms,o,c.transformResults);d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof pa?function(a,o,c){if(!dh(a.precondition,o))return void o.convertToUnknownDocument(c.version);const d=JE(a.fieldTransforms,o,c.transformResults),h=o.data;h.setAll(tx(a)),h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(t,e,n):function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function Iu(t,e,n,r){return t instanceof ld?function(o,c,d,h){if(!dh(o.precondition,c))return d;const p=o.value.clone(),y=eT(o.fieldTransforms,h,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof pa?function(o,c,d,h){if(!dh(o.precondition,c))return d;const p=eT(o.fieldTransforms,h,c),y=c.data;return y.setAll(tx(o)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(o,c,d){return dh(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function EV(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=Q1(r.transform,a||null);o!=null&&(n===null&&(n=Bn.empty()),n.set(r.field,o))}return n||null}function ZE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Ul(r,a,(o,c)=>_V(o,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ld extends sm{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class pa extends sm{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function tx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function JE(t,e,n){const r=new Map;ct(t.length===n.length);for(let a=0;a<n.length;a++){const o=t[a],c=o.transform,d=e.data.field(o.field);r.set(o.field,yV(c,d,n[a]))}return r}function eT(t,e,n){const r=new Map;for(const a of t){const o=a.transform,c=n.data.field(a.field);r.set(a.field,gV(o,c,e))}return r}class Nv extends sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TV extends sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&bV(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Iu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Iu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Y1();return this.mutations.forEach(a=>{const o=e.get(a.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=n.has(a.key)?null:d;const h=ex(c,d);h!==null&&r.set(a.key,h),c.isValidDocument()||c.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ke())}isEqual(e){return this.batchId===e.batchId&&Ul(this.mutations,e.mutations,(n,r)=>ZE(n,r))&&Ul(this.baseMutations,e.baseMutations,(n,r)=>ZE(n,r))}}class Iv{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){ct(e.mutations.length===r.length);let a=function(){return dV}();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,r[c].version);return new Iv(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xV=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,rt;function CV(t){switch(t){default:return Me();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function nx(t){if(t===void 0)return rs("GRPC error has no .code"),oe.UNKNOWN;switch(t){case $t.OK:return oe.OK;case $t.CANCELLED:return oe.CANCELLED;case $t.UNKNOWN:return oe.UNKNOWN;case $t.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case $t.INTERNAL:return oe.INTERNAL;case $t.UNAVAILABLE:return oe.UNAVAILABLE;case $t.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case $t.NOT_FOUND:return oe.NOT_FOUND;case $t.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case $t.ABORTED:return oe.ABORTED;case $t.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case $t.DATA_LOSS:return oe.DATA_LOSS;default:return Me()}}(rt=$t||($t={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=new so([4294967295,4294967295],0);function tT(t){const e=RV().encode(t),n=new A1;return n.update(e),new Uint8Array(n.digest())}function nT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new so([n,r],0),new so([a,o],0)]}class Mv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Eu(`Invalid padding: ${n}`);if(r<0)throw new Eu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Eu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Eu(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=so.fromNumber(this.Te)}Ee(e,n,r){let a=e.add(n.multiply(so.fromNumber(r)));return a.compare(DV)===1&&(a=new so([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=tT(e),[r,a]=nT(n);for(let o=0;o<this.hashCount;o++){const c=this.Ee(r,a,o);if(!this.de(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Mv(o,a,n);return r.forEach(d=>c.insert(d)),c}insert(e){if(this.Te===0)return;const n=tT(e),[r,a]=nT(n);for(let o=0;o<this.hashCount;o++){const c=this.Ee(r,a,o);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,cd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new am(Pe.min(),a,new Rt(Je),is(),Ke())}}class cd{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new cd(r,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,r,a){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=a}}class rx{constructor(e,n){this.targetId=e,this.me=n}}class ix{constructor(e,n,r=yn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class rT{constructor(){this.fe=0,this.ge=iT(),this.pe=yn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ke(),n=Ke(),r=Ke();return this.ge.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Me()}}),new cd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=iT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ct(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class NV{constructor(e){this.Le=e,this.Be=new Map,this.ke=is(),this.qe=Wf(),this.Qe=Wf(),this.Ke=new Rt(Je)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:Me()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,r=e.me.count,a=this.Ye(n);if(a){const o=a.target;if(Ry(o))if(r===0){const c=new Ce(o.path);this.We(n,c,An.newNoDocument(c,Pe.min()))}else ct(r===1);else{const c=this.Ze(n);if(c!==r){const d=this.Xe(e),h=d?this.et(d,e,c):1;if(h!==0){this.He(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let c,d;try{c=la(r).toUint8Array()}catch(h){if(h instanceof P1)return jl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new Mv(c,a,o)}catch(h){return jl(h instanceof Eu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.Te===0?null:d}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let a=0;return r.forEach(o=>{const c=this.Le.nt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.We(n,o,null),a++)}),a}it(e){const n=new Map;this.Be.forEach((o,c)=>{const d=this.Ye(c);if(d){if(o.current&&Ry(d.target)){const h=new Ce(d.target.path);this.st(h).has(c)||this.ot(c,h)||this.We(c,h,An.newNoDocument(h,e))}o.be&&(n.set(c,o.ve()),o.Ce())}});let r=Ke();this.Qe.forEach((o,c)=>{let d=!0;c.forEachWhile(h=>{const p=this.Ye(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(o))}),this.ke.forEach((o,c)=>c.setReadTime(e));const a=new am(e,n,this.Ke,this.ke,r);return this.ke=is(),this.qe=Wf(),this.Qe=Wf(),this.Ke=new Rt(Je),a}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new rT,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Jt(Je),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Jt(Je),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new rT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Wf(){return new Rt(Ce.comparator)}function iT(){return new Rt(Ce.comparator)}const IV={asc:"ASCENDING",desc:"DESCENDING"},MV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OV={and:"AND",or:"OR"};class kV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Iy(t,e){return t.useProto3Json||em(e)?e:{value:e}}function Nh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PV(t,e){return Nh(t,e.toTimestamp())}function si(t){return ct(!!t),Pe.fromTimestamp(function(n){const r=oa(n);return new Qe(r.seconds,r.nanos)}(t))}function Ov(t,e){return My(t,e).canonicalString()}function My(t,e){const n=function(a){return new Et(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ax(t){const e=Et.fromString(t);return ct(dx(e)),e}function Oy(t,e){return Ov(t.databaseId,e.path)}function Yg(t,e){const n=ax(e);if(n.get(1)!==t.databaseId.projectId)throw new be(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(lx(n))}function ox(t,e){return Ov(t.databaseId,e)}function VV(t){const e=ax(t);return e.length===4?Et.emptyPath():lx(e)}function ky(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lx(t){return ct(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function sT(t,e,n){return{name:Oy(t,e),fields:n.value.mapValue.fields}}function LV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Me()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(p,y){return p.useProto3Json?(ct(y===void 0||typeof y=="string"),yn.fromBase64String(y||"")):(ct(y===void 0||y instanceof Buffer||y instanceof Uint8Array),yn.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const y=p.code===void 0?oe.UNKNOWN:nx(p.code);return new be(y,p.message||"")}(c);n=new ix(r,a,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Yg(t,r.document.name),o=si(r.document.updateTime),c=r.document.createTime?si(r.document.createTime):Pe.min(),d=new Bn({mapValue:{fields:r.document.fields}}),h=An.newFoundDocument(a,o,c,d),p=r.targetIds||[],y=r.removedTargetIds||[];n=new fh(p,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Yg(t,r.document),o=r.readTime?si(r.readTime):Pe.min(),c=An.newNoDocument(a,o),d=r.removedTargetIds||[];n=new fh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Yg(t,r.document),o=r.removedTargetIds||[];n=new fh([],o,a,null)}else{if(!("filter"in e))return Me();{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,c=new AV(a,o),d=r.targetId;n=new rx(d,c)}}return n}function jV(t,e){let n;if(e instanceof ld)n={update:sT(t,e.key,e.value)};else if(e instanceof Nv)n={delete:Oy(t,e.key)};else if(e instanceof pa)n={update:sT(t,e.key,e.data),updateMask:WV(e.fieldMask)};else{if(!(e instanceof TV))return Me();n={verify:Oy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const d=c.transform;if(d instanceof Rh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Fl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Hu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Dh)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Me()}(0,r))),e.precondition.isNone||(n.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:PV(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Me()}(t,e.precondition)),n}function UV(t,e){return t&&t.length>0?(ct(e!==void 0),t.map(n=>function(a,o){let c=a.updateTime?si(a.updateTime):si(o);return c.isEqual(Pe.min())&&(c=si(o)),new wV(c,a.transformResults||[])}(n,e))):[]}function BV(t,e){return{documents:[ox(t,e.path)]}}function zV(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ox(t,a);const o=function(p){if(p.length!==0)return ux(Nr.create(p,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const c=function(p){if(p.length!==0)return p.map(y=>function(E){return{field:Sl(E.field),direction:qV(E.dir)}}(y))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Iy(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:n,parent:a}}function FV(t){let e=VV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){ct(r===1);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let o=[];n.where&&(o=function(v){const E=cx(v);return E instanceof Nr&&U1(E)?E.getFilters():[E]}(n.where));let c=[];n.orderBy&&(c=function(v){return v.map(E=>function(A){return new Ch(xl(A.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(E))}(n.orderBy));let d=null;n.limit&&(d=function(v){let E;return E=typeof v=="object"?v.value:v,em(E)?null:E}(n.limit));let h=null;n.startAt&&(h=function(v){const E=!!v.before,x=v.values||[];return new Ah(x,E)}(n.startAt));let p=null;return n.endAt&&(p=function(v){const E=!v.before,x=v.values||[];return new Ah(x,E)}(n.endAt)),aV(e,a,c,o,d,"F",h,p)}function HV(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xl(n.unaryFilter.field);return Wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=xl(n.unaryFilter.field);return Wt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=xl(n.unaryFilter.field);return Wt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=xl(n.unaryFilter.field);return Wt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Me()}}(t):t.fieldFilter!==void 0?function(n){return Wt.create(xl(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Me()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Nr.create(n.compositeFilter.filters.map(r=>cx(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Me()}}(n.compositeFilter.op))}(t):Me()}function qV(t){return IV[t]}function GV(t){return MV[t]}function $V(t){return OV[t]}function Sl(t){return{fieldPath:t.canonicalString()}}function xl(t){return gn.fromServerFormat(t.fieldPath)}function ux(t){return t instanceof Wt?function(n){if(n.op==="=="){if($E(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NAN"}};if(GE(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($E(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NOT_NAN"}};if(GE(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sl(n.field),op:GV(n.op),value:n.value}}}(t):t instanceof Nr?function(n){const r=n.getFilters().map(a=>ux(a));return r.length===1?r[0]:{compositeFilter:{op:$V(n.op),filters:r}}}(t):Me()}function WV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,r,a,o=Pe.min(),c=Pe.min(),d=yn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new Xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e){this.ht=e}}function KV(t){const e=FV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ny(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(){this.ln=new XV}addToCollectionParentIndex(e,n){return this.ln.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(aa.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(aa.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class XV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Jt(Et.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Jt(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Un{static withCacheSize(e){return new Un(e,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(41943040,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Hl(0)}static Qn(){return new Hl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT([t,e],[n,r]){const a=Je(t,n);return a===0?Je(e,r):a}class ZV{constructor(e){this.Gn=e,this.buffer=new Jt(oT),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();oT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){tc(n)?ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await ec(n)}await this.Yn(3e5)})}}class eL{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Jh.oe);const r=new ZV(n);return this.Zn.forEachTarget(e,a=>r.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>r.Hn(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(aT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aT):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,a,o,c,d,h,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a))).next(v=>(r=v,d=Date.now(),this.removeTargets(e,r,n))).next(v=>(o=v,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),El()<=Ye.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${o} targets in `+(h-d)+`ms
	Removed ${v} documents in `+(p-h)+`ms
Total Duration: ${p-y}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v})))}}function tL(t,e){return new eL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(){this.changes=new To(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(r!==null&&Iu(r.mutation,a,Zn.empty(),Qe.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ke()){const a=ro();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(o=>{let c=bu();return o.forEach((d,h)=>{c=c.insert(d,h.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const r=ro();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ke()))}populateOverlays(e,n,r){const a=[];return r.forEach(o=>{n.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,r,a){let o=is();const c=Nu(),d=function(){return Nu()}();return n.forEach((h,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof pa)?o=o.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Iu(y.mutation,p,y.mutation.getFieldMask(),Qe.now())):c.set(p.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((p,y)=>c.set(p,y)),n.forEach((p,y)=>{var v;return d.set(p,new rL(y,(v=c.get(p))!==null&&v!==void 0?v:null))}),d))}recalculateAndSaveOverlays(e,n){const r=Nu();let a=new Rt((c,d)=>c-d),o=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(h=>{const p=n.get(h);if(p===null)return;let y=r.get(h)||Zn.empty();y=d.applyToLocalView(p,y),r.set(h,y);const v=(a.get(d.batchId)||Ke()).add(h);a=a.insert(d.batchId,v)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),p=h.key,y=h.value,v=Y1();y.forEach(E=>{if(!o.has(E)){const x=ex(n.get(E),r.get(E));x!==null&&v.set(E,x),o=o.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,v))}return se.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,a){return function(c){return Ce.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):H1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):se.resolve(ro());let d=-1,h=o;return c.next(p=>se.forEach(p,(y,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),o.get(y)?se.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{h=h.insert(y,E)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,h,p,Ke())).next(y=>({batchId:d,changes:W1(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next(r=>{let a=bu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let c=bu();return this.indexManager.getCollectionParents(e,o).next(d=>se.forEach(d,h=>{const p=function(v,E){return new od(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next(y=>{y.forEach((v,E)=>{c=c.insert(v,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a))).next(c=>{o.forEach((h,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,An.newInvalidDocument(y)))});let d=bu();return c.forEach((h,p)=>{const y=o.get(h);y!==void 0&&Iu(y.mutation,p,Zn.empty(),Qe.now()),rm(n,p)&&(d=d.insert(h,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return se.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:si(a.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:KV(a.bundledQuery),readTime:si(a.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(){this.overlays=new Rt(Ce.comparator),this.Er=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ro();return se.forEach(n,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,o)=>{this.Tt(e,n,o)}),se.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.Er.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Er.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const a=ro(),o=n.length+1,c=new Ce(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const h=d.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>r&&a.set(h.getKey(),h)}return se.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new Rt((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=o.get(p.largestBatchId);y===null&&(y=ro(),o=o.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=ro(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,y)=>d.set(p,y)),!(d.size()>=a)););return se.resolve(d)}Tt(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Er.get(a.largestBatchId).delete(r.key);this.Er.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new xV(n,r));let o=this.Er.get(n);o===void 0&&(o=Ke(),this.Er.set(n,o)),this.Er.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(){this.dr=new Jt(on.Ar),this.Rr=new Jt(on.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new on(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new on(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new Ce(new Et([])),r=new on(n,e),a=new on(n,e+1),o=[];return this.Rr.forEachInRange([r,a],c=>{this.gr(c),o.push(c.key)}),o}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new Ce(new Et([])),r=new on(n,e),a=new on(n,e+1);let o=Ke();return this.Rr.forEachInRange([r,a],c=>{o=o.add(c.key)}),o}containsKey(e){const n=new on(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class on{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return Ce.comparator(e.key,n.key)||Je(e.br,n.br)}static Vr(e,n){return Je(e.br,n.br)||Ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Jt(on.Ar)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new SV(o,n,r,a);this.mutationQueue.push(c);for(const d of a)this.vr=this.vr.add(new on(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,n){return se.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.Fr(r),o=a<0?0:a;return se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new on(n,0),a=new on(n,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,a],c=>{const d=this.Cr(c.br);o.push(d)}),se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jt(Je);return n.forEach(a=>{const o=new on(a,0),c=new on(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,c],d=>{r=r.add(d.br)})}),se.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;Ce.isDocumentKey(o)||(o=o.child(""));const c=new on(new Ce(o),0);let d=new Jt(Je);return this.vr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(d=d.add(h.br)),!0)},c),se.resolve(this.Mr(d))}Mr(e){const n=[];return e.forEach(r=>{const a=this.Cr(r);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){ct(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return se.forEach(n.mutations,a=>{const o=new on(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new on(n,0),a=this.vr.firstAfterOrEqual(r);return se.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.Nr=e,this.docs=function(){return new Rt(Ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,c=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():An.newInvalidDocument(n))}getEntries(e,n){let r=is();return n.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():An.newInvalidDocument(a))}),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=is();const c=n.path,d=new Ce(c.child("")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:p,value:{document:y}}=h.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||UP(jP(y),r)<=0||(a.has(y.key)||rm(n,y))&&(o=o.insert(y.key,y.mutableCopy()))}return se.resolve(o)}getAllFromCollectionGroup(e,n,r,a){Me()}Lr(e,n){return se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new uL(this)}getSize(e){return se.resolve(this.size)}}class uL extends nL{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(r)}),se.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e){this.persistence=e,this.Br=new To(n=>Av(n),Cv),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.kr=0,this.qr=new kv,this.targetCount=0,this.Qr=Hl.qn()}forEachTarget(e,n){return this.Br.forEach((r,a)=>n(a)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),se.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Hl(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Un(n),se.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.Br.forEach((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.Br.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),se.waitFor(o).next(()=>a)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach(c=>{o.push(a.markPotentiallyOrphaned(e,c))}),se.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Jh(0),this.Ur=!1,this.Ur=!0,this.Wr=new oL,this.referenceDelegate=e(this),this.Gr=new dL(this),this.indexManager=new QV,this.remoteDocumentCache=function(a){return new cL(a)}(r=>this.referenceDelegate.zr(r)),this.serializer=new YV(n),this.jr=new sL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new lL(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const a=new fL(this.$r.next());return this.referenceDelegate.Hr(),r(a).next(o=>this.referenceDelegate.Jr(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Yr(e,n){return se.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class fL extends zP{constructor(e){super(),this.currentSequenceNumber=e}}class Pv{constructor(e){this.persistence=e,this.Zr=new kv,this.Xr=null}static ei(e){return new Pv(e)}get ti(){if(this.Xr)return this.Xr;throw Me()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),se.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.ti,r=>{const a=Ce.fromPath(r);return this.ni(e,a).next(o=>{o||n.removeEntry(a,Pe.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return se.or([()=>se.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Ih{constructor(e,n){this.persistence=e,this.ri=new To(r=>qP(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=tL(this,n)}static ei(e,n){return new Ih(e,n)}Hr(){}Jr(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return se.forEach(this.ri,(r,a)=>this.ir(e,r,a).next(o=>o?se.resolve():n(a)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.Lr(e,c=>this.ir(e,c,n).next(d=>{d||(r++,o.removeEntry(c,Pe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),se.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ch(e.data.value)),n}ir(e,n,r){return se.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return se.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=a}static zi(e,n){let r=Ke(),a=Ke();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Vv(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return cO()?8:FP(Cn())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.Xi(e,n).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.es(e,n,a,r).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new hL;return this.ts(e,n,c).next(d=>{if(o.result=d,this.Hi)return this.ns(e,n,c,d.size)})}).next(()=>o.result)}ns(e,n,r,a){return r.documentReadCount<this.Ji?(El()<=Ye.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Tl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),se.resolve()):(El()<=Ye.DEBUG&&ge("QueryEngine","Query:",Tl(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.Yi*a?(El()<=Ye.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Tl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ii(n))):se.resolve())}Xi(e,n){if(QE(n))return se.resolve(null);let r=ii(n);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Ny(n,null,"F"),r=ii(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const c=Ke(...o);return this.Zi.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.rs(n,d);return this.ss(n,p,c,h.readTime)?this.Xi(e,Ny(n,null,"F")):this.os(e,p,n,h)}))})))}es(e,n,r,a){return QE(n)||a.isEqual(Pe.min())?se.resolve(null):this.Zi.getDocuments(e,r).next(o=>{const c=this.rs(n,o);return this.ss(n,c,r,a)?se.resolve(null):(El()<=Ye.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Tl(n)),this.os(e,c,n,LP(a,-1)).next(d=>d))})}rs(e,n){let r=new Jt(G1(e));return n.forEach((a,o)=>{rm(e,o)&&(r=r.add(o))}),r}ss(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}ts(e,n,r){return El()<=Ye.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Tl(n)),this.Zi.getDocumentsMatchingQuery(e,n,aa.min(),r)}os(e,n,r,a){return this.Zi.getDocumentsMatchingQuery(e,r,a).next(o=>(n.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n,r,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new Rt(Je),this.cs=new To(o=>Av(o),Cv),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iL(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function gL(t,e,n,r){return new pL(t,e,n,r)}async function hx(t,e){const n=Le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],d=[];let h=Ke();for(const p of a){c.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}for(const p of o){d.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}return n.localDocuments.getDocuments(r,h).next(p=>({Ts:p,removedBatchIds:c,addedBatchIds:d}))})})}function yL(t,e){const n=Le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=n.hs.newChangeBuffer({trackRemovals:!0});return function(d,h,p,y){const v=p.batch,E=v.keys();let x=se.resolve();return E.forEach(A=>{x=x.next(()=>y.getEntry(h,A)).next(C=>{const R=p.docVersions.get(A);ct(R!==null),C.version.compareTo(R)<0&&(v.applyToRemoteDocument(C,p),C.isValidDocument()&&(C.setReadTime(p.commitVersion),y.addEntry(C)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(h,v))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let h=Ke();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(h=h.add(d.batch.mutations[p].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}function mx(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function vL(t,e){const n=Le(t),r=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const d=[];e.targetChanges.forEach((y,v)=>{const E=a.get(v);if(!E)return;d.push(n.Gr.removeMatchingKeys(o,y.removedDocuments,v).next(()=>n.Gr.addMatchingKeys(o,y.addedDocuments,v)));let x=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?x=x.withResumeToken(yn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,r)),a=a.insert(v,x),function(C,R,O){return C.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(E,x,y)&&d.push(n.Gr.updateTargetData(o,x))});let h=is(),p=Ke();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,y))}),d.push(_L(o,c,e.documentUpdates).next(y=>{h=y.Is,p=y.Es})),!r.isEqual(Pe.min())){const y=n.Gr.getLastRemoteSnapshotVersion(o).next(v=>n.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));d.push(y)}return se.waitFor(d).next(()=>c.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,h,p)).next(()=>h)}).then(o=>(n.us=a,o))}function _L(t,e,n){let r=Ke(),a=Ke();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let c=is();return n.forEach((d,h)=>{const p=o.get(d);h.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),h.isNoDocument()&&h.version.isEqual(Pe.min())?(e.removeEntry(d,h.readTime),c=c.insert(d,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),c=c.insert(d,h)):ge("LocalStore","Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",h.version)}),{Is:c,Es:a}})}function wL(t,e){const n=Le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bL(t,e){const n=Le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Gr.getTargetData(r,e).next(o=>o?(a=o,se.resolve(a)):n.Gr.allocateTargetId(r).next(c=>(a=new Xs(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.us.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function Py(t,e,n){const r=Le(t),a=r.us.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!tc(c))throw c;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.us=r.us.remove(e),r.cs.delete(a.target)}function lT(t,e,n){const r=Le(t);let a=Pe.min(),o=Ke();return r.persistence.runTransaction("Execute query","readwrite",c=>function(h,p,y){const v=Le(h),E=v.cs.get(y);return E!==void 0?se.resolve(v.us.get(E)):v.Gr.getTargetData(p,y)}(r,c,ii(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(c,d.targetId).next(h=>{o=h})}).next(()=>r._s.getDocumentsMatchingQuery(c,e,n?a:Pe.min(),n?o:Ke())).next(d=>(EL(r,lV(e),d),{documents:d,ds:o})))}function EL(t,e,n){let r=t.ls.get(e)||Pe.min();n.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ls.set(e,r)}class cT{constructor(){this.activeTargetIds=mV()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TL{constructor(){this._o=new cT,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new cT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yf=null;function Kg(){return Yf===null?Yf=function(){return 268435456+Math.round(2147483648*Math.random())}():Yf++,"0x"+Yf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="WebChannelConnection";class CL extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${a}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Oo(n,r,a,o,c){const d=Kg(),h=this.No(n,r.toUriEncodedString());ge("RestConnection",`Sending RPC '${n}' ${d}:`,h,a);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(p,o,c),this.Bo(n,h,p,a).then(y=>(ge("RestConnection",`Received RPC '${n}' ${d}: `,y),y),y=>{throw jl("RestConnection",`RPC '${n}' ${d} failed with error: `,y,"url: ",h,"request:",a),y})}ko(n,r,a,o,c,d){return this.Oo(n,r,a,o,c)}Lo(n,r,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,c)=>n[c]=o),a&&a.headers.forEach((o,c)=>n[c]=o)}No(n,r){const a=xL[n];return`${this.Fo}/v1/${r}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,a){const o=Kg();return new Promise((c,d)=>{const h=new C1;h.setWithCredentials(!0),h.listenOnce(R1.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case lh.NO_ERROR:const y=h.getResponseJson();ge(Sn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),c(y);break;case lh.TIMEOUT:ge(Sn,`RPC '${e}' ${o} timed out`),d(new be(oe.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const v=h.getStatus();if(ge(Sn,`RPC '${e}' ${o} failed with status:`,v,"response text:",h.getResponseText()),v>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const x=E==null?void 0:E.error;if(x&&x.status&&x.message){const A=function(R){const O=R.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(O)>=0?O:oe.UNKNOWN}(x.status);d(new be(A,x.message))}else d(new be(oe.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new be(oe.UNAVAILABLE,"Connection failed."));break;default:Me()}}finally{ge(Sn,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(a);ge(Sn,`RPC '${e}' ${o} sending request:`,a),h.send(n,"POST",p,r,15)})}qo(e,n,r){const a=Kg(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=I1(),d=N1(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Lo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const y=o.join("");ge(Sn,`Creating RPC '${e}' stream ${a}: ${y}`,h);const v=c.createWebChannel(y,h);let E=!1,x=!1;const A=new AL({Eo:R=>{x?ge(Sn,`Not sending because RPC '${e}' stream ${a} is closed:`,R):(E||(ge(Sn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),E=!0),ge(Sn,`RPC '${e}' stream ${a} sending:`,R),v.send(R))},Ao:()=>v.close()}),C=(R,O,D)=>{R.listen(O,U=>{try{D(U)}catch(H){setTimeout(()=>{throw H},0)}})};return C(v,wu.EventType.OPEN,()=>{x||(ge(Sn,`RPC '${e}' stream ${a} transport opened.`),A.So())}),C(v,wu.EventType.CLOSE,()=>{x||(x=!0,ge(Sn,`RPC '${e}' stream ${a} transport closed`),A.Do())}),C(v,wu.EventType.ERROR,R=>{x||(x=!0,jl(Sn,`RPC '${e}' stream ${a} transport errored:`,R),A.Do(new be(oe.UNAVAILABLE,"The operation could not be completed")))}),C(v,wu.EventType.MESSAGE,R=>{var O;if(!x){const D=R.data[0];ct(!!D);const U=D,H=(U==null?void 0:U.error)||((O=U[0])===null||O===void 0?void 0:O.error);if(H){ge(Sn,`RPC '${e}' stream ${a} received error:`,H);const W=H.status;let Z=function(I){const V=$t[I];if(V!==void 0)return nx(V)}(W),k=H.message;Z===void 0&&(Z=oe.INTERNAL,k="Unknown error status: "+W+" with message "+H.message),x=!0,A.Do(new be(Z,k)),v.close()}else ge(Sn,`RPC '${e}' stream ${a} received:`,D),A.vo(D)}}),C(d,D1.STAT_EVENT,R=>{R.stat===Sy.PROXY?ge(Sn,`RPC '${e}' stream ${a} detected buffering proxy`):R.stat===Sy.NOPROXY&&ge(Sn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{A.bo()},0),A}}function Qg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(t){return new kV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n,r=1e3,a=1.5,o=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=a,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-r);a>0&&ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n,r,a,o,c,d,h){this.li=e,this.Yo=r,this.Zo=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new px(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(rs(n.toString()),rs("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.Xo===n&&this.I_(r,a)},r=>{e(()=>{const a=new be(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(a)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{r(()=>this.E_(a))}),this.stream.onMessage(a=>{r(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RL extends gx{constructor(e,n,r,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=o}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=LV(this.serializer,e),r=function(o){if(!("targetChange"in o))return Pe.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Pe.min():c.readTime?si(c.readTime):Pe.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=ky(this.serializer),n.addTarget=function(o,c){let d;const h=c.target;if(d=Ry(h)?{documents:BV(o,h)}:{query:zV(o,h).ct},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=sx(o,c.resumeToken);const p=Iy(o,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Pe.min())>0){d.readTime=Nh(o,c.snapshotVersion.toTimestamp());const p=Iy(o,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const r=HV(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=ky(this.serializer),n.removeTarget=e,this.c_(n)}}class DL extends gx{constructor(e,n,r,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return ct(!!e.streamToken),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=UV(e.writeResults,e.commitTime),r=si(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=ky(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>jV(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL extends class{}{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new be(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Oo(e,My(n,r),a,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(oe.UNKNOWN,o.toString())})}ko(e,n,r,a,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.ko(e,My(n,r),a,c,d,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new be(oe.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class IL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(rs(n),this.C_=!1):ge("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(c=>{r.enqueueAndForget(async()=>{So(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(h){const p=Le(h);p.k_.add(4),await ud(p),p.K_.set("Unknown"),p.k_.delete(4),await lm(p)}(this))})}),this.K_=new IL(r,a)}}async function lm(t){if(So(t))for(const e of t.q_)await e(!0)}async function ud(t){for(const e of t.q_)await e(!1)}function yx(t,e){const n=Le(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Bv(n)?Uv(n):nc(n).s_()&&jv(n,e))}function Lv(t,e){const n=Le(t),r=nc(n);n.B_.delete(e),r.s_()&&vx(n,e),n.B_.size===0&&(r.s_()?r.a_():So(n)&&n.K_.set("Unknown"))}function jv(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nc(t).V_(e)}function vx(t,e){t.U_.xe(e),nc(t).m_(e)}function Uv(t){t.U_=new NV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),nc(t).start(),t.K_.F_()}function Bv(t){return So(t)&&!nc(t).i_()&&t.B_.size>0}function So(t){return Le(t).k_.size===0}function _x(t){t.U_=void 0}async function OL(t){t.K_.set("Online")}async function kL(t){t.B_.forEach((e,n)=>{jv(t,e)})}async function PL(t,e){_x(t),Bv(t)?(t.K_.O_(e),Uv(t)):t.K_.set("Unknown")}async function VL(t,e,n){if(t.K_.set("Online"),e instanceof ix&&e.state===2&&e.cause)try{await async function(a,o){const c=o.cause;for(const d of o.targetIds)a.B_.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.B_.delete(d),a.U_.removeTarget(d))}(t,e)}catch(r){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Mh(t,r)}else if(e instanceof fh?t.U_.$e(e):e instanceof rx?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(Pe.min()))try{const r=await mx(t.localStore);n.compareTo(r)>=0&&await function(o,c){const d=o.U_.it(c);return d.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=o.B_.get(p);y&&o.B_.set(p,y.withResumeToken(h.resumeToken,c))}}),d.targetMismatches.forEach((h,p)=>{const y=o.B_.get(h);if(!y)return;o.B_.set(h,y.withResumeToken(yn.EMPTY_BYTE_STRING,y.snapshotVersion)),vx(o,h);const v=new Xs(y.target,h,p,y.sequenceNumber);jv(o,v)}),o.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(r){ge("RemoteStore","Failed to raise snapshot:",r),await Mh(t,r)}}async function Mh(t,e,n){if(!tc(e))throw e;t.k_.add(1),await ud(t),t.K_.set("Offline"),n||(n=()=>mx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await lm(t)})}function wx(t,e){return e().catch(n=>Mh(t,n,e))}async function cm(t){const e=Le(t),n=ua(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;LL(e);)try{const a=await wL(e.localStore,r);if(a===null){e.L_.length===0&&n.a_();break}r=a.batchId,jL(e,a)}catch(a){await Mh(e,a)}bx(e)&&Ex(e)}function LL(t){return So(t)&&t.L_.length<10}function jL(t,e){t.L_.push(e);const n=ua(t);n.s_()&&n.f_&&n.g_(e.mutations)}function bx(t){return So(t)&&!ua(t).i_()&&t.L_.length>0}function Ex(t){ua(t).start()}async function UL(t){ua(t).w_()}async function BL(t){const e=ua(t);for(const n of t.L_)e.g_(n.mutations)}async function zL(t,e,n){const r=t.L_.shift(),a=Iv.from(r,e,n);await wx(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await cm(t)}async function FL(t,e){e&&ua(t).f_&&await async function(r,a){if(function(c){return CV(c)&&c!==oe.ABORTED}(a.code)){const o=r.L_.shift();ua(r).__(),await wx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await cm(r)}}(t,e),bx(t)&&Ex(t)}async function dT(t,e){const n=Le(t);n.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const r=So(n);n.k_.add(3),await ud(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await lm(n)}async function HL(t,e){const n=Le(t);e?(n.k_.delete(2),await lm(n)):e||(n.k_.add(2),await ud(n),n.K_.set("Unknown"))}function nc(t){return t.W_||(t.W_=function(n,r,a){const o=Le(n);return o.b_(),new RL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(t.datastore,t.asyncQueue,{Ro:OL.bind(null,t),mo:kL.bind(null,t),po:PL.bind(null,t),R_:VL.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),Bv(t)?Uv(t):t.K_.set("Unknown")):(await t.W_.stop(),_x(t))})),t.W_}function ua(t){return t.G_||(t.G_=function(n,r,a){const o=Le(n);return o.b_(),new DL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:UL.bind(null,t),po:FL.bind(null,t),p_:BL.bind(null,t),y_:zL.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await cm(t)):(await t.G_.stop(),t.L_.length>0&&(ge("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const c=Date.now()+r,d=new zv(e,n,c,a,o);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fv(t,e){if(rs("AsyncQueue",`${e}: ${t}`),tc(t))return new be(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{static emptySet(e){return new Dl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ce.comparator(n.key,r.key):(n,r)=>Ce.comparator(n.key,r.key),this.keyedMap=bu(),this.sortedSet=new Rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Dl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(){this.z_=new Rt(Ce.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Me():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ql{constructor(e,n,r,a,o,c,d,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,o){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new ql(e,n,Dl.emptySet(n),c,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class GL{constructor(){this.queries=hT(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const a=Le(n),o=a.queries;a.queries=hT(),o.forEach((c,d)=>{for(const h of d.J_)h.onError(r)})})(this,new be(oe.ABORTED,"Firestore shutting down"))}}function hT(){return new To(t=>q1(t),nm)}async function $L(t,e){const n=Le(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.Y_()&&e.Z_()&&(r=2):(o=new qL,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=await n.onListen(a,!0);break;case 1:o.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=Fv(c,`Initialization of query '${Tl(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,o),o.J_.push(e),e.ea(n.onlineState),o.H_&&e.ta(o.H_)&&Hv(n)}async function WL(t,e){const n=Le(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const c=o.J_.indexOf(e);c>=0&&(o.J_.splice(c,1),o.J_.length===0?a=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function YL(t,e){const n=Le(t);let r=!1;for(const a of e){const o=a.query,c=n.queries.get(o);if(c){for(const d of c.J_)d.ta(a)&&(r=!0);c.H_=a}}r&&Hv(n)}function KL(t,e,n){const r=Le(t),a=r.queries.get(e);if(a)for(const o of a.J_)o.onError(n);r.queries.delete(e)}function Hv(t){t.X_.forEach(e=>{e.next()})}var Vy,mT;(mT=Vy||(Vy={})).na="default",mT.Cache="cache";class QL{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new ql(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Vy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.key=e}}class Sx{constructor(e){this.key=e}}class XL{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ke(),this.mutatedKeys=Ke(),this.Va=G1(e),this.ma=new Dl(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new fT,a=n?n.ma:this.ma;let o=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,v)=>{const E=a.get(y),x=rm(this.query,v)?v:null,A=!!E&&this.mutatedKeys.has(E.key),C=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let R=!1;E&&x?E.data.isEqual(x.data)?A!==C&&(r.track({type:3,doc:x}),R=!0):this.ya(E,x)||(r.track({type:2,doc:x}),R=!0,(h&&this.Va(x,h)>0||p&&this.Va(x,p)<0)&&(d=!0)):!E&&x?(r.track({type:0,doc:x}),R=!0):E&&!x&&(r.track({type:1,doc:E}),R=!0,(h||p)&&(d=!0)),R&&(x?(c=c.add(x),o=C?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{ma:c,pa:r,ss:d,mutatedKeys:o}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((y,v)=>function(x,A){const C=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me()}};return C(x)-C(A)}(y.type,v.type)||this.Va(y.doc,v.doc)),this.wa(r),a=a!=null&&a;const d=n&&!a?this.Sa():[],h=this.Ra.size===0&&this.current&&!a?1:0,p=h!==this.Aa;return this.Aa=h,c.length!==0||p?{snapshot:new ql(this.query,e.ma,o,c,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new fT,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ke(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new Sx(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new Tx(r))}),n}va(e){this.da=e.ds,this.Ra=Ke();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return ql.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class ZL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class JL{constructor(e){this.key=e,this.Fa=!1}}class ej{constructor(e,n,r,a,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new To(d=>q1(d),nm),this.Oa=new Map,this.Na=new Set,this.La=new Rt(Ce.comparator),this.Ba=new Map,this.ka=new kv,this.qa={},this.Qa=new Map,this.Ka=Hl.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function tj(t,e,n=!0){const r=Nx(t);let a;const o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.Ca()):a=await xx(r,e,n,!0),a}async function nj(t,e){const n=Nx(t);await xx(n,e,!0,!1)}async function xx(t,e,n,r){const a=await bL(t.localStore,ii(e)),o=a.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let d;return r&&(d=await rj(t,e,o,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&yx(t.remoteStore,a),d}async function rj(t,e,n,r,a){t.Ua=(v,E,x)=>async function(C,R,O,D){let U=R.view.ga(O);U.ss&&(U=await lT(C.localStore,R.query,!1).then(({documents:k})=>R.view.ga(k,U)));const H=D&&D.targetChanges.get(R.targetId),W=D&&D.targetMismatches.get(R.targetId)!=null,Z=R.view.applyChanges(U,C.isPrimaryClient,H,W);return gT(C,R.targetId,Z.ba),Z.snapshot}(t,v,E,x);const o=await lT(t.localStore,e,!0),c=new XL(e,o.ds),d=c.ga(o.documents),h=cd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=c.applyChanges(d,t.isPrimaryClient,h);gT(t,n,p.ba);const y=new ZL(e,n,c);return t.xa.set(e,y),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),p.snapshot}async function ij(t,e,n){const r=Le(t),a=r.xa.get(e),o=r.Oa.get(a.targetId);if(o.length>1)return r.Oa.set(a.targetId,o.filter(c=>!nm(c,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Py(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Lv(r.remoteStore,a.targetId),Ly(r,a.targetId)}).catch(ec)):(Ly(r,a.targetId),await Py(r.localStore,a.targetId,!0))}async function sj(t,e){const n=Le(t),r=n.xa.get(e),a=n.Oa.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Lv(n.remoteStore,r.targetId))}async function aj(t,e,n){const r=hj(t);try{const a=await function(c,d){const h=Le(c),p=Qe.now(),y=d.reduce((x,A)=>x.add(A.key),Ke());let v,E;return h.persistence.runTransaction("Locally write mutations","readwrite",x=>{let A=is(),C=Ke();return h.hs.getEntries(x,y).next(R=>{A=R,A.forEach((O,D)=>{D.isValidDocument()||(C=C.add(O))})}).next(()=>h.localDocuments.getOverlayedDocuments(x,A)).next(R=>{v=R;const O=[];for(const D of d){const U=EV(D,v.get(D.key).overlayedDocument);U!=null&&O.push(new pa(D.key,U,V1(U.value.mapValue),Dr.exists(!0)))}return h.mutationQueue.addMutationBatch(x,p,O,d)}).next(R=>{E=R;const O=R.applyToLocalDocumentSet(v,C);return h.documentOverlayCache.saveOverlays(x,R.batchId,O)})}).then(()=>({batchId:E.batchId,changes:W1(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,d,h){let p=c.qa[c.currentUser.toKey()];p||(p=new Rt(Je)),p=p.insert(d,h),c.qa[c.currentUser.toKey()]=p}(r,a.batchId,n),await dd(r,a.changes),await cm(r.remoteStore)}catch(a){const o=Fv(a,"Failed to persist write");n.reject(o)}}async function Ax(t,e){const n=Le(t);try{const r=await vL(n.localStore,e);e.targetChanges.forEach((a,o)=>{const c=n.Ba.get(o);c&&(ct(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Fa=!0:a.modifiedDocuments.size>0?ct(c.Fa):a.removedDocuments.size>0&&(ct(c.Fa),c.Fa=!1))}),await dd(n,r,e)}catch(r){await ec(r)}}function pT(t,e,n){const r=Le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.xa.forEach((o,c)=>{const d=c.view.ea(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const h=Le(c);h.onlineState=d;let p=!1;h.queries.forEach((y,v)=>{for(const E of v.J_)E.ea(d)&&(p=!0)}),p&&Hv(h)}(r.eventManager,e),a.length&&r.Ma.R_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function oj(t,e,n){const r=Le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Ba.get(e),o=a&&a.key;if(o){let c=new Rt(Ce.comparator);c=c.insert(o,An.newNoDocument(o,Pe.min()));const d=Ke().add(o),h=new am(Pe.min(),new Map,new Rt(Je),c,d);await Ax(r,h),r.La=r.La.remove(o),r.Ba.delete(e),qv(r)}else await Py(r.localStore,e,!1).then(()=>Ly(r,e,n)).catch(ec)}async function lj(t,e){const n=Le(t),r=e.batch.batchId;try{const a=await yL(n.localStore,e);Rx(n,r,null),Cx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await dd(n,a)}catch(a){await ec(a)}}async function cj(t,e,n){const r=Le(t);try{const a=await function(c,d){const h=Le(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.mutationQueue.lookupMutationBatch(p,d).next(v=>(ct(v!==null),y=v.keys(),h.mutationQueue.removeMutationBatch(p,v))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,y,d)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>h.localDocuments.getDocuments(p,y))})}(r.localStore,e);Rx(r,e,n),Cx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await dd(r,a)}catch(a){await ec(a)}}function Cx(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function Rx(t,e,n){const r=Le(t);let a=r.qa[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.qa[r.currentUser.toKey()]=a}}function Ly(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||Dx(t,r)})}function Dx(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(Lv(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),qv(t))}function gT(t,e,n){for(const r of n)r instanceof Tx?(t.ka.addReference(r.key,e),uj(t,r)):r instanceof Sx?(ge("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||Dx(t,r.key)):Me()}function uj(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(ge("SyncEngine","New document in limbo: "+n),t.Na.add(r),qv(t))}function qv(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new Ce(Et.fromString(e)),r=t.Ka.next();t.Ba.set(r,new JL(n)),t.La=t.La.insert(n,r),yx(t.remoteStore,new Xs(ii(Rv(n.path)),r,"TargetPurposeLimboResolution",Jh.oe))}}async function dd(t,e,n){const r=Le(t),a=[],o=[],c=[];r.xa.isEmpty()||(r.xa.forEach((d,h)=>{c.push(r.Ua(h,e,n).then(p=>{var y;if((p||n)&&r.isPrimaryClient){const v=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(h.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(p){a.push(p);const v=Vv.zi(h.targetId,p);o.push(v)}}))}),await Promise.all(c),r.Ma.R_(a),await async function(h,p){const y=Le(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>se.forEach(p,E=>se.forEach(E.Wi,x=>y.persistence.referenceDelegate.addReference(v,E.targetId,x)).next(()=>se.forEach(E.Gi,x=>y.persistence.referenceDelegate.removeReference(v,E.targetId,x)))))}catch(v){if(!tc(v))throw v;ge("LocalStore","Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const x=y.us.get(E),A=x.snapshotVersion,C=x.withLastLimboFreeSnapshotVersion(A);y.us=y.us.insert(E,C)}}}(r.localStore,o))}async function dj(t,e){const n=Le(t);if(!n.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const r=await hx(n.localStore,e);n.currentUser=e,function(o,c){o.Qa.forEach(d=>{d.forEach(h=>{h.reject(new be(oe.CANCELLED,c))})}),o.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await dd(n,r.Ts)}}function fj(t,e){const n=Le(t),r=n.Ba.get(e);if(r&&r.Fa)return Ke().add(r.key);{let a=Ke();const o=n.Oa.get(e);if(!o)return a;for(const c of o){const d=n.xa.get(c);a=a.unionWith(d.view.fa)}return a}}function Nx(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ax.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oj.bind(null,e),e.Ma.R_=YL.bind(null,e.eventManager),e.Ma.Wa=KL.bind(null,e.eventManager),e}function hj(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cj.bind(null,e),e}class Oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=om(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return gL(this.persistence,new mL,e.initialUser,this.serializer)}ja(e){return new fx(Pv.ei,this.serializer)}za(e){return new TL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oh.provider={build:()=>new Oh};class mj extends Oh{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){ct(this.persistence.referenceDelegate instanceof Ih);const r=this.persistence.referenceDelegate.garbageCollector;return new JV(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new fx(r=>Ih.ei(r,n),this.serializer)}}class jy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dj.bind(null,this.syncEngine),await HL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new GL}()}createDatastore(e){const n=om(e.databaseInfo.databaseId),r=function(o){return new CL(o)}(e.databaseInfo);return function(o,c,d,h){return new NL(o,c,d,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,a,o,c,d){return new ML(r,a,o,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>pT(this.syncEngine,n,0),function(){return uT.p()?new uT:new SL}())}createSyncEngine(e,n){return function(a,o,c,d,h,p,y){const v=new ej(a,o,c,d,h,p);return y&&(v.$a=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const o=Le(a);ge("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await ud(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}jy.provider={build:()=>new jy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):rs("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=xn.UNAUTHENTICATED,this.clientId=O1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async c=>{ge("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(ge("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Fv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Xg(t,e){t.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async a=>{r.isEqual(a)||(await hx(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function yT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await yj(t);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>dT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>dT(e.remoteStore,a)),t._onlineComponents=e}async function yj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await Xg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;jl("Error using user provided cache. Falling back to memory cache: "+n),await Xg(t,new Oh)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await Xg(t,new mj(void 0));return t._offlineComponents}async function Ix(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await yT(t,t._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await yT(t,new jy))),t._onlineComponents}function vj(t){return Ix(t).then(e=>e.syncEngine)}async function vT(t){const e=await Ix(t),n=e.eventManager;return n.onListen=tj.bind(null,e.syncEngine),n.onUnlisten=ij.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sj.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t,e,n){if(!n)throw new be(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _j(t,e,n,r){if(e===!0&&r===!0)throw new be(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function wT(t){if(!Ce.isDocumentKey(t))throw new be(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bT(t){if(Ce.isDocumentKey(t))throw new be(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function um(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me()}function ea(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=um(t);throw new be(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new be(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new be(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_j("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new be(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new be(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new be(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dm{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ET({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ET(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new RP;switch(r.type){case"firstParty":return new MP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=_T.get(n);r&&(ge("ComponentProvider","Removing Datastore"),_T.delete(n),r.terminate())}(this),Promise.resolve()}}function wj(t,e,n,r={}){var a;const o=(t=ea(t,dm))._getSettings(),c=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==c&&jl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:c,ssl:!1})),r.mockUserToken){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=xn.MOCK_USER;else{d=HS(r.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new be(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new xn(p)}t._authCredentials=new DP(new M1(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rc(this.firestore,e,this._query)}}class zn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class ta extends rc{constructor(e,n,r){super(e,n,Rv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new Ce(e))}withConverter(e){return new ta(this.firestore,e,this._path)}}function On(t,e,...n){if(t=ln(t),Ox("collection","path",e),t instanceof dm){const r=Et.fromString(e,...n);return bT(r),new ta(t,null,r)}{if(!(t instanceof zn||t instanceof ta))throw new be(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return bT(r),new ta(t.firestore,null,r)}}function ai(t,e,...n){if(t=ln(t),arguments.length===1&&(e=O1.newId()),Ox("doc","path",e),t instanceof dm){const r=Et.fromString(e,...n);return wT(r),new zn(t,null,new Ce(r))}{if(!(t instanceof zn||t instanceof ta))throw new be(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return wT(r),new zn(t.firestore,t instanceof ta?t.converter:null,new Ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new px(this,"async_queue_retry"),this.fu=()=>{const r=Qg();r&&ge("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=Qg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Qg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new ao;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!tc(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const a=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(r);throw rs("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=zv.createAndSchedule(this,e,n,r,o=>this.Su(o));return this.du.push(a),a}pu(){this.Au&&Me()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}function ST(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Gl extends dm{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new TT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TT(e),this._firestoreClient=void 0,await e}}}function bj(t,e){const n=typeof t=="object"?t:fv(),r=typeof t=="string"?t:"(default)",a=Kh(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=BS("firestore");o&&wj(a,...o)}return a}function kx(t){if(t._terminated)throw new be(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Ej(t),t._firestoreClient}function Ej(t){var e,n,r;const a=t._freezeSettings(),o=function(d,h,p,y){return new WP(d,h,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Mx(y.experimentalLongPollingOptions),y.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new gj(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(d){const h=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $l(yn.fromBase64String(e))}catch(n){throw new be(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $l(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=/^__.*__$/;class Sj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pa(e,this.data,this.fieldMask,n,this.fieldTransforms):new ld(e,this.data,n,this.fieldTransforms)}}class Px{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new pa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Vx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me()}}class mm{constructor(e,n,r,a,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new mm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:r,Nu:!1});return a.Lu(e),a}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:r,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return kh(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Vx(this.Mu)&&Tj.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class xj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||om(e)}$u(e,n,r,a=!1){return new mm({Mu:e,methodName:n,Ku:r,path:gn.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wv(t){const e=t._freezeSettings(),n=om(t._databaseId);return new xj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Aj(t,e,n,r,a,o={}){const c=t.$u(o.merge||o.mergeFields?2:0,e,n,a);Kv("Data must be an object, but it was:",c,r);const d=Lx(r,c);let h,p;if(o.merge)h=new Zn(c.fieldMask),p=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const v of o.mergeFields){const E=Uy(e,v,n);if(!c.contains(E))throw new be(oe.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Ux(y,E)||y.push(E)}h=new Zn(y),p=c.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,p=c.fieldTransforms;return new Sj(new Bn(d),h,p)}class pm extends hm{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pm}}function Cj(t,e,n){return new mm({Mu:3,Ku:e.settings.Ku,methodName:t._methodName,Nu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Yv extends hm{constructor(e,n){super(e),this.Uu=n}_toFieldTransform(e){const n=Cj(this,e,!0),r=this.Uu.map(o=>ic(o,n)),a=new Fl(r);return new vV(e.path,a)}isEqual(e){return e instanceof Yv&&Vu(this.Uu,e.Uu)}}function Rj(t,e,n,r){const a=t.$u(1,e,n);Kv("Data must be an object, but it was:",a,r);const o=[],c=Bn.empty();ma(r,(h,p)=>{const y=Qv(e,h,n);p=ln(p);const v=a.Bu(y);if(p instanceof pm)o.push(y);else{const E=ic(p,v);E!=null&&(o.push(y),c.set(y,E))}});const d=new Zn(o);return new Px(c,d,a.fieldTransforms)}function Dj(t,e,n,r,a,o){const c=t.$u(1,e,n),d=[Uy(e,r,n)],h=[a];if(o.length%2!=0)throw new be(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)d.push(Uy(e,o[E])),h.push(o[E+1]);const p=[],y=Bn.empty();for(let E=d.length-1;E>=0;--E)if(!Ux(p,d[E])){const x=d[E];let A=h[E];A=ln(A);const C=c.Bu(x);if(A instanceof pm)p.push(x);else{const R=ic(A,C);R!=null&&(p.push(x),y.set(x,R))}}const v=new Zn(p);return new Px(y,v,c.fieldTransforms)}function Nj(t,e,n,r=!1){return ic(n,t.$u(r?4:3,e))}function ic(t,e){if(jx(t=ln(t)))return Kv("Unsupported field value:",e,t),Lx(t,e);if(t instanceof hm)return function(r,a){if(!Vx(a.Mu))throw a.qu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,a){const o=[];let c=0;for(const d of r){let h=ic(d,a.ku(c));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),c++}return{arrayValue:{values:o}}}(t,e)}return function(r,a){if((r=ln(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pV(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Qe.fromDate(r);return{timestampValue:Nh(a.serializer,o)}}if(r instanceof Qe){const o=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nh(a.serializer,o)}}if(r instanceof Gv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $l)return{bytesValue:sx(a.serializer,r._byteString)};if(r instanceof zn){const o=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw a.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ov(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof $v)return function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(h=>{if(typeof h!="number")throw d.qu("VectorValues must only contain numeric values.");return Dv(d.serializer,h)})}}}}}}(r,a);throw a.qu(`Unsupported field value: ${um(r)}`)}(t,e)}function Lx(t,e){const n={};return k1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ma(t,(r,a)=>{const o=ic(a,e.Ou(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function jx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof Gv||t instanceof $l||t instanceof zn||t instanceof hm||t instanceof $v)}function Kv(t,e,n){if(!jx(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=um(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function Uy(t,e,n){if((e=ln(e))instanceof fm)return e._internalPath;if(typeof e=="string")return Qv(t,e);throw kh("Field path arguments must be of type string or ",t,!1,void 0,n)}const Ij=new RegExp("[~\\*/\\[\\]]");function Qv(t,e,n){if(e.search(Ij)>=0)throw kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fm(...e.split("."))._internalPath}catch{throw kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kh(t,e,n,r,a){const o=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(o||c)&&(h+=" (found",o&&(h+=` in field ${r}`),c&&(h+=` in document ${a}`),h+=")"),new be(oe.INVALID_ARGUMENT,d+t+h)}function Ux(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Mj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Mj extends Bx{data(){return super.data()}}function Xv(t,e){return typeof e=="string"?Qv(t,e):e instanceof fm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zv{}class kj extends Zv{}function ga(t,e,...n){let r=[];e instanceof Zv&&r.push(e),r=r.concat(n),function(o){const c=o.filter(h=>h instanceof Jv).length,d=o.filter(h=>h instanceof gm).length;if(c>1||c>0&&d>0)throw new be(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)t=a._apply(t);return t}class gm extends kj{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new gm(e,n,r)}_apply(e){const n=this._parse(e);return zx(e._query,n),new rc(e.firestore,e.converter,Dy(e._query,n))}_parse(e){const n=Wv(e.firestore);return function(o,c,d,h,p,y,v){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new be(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){AT(v,y);const x=[];for(const A of v)x.push(xT(h,o,A));E={arrayValue:{values:x}}}else E=xT(h,o,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||AT(v,y),E=Nj(d,c,v,y==="in"||y==="not-in");return Wt.create(p,y,E)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ya(t,e,n){const r=e,a=Xv("where",t);return gm._create(a,r,n)}class Jv extends Zv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Jv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Nr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,o){let c=a;const d=o.getFlattenedFilters();for(const h of d)zx(c,h),c=Dy(c,h)}(e._query,n),new rc(e.firestore,e.converter,Dy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function xT(t,e,n){if(typeof(n=ln(n))=="string"){if(n==="")throw new be(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!H1(e)&&n.indexOf("/")!==-1)throw new be(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Et.fromString(n));if(!Ce.isDocumentKey(r))throw new be(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qE(t,new Ce(r))}if(n instanceof zn)return qE(t,n._key);throw new be(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${um(n)}.`)}function AT(t,e){if(!Array.isArray(t)||t.length===0)throw new be(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zx(t,e){const n=function(a,o){for(const c of a)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new be(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Pj{convertValue(e,n="none"){switch(ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(la(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ma(e,(a,o)=>{r[a]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,a;const o=(a=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>Bt(c.doubleValue));return new $v(o)}convertGeoPoint(e){return new Gv(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=tm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bu(e));default:return null}}convertTimestamp(e){const n=oa(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Et.fromString(e);ct(dx(r));const a=new zu(r.get(1),r.get(3)),o=new Ce(r.popFirst(5));return a.isEqual(n)||rs(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fx extends Bx{constructor(e,n,r,a,o,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Xv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class hh extends Fx{data(e={}){return super.data(e)}}class Lj{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Tu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new hh(this._firestore,this._userDataWriter,r.key,r,new Tu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const h=new hh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Tu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const h=new hh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Tu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:jj(d.type),doc:h,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me()}}class Hx extends Pj{constructor(e){super(),this.firestore=e}convertBytes(e){return new $l(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,n)}}function qu(t,e,n,...r){t=ea(t,zn);const a=ea(t.firestore,Gl),o=Wv(a);let c;return c=typeof(e=ln(e))=="string"||e instanceof fm?Dj(o,"updateDoc",t._key,e,n,r):Rj(o,"updateDoc",t._key,e),e_(a,[c.toMutation(t._key,Dr.exists(!0))])}function ym(t){return e_(ea(t.firestore,Gl),[new Nv(t._key,Dr.none())])}function po(t,e){const n=ea(t.firestore,Gl),r=ai(t),a=Vj(t.converter,e);return e_(n,[Aj(Wv(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Dr.exists(!1))]).then(()=>r)}function va(t,...e){var n,r,a;t=ln(t);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||ST(e[c])||(o=e[c],c++);const d={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(ST(e[c])){const v=e[c];e[c]=(n=v.next)===null||n===void 0?void 0:n.bind(v),e[c+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[c+2]=(a=v.complete)===null||a===void 0?void 0:a.bind(v)}let h,p,y;if(t instanceof zn)p=ea(t.firestore,Gl),y=Rv(t._key.path),h={next:v=>{e[c]&&e[c](Uj(p,t,v))},error:e[c+1],complete:e[c+2]};else{const v=ea(t,rc);p=ea(v.firestore,Gl),y=v._query;const E=new Hx(p);h={next:x=>{e[c]&&e[c](new Lj(p,E,v,x))},error:e[c+1],complete:e[c+2]},Oj(t._query)}return function(E,x,A,C){const R=new pj(C),O=new QL(x,R,A);return E.asyncQueue.enqueueAndForget(async()=>$L(await vT(E),O)),()=>{R.eu(),E.asyncQueue.enqueueAndForget(async()=>WL(await vT(E),O))}}(kx(p),y,d,h)}function e_(t,e){return function(r,a){const o=new ao;return r.asyncQueue.enqueueAndForget(async()=>aj(await vj(r),a,o)),o.promise}(kx(t),e)}function Uj(t,e,n){const r=n.docs.get(e._key),a=new Hx(t);return new Fx(t,a,e._key,r,new Tu(n.hasPendingWrites,n.fromCache),e.converter)}function Bj(...t){return new Yv("arrayUnion",t)}(function(e,n=!0){(function(a){Jl=a})(Eo),fo(new sa("firestore",(r,{instanceIdentifier:a,options:o})=>{const c=r.getProvider("app").getImmediate(),d=new Gl(new NP(r.getProvider("auth-internal")),new kP(r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new be(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zu(p.options.projectId,y)}(c,a),c);return o=Object.assign({useFetchStreams:n},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),ni(jE,"4.7.5",e),ni(jE,"4.7.5","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="firebasestorage.googleapis.com",zj="storageBucket",Fj=2*60*1e3,Hj=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends gi{constructor(e,n,r=0){super(Zg(e),`Firebase Storage: ${n} (${Zg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var fi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(fi||(fi={}));function Zg(t){return"storage/"+t}function qj(){const t="An unknown error occurred, please check the error payload for server response.";return new yi(fi.UNKNOWN,t)}function Gj(){return new yi(fi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $j(){return new yi(fi.CANCELED,"User canceled the upload/download.")}function Wj(t){return new yi(fi.INVALID_URL,"Invalid URL '"+t+"'.")}function Yj(t){return new yi(fi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function CT(t){return new yi(fi.INVALID_ARGUMENT,t)}function Gx(){return new yi(fi.APP_DELETED,"The Firebase app was deleted.")}function Kj(t){return new yi(fi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ar.makeFromUrl(e,n)}catch{return new Ar(e,"")}if(r.path==="")return r;throw Yj(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function o(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),h={bucket:1,path:3};function p(H){H.path_=decodeURIComponent(H.path)}const y="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",x=new RegExp(`^https?://${v}/${y}/b/${a}/o${E}`,"i"),A={bucket:1,path:3},C=n===qx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",O=new RegExp(`^https?://${C}/${a}/${R}`,"i"),U=[{regex:d,indices:h,postModify:o},{regex:x,indices:A,postModify:p},{regex:O,indices:{bucket:1,path:2},postModify:p}];for(let H=0;H<U.length;H++){const W=U[H],Z=W.regex.exec(e);if(Z){const k=Z[W.indices.bucket];let N=Z[W.indices.path];N||(N=""),r=new Ar(k,N),W.postModify(r);break}}if(r==null)throw Wj(e);return r}}class Qj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(t,e,n){let r=1,a=null,o=null,c=!1,d=0;function h(){return d===2}let p=!1;function y(...R){p||(p=!0,e.apply(null,R))}function v(R){a=setTimeout(()=>{a=null,t(x,h())},R)}function E(){o&&clearTimeout(o)}function x(R,...O){if(p){E();return}if(R){E(),y.call(null,R,...O);return}if(h()||c){E(),y.call(null,R,...O);return}r<64&&(r*=2);let U;d===1?(d=2,U=0):U=(r+Math.random())*1e3,v(U)}let A=!1;function C(R){A||(A=!0,E(),!p&&(a!==null?(R||(d=2),clearTimeout(a),v(0)):R||(d=1)))}return v(0),o=setTimeout(()=>{c=!0,C(!0)},n),C}function Zj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t){return t!==void 0}function RT(t,e,n,r){if(r<e)throw CT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw CT(`Invalid value for '${t}'. Expected ${n} or less.`)}function e4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var Ph;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ph||(Ph={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||a||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n,r,a,o,c,d,h,p,y,v,E=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=v,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,A)=>{this.resolve_=x,this.reject_=A,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Kf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=d=>{const h=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const d=o.getErrorCode()===Ph.NO_ERROR,h=o.getStatus();if(!d||t4(h,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===Ph.ABORT;r(!1,new Kf(!1,null,y));return}const p=this.successCodes_.indexOf(h)!==-1;r(!0,new Kf(p,o))})},n=(r,a)=>{const o=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const h=this.callback_(d,d.getResponse());Jj(h)?o(h):o()}catch(h){c(h)}else if(d!==null){const h=qj();h.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,h)):c(h)}else if(a.canceled){const h=this.appDelete_?Gx():$j();c(h)}else{const h=Gj();c(h)}};this.canceled_?n(!1,new Kf(!1,null,!0)):this.backoffId_=Xj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Zj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Kf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function r4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function i4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function s4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function a4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function o4(t,e,n,r,a,o,c=!0){const d=e4(t.urlParams),h=t.url+d,p=Object.assign({},t.headers);return s4(p,e),r4(p,n),i4(p,o),a4(p,r),new n4(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function c4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this._service=e,n instanceof Ar?this._location=n:this._location=Ar.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Vh(e,n)}get root(){const e=new Ar(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return c4(this._location.path)}get storage(){return this._service}get parent(){const e=l4(this._location.path);if(e===null)return null;const n=new Ar(this._location.bucket,e);return new Vh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Kj(e)}}function DT(t,e){const n=e==null?void 0:e[zj];return n==null?null:Ar.makeFromBucketSpec(n,t)}function u4(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:HS(a,t.app.options.projectId))}class d4{constructor(e,n,r,a,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=o,this._bucket=null,this._host=qx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Fj,this._maxUploadRetryTime=Hj,this._requests=new Set,a!=null?this._bucket=Ar.makeFromBucketSpec(a,this._host):this._bucket=DT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ar.makeFromBucketSpec(this._url,e):this._bucket=DT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){RT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){RT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Vh(this,e)}_makeRequest(e,n,r,a,o=!0){if(this._deleted)return new Qj(Gx());{const c=o4(e,this._appId,r,a,n,this._firebaseVersion,o);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const NT="@firebase/storage",IT="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="storage";function f4(t=fv(),e){t=ln(t);const r=Kh(t,$x).getImmediate({identifier:e}),a=BS("storage");return a&&h4(r,...a),r}function h4(t,e,n,r={}){u4(t,e,n,r)}function m4(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new d4(n,r,a,e,Eo)}function p4(){fo(new sa($x,m4,"PUBLIC").setMultipleInstances(!0)),ni(NT,IT,""),ni(NT,IT,"esm2017")}p4();const g4={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},t_=$S(g4),Jg=AP(t_),Tt=bj(t_);f4(t_);function n_(){const[t,e]=b.useState(null),[n,r]=b.useState(!0),[a,o]=b.useState(null);return b.useEffect(()=>{const h=Jg.onAuthStateChanged(p=>{e(p),r(!1)});return()=>h()},[]),{user:t,loading:n,error:a,signInWithGoogle:async()=>{try{const h=new Wi;await P2(Jg,h)}catch(h){console.error("Error signing in with Google:",h),o("Failed to sign in with Google")}},signOut:async()=>{try{await p2(Jg)}catch(h){console.error("Error signing out:",h),o("Failed to sign out")}}}}function MT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function vm(...t){return e=>{let n=!1;const r=t.map(a=>{const o=MT(a,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<r.length;a++){const o=r[a];typeof o=="function"?o():MT(t[a],null)}}}}function ut(...t){return b.useCallback(vm(...t),t)}var ss=b.forwardRef((t,e)=>{const{children:n,...r}=t,a=b.Children.toArray(n),o=a.find(v4);if(o){const c=o.props.children,d=a.map(h=>h===o?b.Children.count(c)>1?b.Children.only(null):b.isValidElement(c)?c.props.children:null:h);return _.jsx(By,{...r,ref:e,children:b.isValidElement(c)?b.cloneElement(c,void 0,d):null})}return _.jsx(By,{...r,ref:e,children:n})});ss.displayName="Slot";var By=b.forwardRef((t,e)=>{const{children:n,...r}=t;if(b.isValidElement(n)){const a=w4(n);return b.cloneElement(n,{..._4(r,n.props),ref:e?vm(e,a):a})}return b.Children.count(n)>1?b.Children.only(null):null});By.displayName="SlotClone";var y4=({children:t})=>_.jsx(_.Fragment,{children:t});function v4(t){return b.isValidElement(t)&&t.type===y4}function _4(t,e){const n={...e};for(const r in e){const a=t[r],o=e[r];/^on[A-Z]/.test(r)?a&&o?n[r]=(...d)=>{o(...d),a(...d)}:a&&(n[r]=a):r==="style"?n[r]={...a,...o}:r==="className"&&(n[r]=[a,o].filter(Boolean).join(" "))}return{...t,...n}}function w4(t){var r,a;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Wx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=Wx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Yx(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=Wx(t))&&(r&&(r+=" "),r+=e);return r}const OT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,kT=Yx,Kx=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return kT(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:o}=e,c=Object.keys(a).map(p=>{const y=n==null?void 0:n[p],v=o==null?void 0:o[p];if(y===null)return null;const E=OT(y)||OT(v);return a[p][E]}),d=n&&Object.entries(n).reduce((p,y)=>{let[v,E]=y;return E===void 0||(p[v]=E),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,y)=>{let{class:v,className:E,...x}=y;return Object.entries(x).every(A=>{let[C,R]=A;return Array.isArray(R)?R.includes({...o,...d}[C]):{...o,...d}[C]===R})?[...p,v,E]:p},[]);return kT(t,c,h,n==null?void 0:n.class,n==null?void 0:n.className)},r_="-",b4=t=>{const e=T4(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{const d=c.split(r_);return d[0]===""&&d.length!==1&&d.shift(),Qx(d,e)||E4(c)},getConflictingClassGroupIds:(c,d)=>{const h=n[c]||[];return d&&r[c]?[...h,...r[c]]:h}}},Qx=(t,e)=>{var c;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),a=r?Qx(t.slice(1),r):void 0;if(a)return a;if(e.validators.length===0)return;const o=t.join(r_);return(c=e.validators.find(({validator:d})=>d(o)))==null?void 0:c.classGroupId},PT=/^\[(.+)\]$/,E4=t=>{if(PT.test(t)){const e=PT.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},T4=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return x4(Object.entries(t.classGroups),n).forEach(([o,c])=>{zy(c,r,o,e)}),r},zy=(t,e,n,r)=>{t.forEach(a=>{if(typeof a=="string"){const o=a===""?e:VT(e,a);o.classGroupId=n;return}if(typeof a=="function"){if(S4(a)){zy(a(r),e,n,r);return}e.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,c])=>{zy(c,VT(e,o),n,r)})})},VT=(t,e)=>{let n=t;return e.split(r_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},S4=t=>t.isThemeGetter,x4=(t,e)=>e?t.map(([n,r])=>{const a=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([c,d])=>[e+c,d])):o);return[n,a]}):t,A4=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const a=(o,c)=>{n.set(o,c),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let c=n.get(o);if(c!==void 0)return c;if((c=r.get(o))!==void 0)return a(o,c),c},set(o,c){n.has(o)?n.set(o,c):a(o,c)}}},Xx="!",C4=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,a=e[0],o=e.length,c=d=>{const h=[];let p=0,y=0,v;for(let R=0;R<d.length;R++){let O=d[R];if(p===0){if(O===a&&(r||d.slice(R,R+o)===e)){h.push(d.slice(y,R)),y=R+o;continue}if(O==="/"){v=R;continue}}O==="["?p++:O==="]"&&p--}const E=h.length===0?d:d.substring(y),x=E.startsWith(Xx),A=x?E.substring(1):E,C=v&&v>y?v-y:void 0;return{modifiers:h,hasImportantModifier:x,baseClassName:A,maybePostfixModifierPosition:C}};return n?d=>n({className:d,parseClassName:c}):c},R4=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},D4=t=>({cache:A4(t.cacheSize),parseClassName:C4(t),...b4(t)}),N4=/\s+/,I4=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=e,o=[],c=t.trim().split(N4);let d="";for(let h=c.length-1;h>=0;h-=1){const p=c[h],{modifiers:y,hasImportantModifier:v,baseClassName:E,maybePostfixModifierPosition:x}=n(p);let A=!!x,C=r(A?E.substring(0,x):E);if(!C){if(!A){d=p+(d.length>0?" "+d:d);continue}if(C=r(E),!C){d=p+(d.length>0?" "+d:d);continue}A=!1}const R=R4(y).join(":"),O=v?R+Xx:R,D=O+C;if(o.includes(D))continue;o.push(D);const U=a(C,A);for(let H=0;H<U.length;++H){const W=U[H];o.push(O+W)}d=p+(d.length>0?" "+d:d)}return d};function M4(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Zx(e))&&(r&&(r+=" "),r+=n);return r}const Zx=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Zx(t[r]))&&(n&&(n+=" "),n+=e);return n};function O4(t,...e){let n,r,a,o=c;function c(h){const p=e.reduce((y,v)=>v(y),t());return n=D4(p),r=n.cache.get,a=n.cache.set,o=d,d(h)}function d(h){const p=r(h);if(p)return p;const y=I4(h,n);return a(h,y),y}return function(){return o(M4.apply(null,arguments))}}const bt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Jx=/^\[(?:([a-z-]+):)?(.+)\]$/i,k4=/^\d+\/\d+$/,P4=new Set(["px","full","screen"]),V4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,L4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,j4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,U4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,B4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$i=t=>Nl(t)||P4.has(t)||k4.test(t),qs=t=>sc(t,"length",Y4),Nl=t=>!!t&&!Number.isNaN(Number(t)),ey=t=>sc(t,"number",Nl),vu=t=>!!t&&Number.isInteger(Number(t)),z4=t=>t.endsWith("%")&&Nl(t.slice(0,-1)),Fe=t=>Jx.test(t),Gs=t=>V4.test(t),F4=new Set(["length","size","percentage"]),H4=t=>sc(t,F4,eA),q4=t=>sc(t,"position",eA),G4=new Set(["image","url"]),$4=t=>sc(t,G4,Q4),W4=t=>sc(t,"",K4),_u=()=>!0,sc=(t,e,n)=>{const r=Jx.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Y4=t=>L4.test(t)&&!j4.test(t),eA=()=>!1,K4=t=>U4.test(t),Q4=t=>B4.test(t),X4=()=>{const t=bt("colors"),e=bt("spacing"),n=bt("blur"),r=bt("brightness"),a=bt("borderColor"),o=bt("borderRadius"),c=bt("borderSpacing"),d=bt("borderWidth"),h=bt("contrast"),p=bt("grayscale"),y=bt("hueRotate"),v=bt("invert"),E=bt("gap"),x=bt("gradientColorStops"),A=bt("gradientColorStopPositions"),C=bt("inset"),R=bt("margin"),O=bt("opacity"),D=bt("padding"),U=bt("saturate"),H=bt("scale"),W=bt("sepia"),Z=bt("skew"),k=bt("space"),N=bt("translate"),I=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",Fe,e],B=()=>[Fe,e],L=()=>["",$i,qs],ye=()=>["auto",Nl,Fe],xe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>["start","end","center","between","around","evenly","stretch"],ae=()=>["","0",Fe],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Nl,Fe];return{cacheSize:500,separator:":",theme:{colors:[_u],spacing:[$i,qs],blur:["none","",Gs,Fe],brightness:ee(),borderColor:[t],borderRadius:["none","","full",Gs,Fe],borderSpacing:B(),borderWidth:L(),contrast:ee(),grayscale:ae(),hueRotate:ee(),invert:ae(),gap:B(),gradientColorStops:[t],gradientColorStopPositions:[z4,qs],inset:z(),margin:z(),opacity:ee(),padding:B(),saturate:ee(),scale:ee(),sepia:ae(),skew:ee(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",Fe]}],container:["container"],columns:[{columns:[Gs]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...xe(),Fe]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[C]}],"inset-x":[{"inset-x":[C]}],"inset-y":[{"inset-y":[C]}],start:[{start:[C]}],end:[{end:[C]}],top:[{top:[C]}],right:[{right:[C]}],bottom:[{bottom:[C]}],left:[{left:[C]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vu,Fe]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Fe]}],grow:[{grow:ae()}],shrink:[{shrink:ae()}],order:[{order:["first","last","none",vu,Fe]}],"grid-cols":[{"grid-cols":[_u]}],"col-start-end":[{col:["auto",{span:["full",vu,Fe]},Fe]}],"col-start":[{"col-start":ye()}],"col-end":[{"col-end":ye()}],"grid-rows":[{"grid-rows":[_u]}],"row-start-end":[{row:["auto",{span:[vu,Fe]},Fe]}],"row-start":[{"row-start":ye()}],"row-end":[{"row-end":ye()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Fe]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...ie()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ie(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ie(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[D]}],px:[{px:[D]}],py:[{py:[D]}],ps:[{ps:[D]}],pe:[{pe:[D]}],pt:[{pt:[D]}],pr:[{pr:[D]}],pb:[{pb:[D]}],pl:[{pl:[D]}],m:[{m:[R]}],mx:[{mx:[R]}],my:[{my:[R]}],ms:[{ms:[R]}],me:[{me:[R]}],mt:[{mt:[R]}],mr:[{mr:[R]}],mb:[{mb:[R]}],ml:[{ml:[R]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Fe,e]}],"min-w":[{"min-w":[Fe,e,"min","max","fit"]}],"max-w":[{"max-w":[Fe,e,"none","full","min","max","fit","prose",{screen:[Gs]},Gs]}],h:[{h:[Fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Gs,qs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ey]}],"font-family":[{font:[_u]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Fe]}],"line-clamp":[{"line-clamp":["none",Nl,ey]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$i,Fe]}],"list-image":[{"list-image":["none",Fe]}],"list-style-type":[{list:["none","disc","decimal",Fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[O]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[O]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$i,qs]}],"underline-offset":[{"underline-offset":["auto",$i,Fe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[O]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...xe(),q4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",H4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$4]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[A]}],"gradient-via-pos":[{via:[A]}],"gradient-to-pos":[{to:[A]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[O]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[O]}],"divide-style":[{divide:J()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[$i,Fe]}],"outline-w":[{outline:[$i,qs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[O]}],"ring-offset-w":[{"ring-offset":[$i,qs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Gs,W4]}],"shadow-color":[{shadow:[_u]}],opacity:[{opacity:[O]}],"mix-blend":[{"mix-blend":[...ce(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ce()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Gs,Fe]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[v]}],saturate:[{saturate:[U]}],sepia:[{sepia:[W]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[O]}],"backdrop-saturate":[{"backdrop-saturate":[U]}],"backdrop-sepia":[{"backdrop-sepia":[W]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Fe]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",Fe]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",Fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[H]}],"scale-x":[{"scale-x":[H]}],"scale-y":[{"scale-y":[H]}],rotate:[{rotate:[vu,Fe]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[Z]}],"skew-y":[{"skew-y":[Z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Fe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[$i,qs,ey]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Z4=O4(X4);function Be(...t){return Z4(Yx(t))}const Fy=Kx("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-purple-400 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-purple-600 text-white shadow hover:bg-purple-700",secondary:"bg-purple-100 text-purple-900 shadow-sm hover:bg-purple-200",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-purple-100 hover:text-purple-900",link:"text-purple-600 underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),pt=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,children:a,...o},c)=>{const d=r?ss:"button";return _.jsx(d,{className:Be(Fy({variant:e,size:n,className:t})),ref:c,...o,children:a})});pt.displayName="Button";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tA=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:c,...d},h)=>b.createElement("svg",{ref:h,...eU,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:tA("lucide",a),...d},[...c.map(([p,y])=>b.createElement(p,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=(t,e)=>{const n=b.forwardRef(({className:r,...a},o)=>b.createElement(tU,{ref:o,iconNode:e,className:tA(`lucide-${J4(t)}`,r),...a}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=Pt("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=Pt("BookDashed",[["path",{d:"M12 17h1.5",key:"1gkc67"}],["path",{d:"M12 22h1.5",key:"1my7sn"}],["path",{d:"M12 2h1.5",key:"19tvb7"}],["path",{d:"M17.5 22H19a1 1 0 0 0 1-1",key:"10akbh"}],["path",{d:"M17.5 2H19a1 1 0 0 1 1 1v1.5",key:"1vrfjs"}],["path",{d:"M20 14v3h-2.5",key:"1naeju"}],["path",{d:"M20 8.5V10",key:"1ctpfu"}],["path",{d:"M4 10V8.5",key:"1o3zg5"}],["path",{d:"M4 19.5V14",key:"ob81pf"}],["path",{d:"M4 4.5A2.5 2.5 0 0 1 6.5 2H8",key:"s8vcyb"}],["path",{d:"M8 22H6.5a1 1 0 0 1 0-5H8",key:"1cu73q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=Pt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=Pt("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=Pt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=Pt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=Pt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=Pt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=Pt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=Pt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=Pt("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=Pt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=Pt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=Pt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=Pt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=Pt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=Pt("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=Pt("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=Pt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=Pt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=Pt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=Pt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function we(t,e,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t==null||t(a),n===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function yU(t,e){const n=b.createContext(e),r=o=>{const{children:c,...d}=o,h=b.useMemo(()=>d,Object.values(d));return _.jsx(n.Provider,{value:h,children:c})};r.displayName=t+"Provider";function a(o){const c=b.useContext(n);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,a]}function vi(t,e=[]){let n=[];function r(o,c){const d=b.createContext(c),h=n.length;n=[...n,c];const p=v=>{var O;const{scope:E,children:x,...A}=v,C=((O=E==null?void 0:E[t])==null?void 0:O[h])||d,R=b.useMemo(()=>A,Object.values(A));return _.jsx(C.Provider,{value:R,children:x})};p.displayName=o+"Provider";function y(v,E){var C;const x=((C=E==null?void 0:E[t])==null?void 0:C[h])||d,A=b.useContext(x);if(A)return A;if(c!==void 0)return c;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[p,y]}const a=()=>{const o=n.map(c=>b.createContext(c));return function(d){const h=(d==null?void 0:d[t])||o;return b.useMemo(()=>({[`__scope${t}`]:{...d,[t]:h}}),[d,h])}};return a.scopeName=t,[r,vU(a,...e)]}function vU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const c=r.reduce((d,{useScope:h,scopeName:p})=>{const v=h(o)[`__scope${p}`];return{...d,...v}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}function er(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function go({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,a]=_U({defaultProp:e,onChange:n}),o=t!==void 0,c=o?t:r,d=er(n),h=b.useCallback(p=>{if(o){const v=typeof p=="function"?p(t):p;v!==t&&d(v)}else a(p)},[o,t,a,d]);return[c,h]}function _U({defaultProp:t,onChange:e}){const n=b.useState(t),[r]=n,a=b.useRef(r),o=er(e);return b.useEffect(()=>{a.current!==r&&(o(r),a.current=r)},[r,a,o]),n}var wU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],qe=wU.reduce((t,e)=>{const n=b.forwardRef((r,a)=>{const{asChild:o,...c}=r,d=o?ss:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(d,{...c,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function aA(t,e){t&&ed.flushSync(()=>t.dispatchEvent(e))}function a_(t){const e=t+"CollectionProvider",[n,r]=vi(e),[a,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=x=>{const{scope:A,children:C}=x,R=pe.useRef(null),O=pe.useRef(new Map).current;return _.jsx(a,{scope:A,itemMap:O,collectionRef:R,children:C})};c.displayName=e;const d=t+"CollectionSlot",h=pe.forwardRef((x,A)=>{const{scope:C,children:R}=x,O=o(d,C),D=ut(A,O.collectionRef);return _.jsx(ss,{ref:D,children:R})});h.displayName=d;const p=t+"CollectionItemSlot",y="data-radix-collection-item",v=pe.forwardRef((x,A)=>{const{scope:C,children:R,...O}=x,D=pe.useRef(null),U=ut(A,D),H=o(p,C);return pe.useEffect(()=>(H.itemMap.set(D,{ref:D,...O}),()=>void H.itemMap.delete(D))),_.jsx(ss,{[y]:"",ref:U,children:R})});v.displayName=p;function E(x){const A=o(t+"CollectionConsumer",x);return pe.useCallback(()=>{const R=A.collectionRef.current;if(!R)return[];const O=Array.from(R.querySelectorAll(`[${y}]`));return Array.from(A.itemMap.values()).sort((H,W)=>O.indexOf(H.ref.current)-O.indexOf(W.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:c,Slot:h,ItemSlot:v},E,r]}var bU=b.createContext(void 0);function o_(t){const e=b.useContext(bU);return t||e||"ltr"}function EU(t,e=globalThis==null?void 0:globalThis.document){const n=er(t);b.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var TU="DismissableLayer",Hy="dismissableLayer.update",SU="dismissableLayer.pointerDownOutside",xU="dismissableLayer.focusOutside",LT,oA=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fd=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:c,onDismiss:d,...h}=t,p=b.useContext(oA),[y,v]=b.useState(null),E=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=b.useState({}),A=ut(e,k=>v(k)),C=Array.from(p.layers),[R]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),O=C.indexOf(R),D=y?C.indexOf(y):-1,U=p.layersWithOutsidePointerEventsDisabled.size>0,H=D>=O,W=RU(k=>{const N=k.target,I=[...p.branches].some(V=>V.contains(N));!H||I||(a==null||a(k),c==null||c(k),k.defaultPrevented||d==null||d())},E),Z=DU(k=>{const N=k.target;[...p.branches].some(V=>V.contains(N))||(o==null||o(k),c==null||c(k),k.defaultPrevented||d==null||d())},E);return EU(k=>{D===p.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&d&&(k.preventDefault(),d()))},E),b.useEffect(()=>{if(y)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(LT=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),jT(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=LT)}},[y,E,n,p]),b.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),jT())},[y,p]),b.useEffect(()=>{const k=()=>x({});return document.addEventListener(Hy,k),()=>document.removeEventListener(Hy,k)},[]),_.jsx(qe.div,{...h,ref:A,style:{pointerEvents:U?H?"auto":"none":void 0,...t.style},onFocusCapture:we(t.onFocusCapture,Z.onFocusCapture),onBlurCapture:we(t.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:we(t.onPointerDownCapture,W.onPointerDownCapture)})});fd.displayName=TU;var AU="DismissableLayerBranch",CU=b.forwardRef((t,e)=>{const n=b.useContext(oA),r=b.useRef(null),a=ut(e,r);return b.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),_.jsx(qe.div,{...t,ref:a})});CU.displayName=AU;function RU(t,e=globalThis==null?void 0:globalThis.document){const n=er(t),r=b.useRef(!1),a=b.useRef(()=>{});return b.useEffect(()=>{const o=d=>{if(d.target&&!r.current){let h=function(){lA(SU,n,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=h,e.addEventListener("click",a.current,{once:!0})):h()}else e.removeEventListener("click",a.current);r.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",o),e.removeEventListener("click",a.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function DU(t,e=globalThis==null?void 0:globalThis.document){const n=er(t),r=b.useRef(!1);return b.useEffect(()=>{const a=o=>{o.target&&!r.current&&lA(xU,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function jT(){const t=new CustomEvent(Hy);document.dispatchEvent(t)}function lA(t,e,n,{discrete:r}){const a=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&a.addEventListener(t,e,{once:!0}),r?aA(a,o):a.dispatchEvent(o)}var ty=0;function wm(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??UT()),document.body.insertAdjacentElement("beforeend",t[1]??UT()),ty++,()=>{ty===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ty--}},[])}function UT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ny="focusScope.autoFocusOnMount",ry="focusScope.autoFocusOnUnmount",BT={bubbles:!1,cancelable:!0},NU="FocusScope",hd=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...c}=t,[d,h]=b.useState(null),p=er(a),y=er(o),v=b.useRef(null),E=ut(e,C=>h(C)),x=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let C=function(U){if(x.paused||!d)return;const H=U.target;d.contains(H)?v.current=H:Ws(v.current,{select:!0})},R=function(U){if(x.paused||!d)return;const H=U.relatedTarget;H!==null&&(d.contains(H)||Ws(v.current,{select:!0}))},O=function(U){if(document.activeElement===document.body)for(const W of U)W.removedNodes.length>0&&Ws(d)};document.addEventListener("focusin",C),document.addEventListener("focusout",R);const D=new MutationObserver(O);return d&&D.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",R),D.disconnect()}}},[r,d,x.paused]),b.useEffect(()=>{if(d){FT.add(x);const C=document.activeElement;if(!d.contains(C)){const O=new CustomEvent(ny,BT);d.addEventListener(ny,p),d.dispatchEvent(O),O.defaultPrevented||(IU(VU(cA(d)),{select:!0}),document.activeElement===C&&Ws(d))}return()=>{d.removeEventListener(ny,p),setTimeout(()=>{const O=new CustomEvent(ry,BT);d.addEventListener(ry,y),d.dispatchEvent(O),O.defaultPrevented||Ws(C??document.body,{select:!0}),d.removeEventListener(ry,y),FT.remove(x)},0)}}},[d,p,y,x]);const A=b.useCallback(C=>{if(!n&&!r||x.paused)return;const R=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,O=document.activeElement;if(R&&O){const D=C.currentTarget,[U,H]=MU(D);U&&H?!C.shiftKey&&O===H?(C.preventDefault(),n&&Ws(U,{select:!0})):C.shiftKey&&O===U&&(C.preventDefault(),n&&Ws(H,{select:!0})):O===D&&C.preventDefault()}},[n,r,x.paused]);return _.jsx(qe.div,{tabIndex:-1,...c,ref:E,onKeyDown:A})});hd.displayName=NU;function IU(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ws(r,{select:e}),document.activeElement!==n)return}function MU(t){const e=cA(t),n=zT(e,t),r=zT(e.reverse(),t);return[n,r]}function cA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function zT(t,e){for(const n of t)if(!OU(n,{upTo:e}))return n}function OU(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function kU(t){return t instanceof HTMLInputElement&&"select"in t}function Ws(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&kU(t)&&e&&t.select()}}var FT=PU();function PU(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=HT(t,e),t.unshift(e)},remove(e){var n;t=HT(t,e),(n=t[0])==null||n.resume()}}}function HT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function VU(t){return t.filter(e=>e.tagName!=="A")}var vn=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},LU=gI.useId||(()=>{}),jU=0;function oi(t){const[e,n]=b.useState(LU());return vn(()=>{n(r=>r??String(jU++))},[t]),e?`radix-${e}`:""}const UU=["top","right","bottom","left"],da=Math.min,Xn=Math.max,Lh=Math.round,Qf=Math.floor,li=t=>({x:t,y:t}),BU={left:"right",right:"left",bottom:"top",top:"bottom"},zU={start:"end",end:"start"};function qy(t,e,n){return Xn(t,da(e,n))}function as(t,e){return typeof t=="function"?t(e):t}function os(t){return t.split("-")[0]}function ac(t){return t.split("-")[1]}function l_(t){return t==="x"?"y":"x"}function c_(t){return t==="y"?"height":"width"}function fa(t){return["top","bottom"].includes(os(t))?"y":"x"}function u_(t){return l_(fa(t))}function FU(t,e,n){n===void 0&&(n=!1);const r=ac(t),a=u_(t),o=c_(a);let c=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=jh(c)),[c,jh(c)]}function HU(t){const e=jh(t);return[Gy(t),e,Gy(e)]}function Gy(t){return t.replace(/start|end/g,e=>zU[e])}function qU(t,e,n){const r=["left","right"],a=["right","left"],o=["top","bottom"],c=["bottom","top"];switch(t){case"top":case"bottom":return n?e?a:r:e?r:a;case"left":case"right":return e?o:c;default:return[]}}function GU(t,e,n,r){const a=ac(t);let o=qU(os(t),n==="start",r);return a&&(o=o.map(c=>c+"-"+a),e&&(o=o.concat(o.map(Gy)))),o}function jh(t){return t.replace(/left|right|bottom|top/g,e=>BU[e])}function $U(t){return{top:0,right:0,bottom:0,left:0,...t}}function uA(t){return typeof t!="number"?$U(t):{top:t,right:t,bottom:t,left:t}}function Uh(t){const{x:e,y:n,width:r,height:a}=t;return{width:r,height:a,top:n,left:e,right:e+r,bottom:n+a,x:e,y:n}}function qT(t,e,n){let{reference:r,floating:a}=t;const o=fa(e),c=u_(e),d=c_(c),h=os(e),p=o==="y",y=r.x+r.width/2-a.width/2,v=r.y+r.height/2-a.height/2,E=r[d]/2-a[d]/2;let x;switch(h){case"top":x={x:y,y:r.y-a.height};break;case"bottom":x={x:y,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:v};break;case"left":x={x:r.x-a.width,y:v};break;default:x={x:r.x,y:r.y}}switch(ac(e)){case"start":x[c]-=E*(n&&p?-1:1);break;case"end":x[c]+=E*(n&&p?-1:1);break}return x}const WU=async(t,e,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:c}=n,d=o.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(e));let p=await c.getElementRects({reference:t,floating:e,strategy:a}),{x:y,y:v}=qT(p,r,h),E=r,x={},A=0;for(let C=0;C<d.length;C++){const{name:R,fn:O}=d[C],{x:D,y:U,data:H,reset:W}=await O({x:y,y:v,initialPlacement:r,placement:E,strategy:a,middlewareData:x,rects:p,platform:c,elements:{reference:t,floating:e}});y=D??y,v=U??v,x={...x,[R]:{...x[R],...H}},W&&A<=50&&(A++,typeof W=="object"&&(W.placement&&(E=W.placement),W.rects&&(p=W.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:a}):W.rects),{x:y,y:v}=qT(p,E,h)),C=-1)}return{x:y,y:v,placement:E,strategy:a,middlewareData:x}};async function Gu(t,e){var n;e===void 0&&(e={});const{x:r,y:a,platform:o,rects:c,elements:d,strategy:h}=t,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:v="floating",altBoundary:E=!1,padding:x=0}=as(e,t),A=uA(x),R=d[E?v==="floating"?"reference":"floating":v],O=Uh(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(R)))==null||n?R:R.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:p,rootBoundary:y,strategy:h})),D=v==="floating"?{x:r,y:a,width:c.floating.width,height:c.floating.height}:c.reference,U=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),H=await(o.isElement==null?void 0:o.isElement(U))?await(o.getScale==null?void 0:o.getScale(U))||{x:1,y:1}:{x:1,y:1},W=Uh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:D,offsetParent:U,strategy:h}):D);return{top:(O.top-W.top+A.top)/H.y,bottom:(W.bottom-O.bottom+A.bottom)/H.y,left:(O.left-W.left+A.left)/H.x,right:(W.right-O.right+A.right)/H.x}}const YU=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:a,rects:o,platform:c,elements:d,middlewareData:h}=e,{element:p,padding:y=0}=as(t,e)||{};if(p==null)return{};const v=uA(y),E={x:n,y:r},x=u_(a),A=c_(x),C=await c.getDimensions(p),R=x==="y",O=R?"top":"left",D=R?"bottom":"right",U=R?"clientHeight":"clientWidth",H=o.reference[A]+o.reference[x]-E[x]-o.floating[A],W=E[x]-o.reference[x],Z=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let k=Z?Z[U]:0;(!k||!await(c.isElement==null?void 0:c.isElement(Z)))&&(k=d.floating[U]||o.floating[A]);const N=H/2-W/2,I=k/2-C[A]/2-1,V=da(v[O],I),z=da(v[D],I),B=V,L=k-C[A]-z,ye=k/2-C[A]/2+N,xe=qy(B,ye,L),J=!h.arrow&&ac(a)!=null&&ye!==xe&&o.reference[A]/2-(ye<B?V:z)-C[A]/2<0,ce=J?ye<B?ye-B:ye-L:0;return{[x]:E[x]+ce,data:{[x]:xe,centerOffset:ye-xe-ce,...J&&{alignmentOffset:ce}},reset:J}}}),KU=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:a,middlewareData:o,rects:c,initialPlacement:d,platform:h,elements:p}=e,{mainAxis:y=!0,crossAxis:v=!0,fallbackPlacements:E,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:C=!0,...R}=as(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const O=os(a),D=fa(d),U=os(d)===d,H=await(h.isRTL==null?void 0:h.isRTL(p.floating)),W=E||(U||!C?[jh(d)]:HU(d)),Z=A!=="none";!E&&Z&&W.push(...GU(d,C,A,H));const k=[d,...W],N=await Gu(e,R),I=[];let V=((r=o.flip)==null?void 0:r.overflows)||[];if(y&&I.push(N[O]),v){const ye=FU(a,c,H);I.push(N[ye[0]],N[ye[1]])}if(V=[...V,{placement:a,overflows:I}],!I.every(ye=>ye<=0)){var z,B;const ye=(((z=o.flip)==null?void 0:z.index)||0)+1,xe=k[ye];if(xe)return{data:{index:ye,overflows:V},reset:{placement:xe}};let J=(B=V.filter(ce=>ce.overflows[0]<=0).sort((ce,ie)=>ce.overflows[1]-ie.overflows[1])[0])==null?void 0:B.placement;if(!J)switch(x){case"bestFit":{var L;const ce=(L=V.filter(ie=>{if(Z){const ae=fa(ie.placement);return ae===D||ae==="y"}return!0}).map(ie=>[ie.placement,ie.overflows.filter(ae=>ae>0).reduce((ae,F)=>ae+F,0)]).sort((ie,ae)=>ie[1]-ae[1])[0])==null?void 0:L[0];ce&&(J=ce);break}case"initialPlacement":J=d;break}if(a!==J)return{reset:{placement:J}}}return{}}}};function GT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function $T(t){return UU.some(e=>t[e]>=0)}const QU=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...a}=as(t,e);switch(r){case"referenceHidden":{const o=await Gu(e,{...a,elementContext:"reference"}),c=GT(o,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:$T(c)}}}case"escaped":{const o=await Gu(e,{...a,altBoundary:!0}),c=GT(o,n.floating);return{data:{escapedOffsets:c,escaped:$T(c)}}}default:return{}}}}};async function XU(t,e){const{placement:n,platform:r,elements:a}=t,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),c=os(n),d=ac(n),h=fa(n)==="y",p=["left","top"].includes(c)?-1:1,y=o&&h?-1:1,v=as(e,t);let{mainAxis:E,crossAxis:x,alignmentAxis:A}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return d&&typeof A=="number"&&(x=d==="end"?A*-1:A),h?{x:x*y,y:E*p}:{x:E*p,y:x*y}}const ZU=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:a,y:o,placement:c,middlewareData:d}=e,h=await XU(e,t);return c===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:a+h.x,y:o+h.y,data:{...h,placement:c}}}}},JU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:a}=e,{mainAxis:o=!0,crossAxis:c=!1,limiter:d={fn:R=>{let{x:O,y:D}=R;return{x:O,y:D}}},...h}=as(t,e),p={x:n,y:r},y=await Gu(e,h),v=fa(os(a)),E=l_(v);let x=p[E],A=p[v];if(o){const R=E==="y"?"top":"left",O=E==="y"?"bottom":"right",D=x+y[R],U=x-y[O];x=qy(D,x,U)}if(c){const R=v==="y"?"top":"left",O=v==="y"?"bottom":"right",D=A+y[R],U=A-y[O];A=qy(D,A,U)}const C=d.fn({...e,[E]:x,[v]:A});return{...C,data:{x:C.x-n,y:C.y-r,enabled:{[E]:o,[v]:c}}}}}},e9=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:a,rects:o,middlewareData:c}=e,{offset:d=0,mainAxis:h=!0,crossAxis:p=!0}=as(t,e),y={x:n,y:r},v=fa(a),E=l_(v);let x=y[E],A=y[v];const C=as(d,e),R=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(h){const U=E==="y"?"height":"width",H=o.reference[E]-o.floating[U]+R.mainAxis,W=o.reference[E]+o.reference[U]-R.mainAxis;x<H?x=H:x>W&&(x=W)}if(p){var O,D;const U=E==="y"?"width":"height",H=["top","left"].includes(os(a)),W=o.reference[v]-o.floating[U]+(H&&((O=c.offset)==null?void 0:O[v])||0)+(H?0:R.crossAxis),Z=o.reference[v]+o.reference[U]+(H?0:((D=c.offset)==null?void 0:D[v])||0)-(H?R.crossAxis:0);A<W?A=W:A>Z&&(A=Z)}return{[E]:x,[v]:A}}}},t9=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:a,rects:o,platform:c,elements:d}=e,{apply:h=()=>{},...p}=as(t,e),y=await Gu(e,p),v=os(a),E=ac(a),x=fa(a)==="y",{width:A,height:C}=o.floating;let R,O;v==="top"||v==="bottom"?(R=v,O=E===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(O=v,R=E==="end"?"top":"bottom");const D=C-y.top-y.bottom,U=A-y.left-y.right,H=da(C-y[R],D),W=da(A-y[O],U),Z=!e.middlewareData.shift;let k=H,N=W;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=U),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=D),Z&&!E){const V=Xn(y.left,0),z=Xn(y.right,0),B=Xn(y.top,0),L=Xn(y.bottom,0);x?N=A-2*(V!==0||z!==0?V+z:Xn(y.left,y.right)):k=C-2*(B!==0||L!==0?B+L:Xn(y.top,y.bottom))}await h({...e,availableWidth:N,availableHeight:k});const I=await c.getDimensions(d.floating);return A!==I.width||C!==I.height?{reset:{rects:!0}}:{}}}};function bm(){return typeof window<"u"}function oc(t){return dA(t)?(t.nodeName||"").toLowerCase():"#document"}function Jn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function _i(t){var e;return(e=(dA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function dA(t){return bm()?t instanceof Node||t instanceof Jn(t).Node:!1}function Ir(t){return bm()?t instanceof Element||t instanceof Jn(t).Element:!1}function hi(t){return bm()?t instanceof HTMLElement||t instanceof Jn(t).HTMLElement:!1}function WT(t){return!bm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Jn(t).ShadowRoot}function md(t){const{overflow:e,overflowX:n,overflowY:r,display:a}=Mr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(a)}function n9(t){return["table","td","th"].includes(oc(t))}function Em(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function d_(t){const e=f_(),n=Ir(t)?Mr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function r9(t){let e=ha(t);for(;hi(e)&&!Wl(e);){if(d_(e))return e;if(Em(e))return null;e=ha(e)}return null}function f_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Wl(t){return["html","body","#document"].includes(oc(t))}function Mr(t){return Jn(t).getComputedStyle(t)}function Tm(t){return Ir(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ha(t){if(oc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||WT(t)&&t.host||_i(t);return WT(e)?e.host:e}function fA(t){const e=ha(t);return Wl(e)?t.ownerDocument?t.ownerDocument.body:t.body:hi(e)&&md(e)?e:fA(e)}function $u(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const a=fA(t),o=a===((r=t.ownerDocument)==null?void 0:r.body),c=Jn(a);if(o){const d=$y(c);return e.concat(c,c.visualViewport||[],md(a)?a:[],d&&n?$u(d):[])}return e.concat(a,$u(a,[],n))}function $y(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function hA(t){const e=Mr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const a=hi(t),o=a?t.offsetWidth:n,c=a?t.offsetHeight:r,d=Lh(n)!==o||Lh(r)!==c;return d&&(n=o,r=c),{width:n,height:r,$:d}}function h_(t){return Ir(t)?t:t.contextElement}function Il(t){const e=h_(t);if(!hi(e))return li(1);const n=e.getBoundingClientRect(),{width:r,height:a,$:o}=hA(e);let c=(o?Lh(n.width):n.width)/r,d=(o?Lh(n.height):n.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const i9=li(0);function mA(t){const e=Jn(t);return!f_()||!e.visualViewport?i9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function s9(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Jn(t)?!1:e}function yo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),o=h_(t);let c=li(1);e&&(r?Ir(r)&&(c=Il(r)):c=Il(t));const d=s9(o,n,r)?mA(o):li(0);let h=(a.left+d.x)/c.x,p=(a.top+d.y)/c.y,y=a.width/c.x,v=a.height/c.y;if(o){const E=Jn(o),x=r&&Ir(r)?Jn(r):r;let A=E,C=$y(A);for(;C&&r&&x!==A;){const R=Il(C),O=C.getBoundingClientRect(),D=Mr(C),U=O.left+(C.clientLeft+parseFloat(D.paddingLeft))*R.x,H=O.top+(C.clientTop+parseFloat(D.paddingTop))*R.y;h*=R.x,p*=R.y,y*=R.x,v*=R.y,h+=U,p+=H,A=Jn(C),C=$y(A)}}return Uh({width:y,height:v,x:h,y:p})}function m_(t,e){const n=Tm(t).scrollLeft;return e?e.left+n:yo(_i(t)).left+n}function pA(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),a=r.left+e.scrollLeft-(n?0:m_(t,r)),o=r.top+e.scrollTop;return{x:a,y:o}}function a9(t){let{elements:e,rect:n,offsetParent:r,strategy:a}=t;const o=a==="fixed",c=_i(r),d=e?Em(e.floating):!1;if(r===c||d&&o)return n;let h={scrollLeft:0,scrollTop:0},p=li(1);const y=li(0),v=hi(r);if((v||!v&&!o)&&((oc(r)!=="body"||md(c))&&(h=Tm(r)),hi(r))){const x=yo(r);p=Il(r),y.x=x.x+r.clientLeft,y.y=x.y+r.clientTop}const E=c&&!v&&!o?pA(c,h,!0):li(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-h.scrollLeft*p.x+y.x+E.x,y:n.y*p.y-h.scrollTop*p.y+y.y+E.y}}function o9(t){return Array.from(t.getClientRects())}function l9(t){const e=_i(t),n=Tm(t),r=t.ownerDocument.body,a=Xn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Xn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+m_(t);const d=-n.scrollTop;return Mr(r).direction==="rtl"&&(c+=Xn(e.clientWidth,r.clientWidth)-a),{width:a,height:o,x:c,y:d}}function c9(t,e){const n=Jn(t),r=_i(t),a=n.visualViewport;let o=r.clientWidth,c=r.clientHeight,d=0,h=0;if(a){o=a.width,c=a.height;const p=f_();(!p||p&&e==="fixed")&&(d=a.offsetLeft,h=a.offsetTop)}return{width:o,height:c,x:d,y:h}}function u9(t,e){const n=yo(t,!0,e==="fixed"),r=n.top+t.clientTop,a=n.left+t.clientLeft,o=hi(t)?Il(t):li(1),c=t.clientWidth*o.x,d=t.clientHeight*o.y,h=a*o.x,p=r*o.y;return{width:c,height:d,x:h,y:p}}function YT(t,e,n){let r;if(e==="viewport")r=c9(t,n);else if(e==="document")r=l9(_i(t));else if(Ir(e))r=u9(e,n);else{const a=mA(t);r={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Uh(r)}function gA(t,e){const n=ha(t);return n===e||!Ir(n)||Wl(n)?!1:Mr(n).position==="fixed"||gA(n,e)}function d9(t,e){const n=e.get(t);if(n)return n;let r=$u(t,[],!1).filter(d=>Ir(d)&&oc(d)!=="body"),a=null;const o=Mr(t).position==="fixed";let c=o?ha(t):t;for(;Ir(c)&&!Wl(c);){const d=Mr(c),h=d_(c);!h&&d.position==="fixed"&&(a=null),(o?!h&&!a:!h&&d.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||md(c)&&!h&&gA(t,c))?r=r.filter(y=>y!==c):a=d,c=ha(c)}return e.set(t,r),r}function f9(t){let{element:e,boundary:n,rootBoundary:r,strategy:a}=t;const c=[...n==="clippingAncestors"?Em(e)?[]:d9(e,this._c):[].concat(n),r],d=c[0],h=c.reduce((p,y)=>{const v=YT(e,y,a);return p.top=Xn(v.top,p.top),p.right=da(v.right,p.right),p.bottom=da(v.bottom,p.bottom),p.left=Xn(v.left,p.left),p},YT(e,d,a));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function h9(t){const{width:e,height:n}=hA(t);return{width:e,height:n}}function m9(t,e,n){const r=hi(e),a=_i(e),o=n==="fixed",c=yo(t,!0,o,e);let d={scrollLeft:0,scrollTop:0};const h=li(0);if(r||!r&&!o)if((oc(e)!=="body"||md(a))&&(d=Tm(e)),r){const E=yo(e,!0,o,e);h.x=E.x+e.clientLeft,h.y=E.y+e.clientTop}else a&&(h.x=m_(a));const p=a&&!r&&!o?pA(a,d):li(0),y=c.left+d.scrollLeft-h.x-p.x,v=c.top+d.scrollTop-h.y-p.y;return{x:y,y:v,width:c.width,height:c.height}}function iy(t){return Mr(t).position==="static"}function KT(t,e){if(!hi(t)||Mr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return _i(t)===n&&(n=n.ownerDocument.body),n}function yA(t,e){const n=Jn(t);if(Em(t))return n;if(!hi(t)){let a=ha(t);for(;a&&!Wl(a);){if(Ir(a)&&!iy(a))return a;a=ha(a)}return n}let r=KT(t,e);for(;r&&n9(r)&&iy(r);)r=KT(r,e);return r&&Wl(r)&&iy(r)&&!d_(r)?n:r||r9(t)||n}const p9=async function(t){const e=this.getOffsetParent||yA,n=this.getDimensions,r=await n(t.floating);return{reference:m9(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function g9(t){return Mr(t).direction==="rtl"}const y9={convertOffsetParentRelativeRectToViewportRelativeRect:a9,getDocumentElement:_i,getClippingRect:f9,getOffsetParent:yA,getElementRects:p9,getClientRects:o9,getDimensions:h9,getScale:Il,isElement:Ir,isRTL:g9};function v9(t,e){let n=null,r;const a=_i(t);function o(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function c(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),o();const{left:p,top:y,width:v,height:E}=t.getBoundingClientRect();if(d||e(),!v||!E)return;const x=Qf(y),A=Qf(a.clientWidth-(p+v)),C=Qf(a.clientHeight-(y+E)),R=Qf(p),D={rootMargin:-x+"px "+-A+"px "+-C+"px "+-R+"px",threshold:Xn(0,da(1,h))||1};let U=!0;function H(W){const Z=W[0].intersectionRatio;if(Z!==h){if(!U)return c();Z?c(!1,Z):r=setTimeout(()=>{c(!1,1e-7)},1e3)}U=!1}try{n=new IntersectionObserver(H,{...D,root:a.ownerDocument})}catch{n=new IntersectionObserver(H,D)}n.observe(t)}return c(!0),o}function _9(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=h_(t),y=a||o?[...p?$u(p):[],...$u(e)]:[];y.forEach(O=>{a&&O.addEventListener("scroll",n,{passive:!0}),o&&O.addEventListener("resize",n)});const v=p&&d?v9(p,n):null;let E=-1,x=null;c&&(x=new ResizeObserver(O=>{let[D]=O;D&&D.target===p&&x&&(x.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var U;(U=x)==null||U.observe(e)})),n()}),p&&!h&&x.observe(p),x.observe(e));let A,C=h?yo(t):null;h&&R();function R(){const O=yo(t);C&&(O.x!==C.x||O.y!==C.y||O.width!==C.width||O.height!==C.height)&&n(),C=O,A=requestAnimationFrame(R)}return n(),()=>{var O;y.forEach(D=>{a&&D.removeEventListener("scroll",n),o&&D.removeEventListener("resize",n)}),v==null||v(),(O=x)==null||O.disconnect(),x=null,h&&cancelAnimationFrame(A)}}const w9=ZU,b9=JU,E9=KU,T9=t9,S9=QU,QT=YU,x9=e9,A9=(t,e,n)=>{const r=new Map,a={platform:y9,...n},o={...a.platform,_c:r};return WU(t,e,{...a,platform:o})};var mh=typeof document<"u"?b.useLayoutEffect:b.useEffect;function Bh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Bh(t[r],e[r]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,a[r]))return!1;for(r=n;r--!==0;){const o=a[r];if(!(o==="_owner"&&t.$$typeof)&&!Bh(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function vA(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function XT(t,e){const n=vA(t);return Math.round(e*n)/n}function sy(t){const e=b.useRef(t);return mh(()=>{e.current=t}),e}function C9(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:c}={},transform:d=!0,whileElementsMounted:h,open:p}=t,[y,v]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[E,x]=b.useState(r);Bh(E,r)||x(r);const[A,C]=b.useState(null),[R,O]=b.useState(null),D=b.useCallback(ie=>{ie!==Z.current&&(Z.current=ie,C(ie))},[]),U=b.useCallback(ie=>{ie!==k.current&&(k.current=ie,O(ie))},[]),H=o||A,W=c||R,Z=b.useRef(null),k=b.useRef(null),N=b.useRef(y),I=h!=null,V=sy(h),z=sy(a),B=sy(p),L=b.useCallback(()=>{if(!Z.current||!k.current)return;const ie={placement:e,strategy:n,middleware:E};z.current&&(ie.platform=z.current),A9(Z.current,k.current,ie).then(ae=>{const F={...ae,isPositioned:B.current!==!1};ye.current&&!Bh(N.current,F)&&(N.current=F,ed.flushSync(()=>{v(F)}))})},[E,e,n,z,B]);mh(()=>{p===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,v(ie=>({...ie,isPositioned:!1})))},[p]);const ye=b.useRef(!1);mh(()=>(ye.current=!0,()=>{ye.current=!1}),[]),mh(()=>{if(H&&(Z.current=H),W&&(k.current=W),H&&W){if(V.current)return V.current(H,W,L);L()}},[H,W,L,V,I]);const xe=b.useMemo(()=>({reference:Z,floating:k,setReference:D,setFloating:U}),[D,U]),J=b.useMemo(()=>({reference:H,floating:W}),[H,W]),ce=b.useMemo(()=>{const ie={position:n,left:0,top:0};if(!J.floating)return ie;const ae=XT(J.floating,y.x),F=XT(J.floating,y.y);return d?{...ie,transform:"translate("+ae+"px, "+F+"px)",...vA(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ae,top:F}},[n,d,J.floating,y.x,y.y]);return b.useMemo(()=>({...y,update:L,refs:xe,elements:J,floatingStyles:ce}),[y,L,xe,J,ce])}const R9=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:a}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?QT({element:r.current,padding:a}).fn(n):{}:r?QT({element:r,padding:a}).fn(n):{}}}},D9=(t,e)=>({...w9(t),options:[t,e]}),N9=(t,e)=>({...b9(t),options:[t,e]}),I9=(t,e)=>({...x9(t),options:[t,e]}),M9=(t,e)=>({...E9(t),options:[t,e]}),O9=(t,e)=>({...T9(t),options:[t,e]}),k9=(t,e)=>({...S9(t),options:[t,e]}),P9=(t,e)=>({...R9(t),options:[t,e]});var V9="Arrow",_A=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:a=5,...o}=t;return _.jsx(qe.svg,{...o,ref:e,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:_.jsx("polygon",{points:"0,0 30,0 15,10"})})});_A.displayName=V9;var L9=_A;function wA(t){const[e,n]=b.useState(void 0);return vn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let c,d;if("borderBoxSize"in o){const h=o.borderBoxSize,p=Array.isArray(h)?h[0]:h;c=p.inlineSize,d=p.blockSize}else c=t.offsetWidth,d=t.offsetHeight;n({width:c,height:d})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var p_="Popper",[bA,lc]=vi(p_),[j9,EA]=bA(p_),TA=t=>{const{__scopePopper:e,children:n}=t,[r,a]=b.useState(null);return _.jsx(j9,{scope:e,anchor:r,onAnchorChange:a,children:n})};TA.displayName=p_;var SA="PopperAnchor",xA=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...a}=t,o=EA(SA,n),c=b.useRef(null),d=ut(e,c);return b.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||c.current)}),r?null:_.jsx(qe.div,{...a,ref:d})});xA.displayName=SA;var g_="PopperContent",[U9,B9]=bA(g_),AA=b.forwardRef((t,e)=>{var me,_e,De,Ee,Oe,He;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:o="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:y=0,sticky:v="partial",hideWhenDetached:E=!1,updatePositionStrategy:x="optimized",onPlaced:A,...C}=t,R=EA(g_,n),[O,D]=b.useState(null),U=ut(e,ft=>D(ft)),[H,W]=b.useState(null),Z=wA(H),k=(Z==null?void 0:Z.width)??0,N=(Z==null?void 0:Z.height)??0,I=r+(o!=="center"?"-"+o:""),V=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},z=Array.isArray(p)?p:[p],B=z.length>0,L={padding:V,boundary:z.filter(F9),altBoundary:B},{refs:ye,floatingStyles:xe,placement:J,isPositioned:ce,middlewareData:ie}=C9({strategy:"fixed",placement:I,whileElementsMounted:(...ft)=>_9(...ft,{animationFrame:x==="always"}),elements:{reference:R.anchor},middleware:[D9({mainAxis:a+N,alignmentAxis:c}),h&&N9({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?I9():void 0,...L}),h&&M9({...L}),O9({...L,apply:({elements:ft,rects:Vt,availableWidth:_n,availableHeight:un})=>{const{width:Pn,height:Pr}=Vt.reference,Fn=ft.floating.style;Fn.setProperty("--radix-popper-available-width",`${_n}px`),Fn.setProperty("--radix-popper-available-height",`${un}px`),Fn.setProperty("--radix-popper-anchor-width",`${Pn}px`),Fn.setProperty("--radix-popper-anchor-height",`${Pr}px`)}}),H&&P9({element:H,padding:d}),H9({arrowWidth:k,arrowHeight:N}),E&&k9({strategy:"referenceHidden",...L})]}),[ae,F]=DA(J),ee=er(A);vn(()=>{ce&&(ee==null||ee())},[ce,ee]);const he=(me=ie.arrow)==null?void 0:me.x,fe=(_e=ie.arrow)==null?void 0:_e.y,de=((De=ie.arrow)==null?void 0:De.centerOffset)!==0,[Re,Te]=b.useState();return vn(()=>{O&&Te(window.getComputedStyle(O).zIndex)},[O]),_.jsx("div",{ref:ye.setFloating,"data-radix-popper-content-wrapper":"",style:{...xe,transform:ce?xe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(Ee=ie.transformOrigin)==null?void 0:Ee.x,(Oe=ie.transformOrigin)==null?void 0:Oe.y].join(" "),...((He=ie.hide)==null?void 0:He.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:_.jsx(U9,{scope:n,placedSide:ae,onArrowChange:W,arrowX:he,arrowY:fe,shouldHideArrow:de,children:_.jsx(qe.div,{"data-side":ae,"data-align":F,...C,ref:U,style:{...C.style,animation:ce?void 0:"none"}})})})});AA.displayName=g_;var CA="PopperArrow",z9={top:"bottom",right:"left",bottom:"top",left:"right"},RA=b.forwardRef(function(e,n){const{__scopePopper:r,...a}=e,o=B9(CA,r),c=z9[o.placedSide];return _.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:_.jsx(L9,{...a,ref:n,style:{...a.style,display:"block"}})})});RA.displayName=CA;function F9(t){return t!==null}var H9=t=>({name:"transformOrigin",options:t,fn(e){var R,O,D;const{placement:n,rects:r,middlewareData:a}=e,c=((R=a.arrow)==null?void 0:R.centerOffset)!==0,d=c?0:t.arrowWidth,h=c?0:t.arrowHeight,[p,y]=DA(n),v={start:"0%",center:"50%",end:"100%"}[y],E=(((O=a.arrow)==null?void 0:O.x)??0)+d/2,x=(((D=a.arrow)==null?void 0:D.y)??0)+h/2;let A="",C="";return p==="bottom"?(A=c?v:`${E}px`,C=`${-h}px`):p==="top"?(A=c?v:`${E}px`,C=`${r.floating.height+h}px`):p==="right"?(A=`${-h}px`,C=c?v:`${x}px`):p==="left"&&(A=`${r.floating.width+h}px`,C=c?v:`${x}px`),{data:{x:A,y:C}}}});function DA(t){const[e,n="center"]=t.split("-");return[e,n]}var y_=TA,Sm=xA,v_=AA,__=RA,q9="Portal",pd=b.forwardRef((t,e)=>{var d;const{container:n,...r}=t,[a,o]=b.useState(!1);vn(()=>o(!0),[]);const c=n||a&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return c?YM.createPortal(_.jsx(qe.div,{...r,ref:e}),c):null});pd.displayName=q9;function G9(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var Or=t=>{const{present:e,children:n}=t,r=$9(e),a=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),o=ut(r.ref,W9(a));return typeof n=="function"||r.isPresent?b.cloneElement(a,{ref:o}):null};Or.displayName="Presence";function $9(t){const[e,n]=b.useState(),r=b.useRef({}),a=b.useRef(t),o=b.useRef("none"),c=t?"mounted":"unmounted",[d,h]=G9(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const p=Xf(r.current);o.current=d==="mounted"?p:"none"},[d]),vn(()=>{const p=r.current,y=a.current;if(y!==t){const E=o.current,x=Xf(p);t?h("MOUNT"):x==="none"||(p==null?void 0:p.display)==="none"?h("UNMOUNT"):h(y&&E!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,h]),vn(()=>{if(e){let p;const y=e.ownerDocument.defaultView??window,v=x=>{const C=Xf(r.current).includes(x.animationName);if(x.target===e&&C&&(h("ANIMATION_END"),!a.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",p=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},E=x=>{x.target===e&&(o.current=Xf(r.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{y.clearTimeout(p),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:b.useCallback(p=>{p&&(r.current=getComputedStyle(p)),n(p)},[])}}function Xf(t){return(t==null?void 0:t.animationName)||"none"}function W9(t){var r,a;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var ay="rovingFocusGroup.onEntryFocus",Y9={bubbles:!1,cancelable:!0},xm="RovingFocusGroup",[Wy,NA,K9]=a_(xm),[Q9,IA]=vi(xm,[K9]),[X9,Z9]=Q9(xm),MA=b.forwardRef((t,e)=>_.jsx(Wy.Provider,{scope:t.__scopeRovingFocusGroup,children:_.jsx(Wy.Slot,{scope:t.__scopeRovingFocusGroup,children:_.jsx(J9,{...t,ref:e})})}));MA.displayName=xm;var J9=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:o,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:y=!1,...v}=t,E=b.useRef(null),x=ut(e,E),A=o_(o),[C=null,R]=go({prop:c,defaultProp:d,onChange:h}),[O,D]=b.useState(!1),U=er(p),H=NA(n),W=b.useRef(!1),[Z,k]=b.useState(0);return b.useEffect(()=>{const N=E.current;if(N)return N.addEventListener(ay,U),()=>N.removeEventListener(ay,U)},[U]),_.jsx(X9,{scope:n,orientation:r,dir:A,loop:a,currentTabStopId:C,onItemFocus:b.useCallback(N=>R(N),[R]),onItemShiftTab:b.useCallback(()=>D(!0),[]),onFocusableItemAdd:b.useCallback(()=>k(N=>N+1),[]),onFocusableItemRemove:b.useCallback(()=>k(N=>N-1),[]),children:_.jsx(qe.div,{tabIndex:O||Z===0?-1:0,"data-orientation":r,...v,ref:x,style:{outline:"none",...t.style},onMouseDown:we(t.onMouseDown,()=>{W.current=!0}),onFocus:we(t.onFocus,N=>{const I=!W.current;if(N.target===N.currentTarget&&I&&!O){const V=new CustomEvent(ay,Y9);if(N.currentTarget.dispatchEvent(V),!V.defaultPrevented){const z=H().filter(J=>J.focusable),B=z.find(J=>J.active),L=z.find(J=>J.id===C),xe=[B,L,...z].filter(Boolean).map(J=>J.ref.current);PA(xe,y)}}W.current=!1}),onBlur:we(t.onBlur,()=>D(!1))})})}),OA="RovingFocusGroupItem",kA=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:o,...c}=t,d=oi(),h=o||d,p=Z9(OA,n),y=p.currentTabStopId===h,v=NA(n),{onFocusableItemAdd:E,onFocusableItemRemove:x}=p;return b.useEffect(()=>{if(r)return E(),()=>x()},[r,E,x]),_.jsx(Wy.ItemSlot,{scope:n,id:h,focusable:r,active:a,children:_.jsx(qe.span,{tabIndex:y?0:-1,"data-orientation":p.orientation,...c,ref:e,onMouseDown:we(t.onMouseDown,A=>{r?p.onItemFocus(h):A.preventDefault()}),onFocus:we(t.onFocus,()=>p.onItemFocus(h)),onKeyDown:we(t.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){p.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const C=n6(A,p.orientation,p.dir);if(C!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let O=v().filter(D=>D.focusable).map(D=>D.ref.current);if(C==="last")O.reverse();else if(C==="prev"||C==="next"){C==="prev"&&O.reverse();const D=O.indexOf(A.currentTarget);O=p.loop?r6(O,D+1):O.slice(D+1)}setTimeout(()=>PA(O))}})})})});kA.displayName=OA;var e6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function t6(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function n6(t,e,n){const r=t6(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return e6[r]}function PA(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function r6(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var i6=MA,s6=kA,a6=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},vl=new WeakMap,Zf=new WeakMap,Jf={},oy=0,VA=function(t){return t&&(t.host||VA(t.parentNode))},o6=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=VA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},l6=function(t,e,n,r){var a=o6(e,Array.isArray(t)?t:[t]);Jf[n]||(Jf[n]=new WeakMap);var o=Jf[n],c=[],d=new Set,h=new Set(a),p=function(v){!v||d.has(v)||(d.add(v),p(v.parentNode))};a.forEach(p);var y=function(v){!v||h.has(v)||Array.prototype.forEach.call(v.children,function(E){if(d.has(E))y(E);else try{var x=E.getAttribute(r),A=x!==null&&x!=="false",C=(vl.get(E)||0)+1,R=(o.get(E)||0)+1;vl.set(E,C),o.set(E,R),c.push(E),C===1&&A&&Zf.set(E,!0),R===1&&E.setAttribute(n,"true"),A||E.setAttribute(r,"true")}catch(O){console.error("aria-hidden: cannot operate on ",E,O)}})};return y(e),d.clear(),oy++,function(){c.forEach(function(v){var E=vl.get(v)-1,x=o.get(v)-1;vl.set(v,E),o.set(v,x),E||(Zf.has(v)||v.removeAttribute(r),Zf.delete(v)),x||v.removeAttribute(n)}),oy--,oy||(vl=new WeakMap,vl=new WeakMap,Zf=new WeakMap,Jf={})}},Am=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),a=a6(t);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),l6(r,a,n,"aria-hidden")):function(){return null}},ph="right-scroll-bar-position",gh="width-before-scroll-bar",c6="with-scroll-bars-hidden",u6="--removed-body-scroll-bar-size";function ly(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function d6(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=e,n.facade}var f6=typeof window<"u"?b.useLayoutEffect:b.useEffect,ZT=new WeakMap;function h6(t,e){var n=d6(null,function(r){return t.forEach(function(a){return ly(a,r)})});return f6(function(){var r=ZT.get(n);if(r){var a=new Set(r),o=new Set(t),c=n.current;a.forEach(function(d){o.has(d)||ly(d,null)}),o.forEach(function(d){a.has(d)||ly(d,c)})}ZT.set(n,t)},[t]),n}function m6(t){return t}function p6(t,e){e===void 0&&(e=m6);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var c=e(o,r);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(o){for(r=!0;n.length;){var c=n;n=[],c.forEach(o)}n={push:function(d){return o(d)},filter:function(){return n}}},assignMedium:function(o){r=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(o),c=n}var h=function(){var y=c;c=[],y.forEach(o)},p=function(){return Promise.resolve().then(h)};p(),n={push:function(y){c.push(y),p()},filter:function(y){return c=c.filter(y),n}}}};return a}function g6(t){t===void 0&&(t={});var e=p6(null);return e.options=Xr({async:!0,ssr:!1},t),e}var LA=function(t){var e=t.sideCar,n=rd(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Xr({},n))};LA.isSideCarExport=!0;function y6(t,e){return t.useMedium(e),LA}var jA=g6(),cy=function(){},Cm=b.forwardRef(function(t,e){var n=b.useRef(null),r=b.useState({onScrollCapture:cy,onWheelCapture:cy,onTouchMoveCapture:cy}),a=r[0],o=r[1],c=t.forwardProps,d=t.children,h=t.className,p=t.removeScrollBar,y=t.enabled,v=t.shards,E=t.sideCar,x=t.noIsolation,A=t.inert,C=t.allowPinchZoom,R=t.as,O=R===void 0?"div":R,D=t.gapMode,U=rd(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),H=E,W=h6([n,e]),Z=Xr(Xr({},U),a);return b.createElement(b.Fragment,null,y&&b.createElement(H,{sideCar:jA,removeScrollBar:p,shards:v,noIsolation:x,inert:A,setCallbacks:o,allowPinchZoom:!!C,lockRef:n,gapMode:D}),c?b.cloneElement(b.Children.only(d),Xr(Xr({},Z),{ref:W})):b.createElement(O,Xr({},Z,{className:h,ref:W}),d))});Cm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Cm.classNames={fullWidth:gh,zeroRight:ph};var v6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=v6();return e&&t.setAttribute("nonce",e),t}function w6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function b6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var E6=function(){var t=0,e=null;return{add:function(n){t==0&&(e=_6())&&(w6(e,n),b6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},T6=function(){var t=E6();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},UA=function(){var t=T6(),e=function(n){var r=n.styles,a=n.dynamic;return t(r,a),null};return e},S6={left:0,top:0,right:0,gap:0},uy=function(t){return parseInt(t||"",10)||0},x6=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[uy(n),uy(r),uy(a)]},A6=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return S6;var e=x6(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},C6=UA(),Ml="data-scroll-locked",R6=function(t,e,n,r){var a=t.left,o=t.top,c=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(c6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(Ml,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ph,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(gh,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(ph," .").concat(ph,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(gh," .").concat(gh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ml,`] {
    `).concat(u6,": ").concat(d,`px;
  }
`)},JT=function(){var t=parseInt(document.body.getAttribute(Ml)||"0",10);return isFinite(t)?t:0},D6=function(){b.useEffect(function(){return document.body.setAttribute(Ml,(JT()+1).toString()),function(){var t=JT()-1;t<=0?document.body.removeAttribute(Ml):document.body.setAttribute(Ml,t.toString())}},[])},N6=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,a=r===void 0?"margin":r;D6();var o=b.useMemo(function(){return A6(a)},[a]);return b.createElement(C6,{styles:R6(o,!e,a,n?"":"!important")})},Yy=!1;if(typeof window<"u")try{var eh=Object.defineProperty({},"passive",{get:function(){return Yy=!0,!0}});window.addEventListener("test",eh,eh),window.removeEventListener("test",eh,eh)}catch{Yy=!1}var _l=Yy?{passive:!1}:!1,I6=function(t){return t.tagName==="TEXTAREA"},BA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!I6(t)&&n[e]==="visible")},M6=function(t){return BA(t,"overflowY")},O6=function(t){return BA(t,"overflowX")},eS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=zA(t,r);if(a){var o=FA(t,r),c=o[1],d=o[2];if(c>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},k6=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},P6=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},zA=function(t,e){return t==="v"?M6(e):O6(e)},FA=function(t,e){return t==="v"?k6(e):P6(e)},V6=function(t,e){return t==="h"&&e==="rtl"?-1:1},L6=function(t,e,n,r,a){var o=V6(t,window.getComputedStyle(e).direction),c=o*r,d=n.target,h=e.contains(d),p=!1,y=c>0,v=0,E=0;do{var x=FA(t,d),A=x[0],C=x[1],R=x[2],O=C-R-o*A;(A||O)&&zA(t,d)&&(v+=O,E+=A),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!h&&d!==document.body||h&&(e.contains(d)||e===d));return(y&&(Math.abs(v)<1||!a)||!y&&(Math.abs(E)<1||!a))&&(p=!0),p},th=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},tS=function(t){return[t.deltaX,t.deltaY]},nS=function(t){return t&&"current"in t?t.current:t},j6=function(t,e){return t[0]===e[0]&&t[1]===e[1]},U6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},B6=0,wl=[];function z6(t){var e=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),a=b.useState(B6++)[0],o=b.useState(UA)[0],c=b.useRef(t);b.useEffect(function(){c.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var C=Rk([t.lockRef.current],(t.shards||[]).map(nS),!0).filter(Boolean);return C.forEach(function(R){return R.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),C.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var d=b.useCallback(function(C,R){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!c.current.allowPinchZoom;var O=th(C),D=n.current,U="deltaX"in C?C.deltaX:D[0]-O[0],H="deltaY"in C?C.deltaY:D[1]-O[1],W,Z=C.target,k=Math.abs(U)>Math.abs(H)?"h":"v";if("touches"in C&&k==="h"&&Z.type==="range")return!1;var N=eS(k,Z);if(!N)return!0;if(N?W=k:(W=k==="v"?"h":"v",N=eS(k,Z)),!N)return!1;if(!r.current&&"changedTouches"in C&&(U||H)&&(r.current=W),!W)return!0;var I=r.current||W;return L6(I,R,C,I==="h"?U:H,!0)},[]),h=b.useCallback(function(C){var R=C;if(!(!wl.length||wl[wl.length-1]!==o)){var O="deltaY"in R?tS(R):th(R),D=e.current.filter(function(W){return W.name===R.type&&(W.target===R.target||R.target===W.shadowParent)&&j6(W.delta,O)})[0];if(D&&D.should){R.cancelable&&R.preventDefault();return}if(!D){var U=(c.current.shards||[]).map(nS).filter(Boolean).filter(function(W){return W.contains(R.target)}),H=U.length>0?d(R,U[0]):!c.current.noIsolation;H&&R.cancelable&&R.preventDefault()}}},[]),p=b.useCallback(function(C,R,O,D){var U={name:C,delta:R,target:O,should:D,shadowParent:F6(O)};e.current.push(U),setTimeout(function(){e.current=e.current.filter(function(H){return H!==U})},1)},[]),y=b.useCallback(function(C){n.current=th(C),r.current=void 0},[]),v=b.useCallback(function(C){p(C.type,tS(C),C.target,d(C,t.lockRef.current))},[]),E=b.useCallback(function(C){p(C.type,th(C),C.target,d(C,t.lockRef.current))},[]);b.useEffect(function(){return wl.push(o),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:E}),document.addEventListener("wheel",h,_l),document.addEventListener("touchmove",h,_l),document.addEventListener("touchstart",y,_l),function(){wl=wl.filter(function(C){return C!==o}),document.removeEventListener("wheel",h,_l),document.removeEventListener("touchmove",h,_l),document.removeEventListener("touchstart",y,_l)}},[]);var x=t.removeScrollBar,A=t.inert;return b.createElement(b.Fragment,null,A?b.createElement(o,{styles:U6(a)}):null,x?b.createElement(N6,{gapMode:t.gapMode}):null)}function F6(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const H6=y6(jA,z6);var gd=b.forwardRef(function(t,e){return b.createElement(Cm,Xr({},t,{ref:e,sideCar:H6}))});gd.classNames=Cm.classNames;var Ky=["Enter"," "],q6=["ArrowDown","PageUp","Home"],HA=["ArrowUp","PageDown","End"],G6=[...q6,...HA],$6={ltr:[...Ky,"ArrowRight"],rtl:[...Ky,"ArrowLeft"]},W6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},yd="Menu",[Wu,Y6,K6]=a_(yd),[xo,qA]=vi(yd,[K6,lc,IA]),Rm=lc(),GA=IA(),[Q6,Ao]=xo(yd),[X6,vd]=xo(yd),$A=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:a,onOpenChange:o,modal:c=!0}=t,d=Rm(e),[h,p]=b.useState(null),y=b.useRef(!1),v=er(o),E=o_(a);return b.useEffect(()=>{const x=()=>{y.current=!0,document.addEventListener("pointerdown",A,{capture:!0,once:!0}),document.addEventListener("pointermove",A,{capture:!0,once:!0})},A=()=>y.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",A,{capture:!0}),document.removeEventListener("pointermove",A,{capture:!0})}},[]),_.jsx(y_,{...d,children:_.jsx(Q6,{scope:e,open:n,onOpenChange:v,content:h,onContentChange:p,children:_.jsx(X6,{scope:e,onClose:b.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:y,dir:E,modal:c,children:r})})})};$A.displayName=yd;var Z6="MenuAnchor",w_=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,a=Rm(n);return _.jsx(Sm,{...a,...r,ref:e})});w_.displayName=Z6;var b_="MenuPortal",[J6,WA]=xo(b_,{forceMount:void 0}),YA=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:a}=t,o=Ao(b_,e);return _.jsx(J6,{scope:e,forceMount:n,children:_.jsx(Or,{present:n||o.open,children:_.jsx(pd,{asChild:!0,container:a,children:r})})})};YA.displayName=b_;var vr="MenuContent",[eB,E_]=xo(vr),KA=b.forwardRef((t,e)=>{const n=WA(vr,t.__scopeMenu),{forceMount:r=n.forceMount,...a}=t,o=Ao(vr,t.__scopeMenu),c=vd(vr,t.__scopeMenu);return _.jsx(Wu.Provider,{scope:t.__scopeMenu,children:_.jsx(Or,{present:r||o.open,children:_.jsx(Wu.Slot,{scope:t.__scopeMenu,children:c.modal?_.jsx(tB,{...a,ref:e}):_.jsx(nB,{...a,ref:e})})})})}),tB=b.forwardRef((t,e)=>{const n=Ao(vr,t.__scopeMenu),r=b.useRef(null),a=ut(e,r);return b.useEffect(()=>{const o=r.current;if(o)return Am(o)},[]),_.jsx(T_,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:we(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),nB=b.forwardRef((t,e)=>{const n=Ao(vr,t.__scopeMenu);return _.jsx(T_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),T_=b.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEntryFocus:h,onEscapeKeyDown:p,onPointerDownOutside:y,onFocusOutside:v,onInteractOutside:E,onDismiss:x,disableOutsideScroll:A,...C}=t,R=Ao(vr,n),O=vd(vr,n),D=Rm(n),U=GA(n),H=Y6(n),[W,Z]=b.useState(null),k=b.useRef(null),N=ut(e,k,R.onContentChange),I=b.useRef(0),V=b.useRef(""),z=b.useRef(0),B=b.useRef(null),L=b.useRef("right"),ye=b.useRef(0),xe=A?gd:b.Fragment,J=A?{as:ss,allowPinchZoom:!0}:void 0,ce=ae=>{var me,_e;const F=V.current+ae,ee=H().filter(De=>!De.disabled),he=document.activeElement,fe=(me=ee.find(De=>De.ref.current===he))==null?void 0:me.textValue,de=ee.map(De=>De.textValue),Re=mB(de,F,fe),Te=(_e=ee.find(De=>De.textValue===Re))==null?void 0:_e.ref.current;(function De(Ee){V.current=Ee,window.clearTimeout(I.current),Ee!==""&&(I.current=window.setTimeout(()=>De(""),1e3))})(F),Te&&setTimeout(()=>Te.focus())};b.useEffect(()=>()=>window.clearTimeout(I.current),[]),wm();const ie=b.useCallback(ae=>{var ee,he;return L.current===((ee=B.current)==null?void 0:ee.side)&&gB(ae,(he=B.current)==null?void 0:he.area)},[]);return _.jsx(eB,{scope:n,searchRef:V,onItemEnter:b.useCallback(ae=>{ie(ae)&&ae.preventDefault()},[ie]),onItemLeave:b.useCallback(ae=>{var F;ie(ae)||((F=k.current)==null||F.focus(),Z(null))},[ie]),onTriggerLeave:b.useCallback(ae=>{ie(ae)&&ae.preventDefault()},[ie]),pointerGraceTimerRef:z,onPointerGraceIntentChange:b.useCallback(ae=>{B.current=ae},[]),children:_.jsx(xe,{...J,children:_.jsx(hd,{asChild:!0,trapped:a,onMountAutoFocus:we(o,ae=>{var F;ae.preventDefault(),(F=k.current)==null||F.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:_.jsx(fd,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:p,onPointerDownOutside:y,onFocusOutside:v,onInteractOutside:E,onDismiss:x,children:_.jsx(i6,{asChild:!0,...U,dir:O.dir,orientation:"vertical",loop:r,currentTabStopId:W,onCurrentTabStopIdChange:Z,onEntryFocus:we(h,ae=>{O.isUsingKeyboardRef.current||ae.preventDefault()}),preventScrollOnEntryFocus:!0,children:_.jsx(v_,{role:"menu","aria-orientation":"vertical","data-state":dC(R.open),"data-radix-menu-content":"",dir:O.dir,...D,...C,ref:N,style:{outline:"none",...C.style},onKeyDown:we(C.onKeyDown,ae=>{const ee=ae.target.closest("[data-radix-menu-content]")===ae.currentTarget,he=ae.ctrlKey||ae.altKey||ae.metaKey,fe=ae.key.length===1;ee&&(ae.key==="Tab"&&ae.preventDefault(),!he&&fe&&ce(ae.key));const de=k.current;if(ae.target!==de||!G6.includes(ae.key))return;ae.preventDefault();const Te=H().filter(me=>!me.disabled).map(me=>me.ref.current);HA.includes(ae.key)&&Te.reverse(),fB(Te)}),onBlur:we(t.onBlur,ae=>{ae.currentTarget.contains(ae.target)||(window.clearTimeout(I.current),V.current="")}),onPointerMove:we(t.onPointerMove,Yu(ae=>{const F=ae.target,ee=ye.current!==ae.clientX;if(ae.currentTarget.contains(F)&&ee){const he=ae.clientX>ye.current?"right":"left";L.current=he,ye.current=ae.clientX}}))})})})})})})});KA.displayName=vr;var rB="MenuGroup",S_=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return _.jsx(qe.div,{role:"group",...r,ref:e})});S_.displayName=rB;var iB="MenuLabel",QA=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return _.jsx(qe.div,{...r,ref:e})});QA.displayName=iB;var zh="MenuItem",rS="menu.itemSelect",Dm=b.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...a}=t,o=b.useRef(null),c=vd(zh,t.__scopeMenu),d=E_(zh,t.__scopeMenu),h=ut(e,o),p=b.useRef(!1),y=()=>{const v=o.current;if(!n&&v){const E=new CustomEvent(rS,{bubbles:!0,cancelable:!0});v.addEventListener(rS,x=>r==null?void 0:r(x),{once:!0}),aA(v,E),E.defaultPrevented?p.current=!1:c.onClose()}};return _.jsx(XA,{...a,ref:h,disabled:n,onClick:we(t.onClick,y),onPointerDown:v=>{var E;(E=t.onPointerDown)==null||E.call(t,v),p.current=!0},onPointerUp:we(t.onPointerUp,v=>{var E;p.current||(E=v.currentTarget)==null||E.click()}),onKeyDown:we(t.onKeyDown,v=>{const E=d.searchRef.current!=="";n||E&&v.key===" "||Ky.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});Dm.displayName=zh;var XA=b.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...o}=t,c=E_(zh,n),d=GA(n),h=b.useRef(null),p=ut(e,h),[y,v]=b.useState(!1),[E,x]=b.useState("");return b.useEffect(()=>{const A=h.current;A&&x((A.textContent??"").trim())},[o.children]),_.jsx(Wu.ItemSlot,{scope:n,disabled:r,textValue:a??E,children:_.jsx(s6,{asChild:!0,...d,focusable:!r,children:_.jsx(qe.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:p,onPointerMove:we(t.onPointerMove,Yu(A=>{r?c.onItemLeave(A):(c.onItemEnter(A),A.defaultPrevented||A.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:we(t.onPointerLeave,Yu(A=>c.onItemLeave(A))),onFocus:we(t.onFocus,()=>v(!0)),onBlur:we(t.onBlur,()=>v(!1))})})})}),sB="MenuCheckboxItem",ZA=b.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...a}=t;return _.jsx(rC,{scope:t.__scopeMenu,checked:n,children:_.jsx(Dm,{role:"menuitemcheckbox","aria-checked":Fh(n)?"mixed":n,...a,ref:e,"data-state":A_(n),onSelect:we(a.onSelect,()=>r==null?void 0:r(Fh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});ZA.displayName=sB;var JA="MenuRadioGroup",[aB,oB]=xo(JA,{value:void 0,onValueChange:()=>{}}),eC=b.forwardRef((t,e)=>{const{value:n,onValueChange:r,...a}=t,o=er(r);return _.jsx(aB,{scope:t.__scopeMenu,value:n,onValueChange:o,children:_.jsx(S_,{...a,ref:e})})});eC.displayName=JA;var tC="MenuRadioItem",nC=b.forwardRef((t,e)=>{const{value:n,...r}=t,a=oB(tC,t.__scopeMenu),o=n===a.value;return _.jsx(rC,{scope:t.__scopeMenu,checked:o,children:_.jsx(Dm,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":A_(o),onSelect:we(r.onSelect,()=>{var c;return(c=a.onValueChange)==null?void 0:c.call(a,n)},{checkForDefaultPrevented:!1})})})});nC.displayName=tC;var x_="MenuItemIndicator",[rC,lB]=xo(x_,{checked:!1}),iC=b.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...a}=t,o=lB(x_,n);return _.jsx(Or,{present:r||Fh(o.checked)||o.checked===!0,children:_.jsx(qe.span,{...a,ref:e,"data-state":A_(o.checked)})})});iC.displayName=x_;var cB="MenuSeparator",sC=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return _.jsx(qe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});sC.displayName=cB;var uB="MenuArrow",aC=b.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,a=Rm(n);return _.jsx(__,{...a,...r,ref:e})});aC.displayName=uB;var dB="MenuSub",[_q,oC]=xo(dB),Su="MenuSubTrigger",lC=b.forwardRef((t,e)=>{const n=Ao(Su,t.__scopeMenu),r=vd(Su,t.__scopeMenu),a=oC(Su,t.__scopeMenu),o=E_(Su,t.__scopeMenu),c=b.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:h}=o,p={__scopeMenu:t.__scopeMenu},y=b.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return b.useEffect(()=>y,[y]),b.useEffect(()=>{const v=d.current;return()=>{window.clearTimeout(v),h(null)}},[d,h]),_.jsx(w_,{asChild:!0,...p,children:_.jsx(XA,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":dC(n.open),...t,ref:vm(e,a.onTriggerChange),onClick:v=>{var E;(E=t.onClick)==null||E.call(t,v),!(t.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:we(t.onPointerMove,Yu(v=>{o.onItemEnter(v),!v.defaultPrevented&&!t.disabled&&!n.open&&!c.current&&(o.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),y()},100))})),onPointerLeave:we(t.onPointerLeave,Yu(v=>{var x,A;y();const E=(x=n.content)==null?void 0:x.getBoundingClientRect();if(E){const C=(A=n.content)==null?void 0:A.dataset.side,R=C==="right",O=R?-5:5,D=E[R?"left":"right"],U=E[R?"right":"left"];o.onPointerGraceIntentChange({area:[{x:v.clientX+O,y:v.clientY},{x:D,y:E.top},{x:U,y:E.top},{x:U,y:E.bottom},{x:D,y:E.bottom}],side:C}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(v),v.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:we(t.onKeyDown,v=>{var x;const E=o.searchRef.current!=="";t.disabled||E&&v.key===" "||$6[r.dir].includes(v.key)&&(n.onOpenChange(!0),(x=n.content)==null||x.focus(),v.preventDefault())})})})});lC.displayName=Su;var cC="MenuSubContent",uC=b.forwardRef((t,e)=>{const n=WA(vr,t.__scopeMenu),{forceMount:r=n.forceMount,...a}=t,o=Ao(vr,t.__scopeMenu),c=vd(vr,t.__scopeMenu),d=oC(cC,t.__scopeMenu),h=b.useRef(null),p=ut(e,h);return _.jsx(Wu.Provider,{scope:t.__scopeMenu,children:_.jsx(Or,{present:r||o.open,children:_.jsx(Wu.Slot,{scope:t.__scopeMenu,children:_.jsx(T_,{id:d.contentId,"aria-labelledby":d.triggerId,...a,ref:p,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{var v;c.isUsingKeyboardRef.current&&((v=h.current)==null||v.focus()),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:we(t.onFocusOutside,y=>{y.target!==d.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:we(t.onEscapeKeyDown,y=>{c.onClose(),y.preventDefault()}),onKeyDown:we(t.onKeyDown,y=>{var x;const v=y.currentTarget.contains(y.target),E=W6[c.dir].includes(y.key);v&&E&&(o.onOpenChange(!1),(x=d.trigger)==null||x.focus(),y.preventDefault())})})})})})});uC.displayName=cC;function dC(t){return t?"open":"closed"}function Fh(t){return t==="indeterminate"}function A_(t){return Fh(t)?"indeterminate":t?"checked":"unchecked"}function fB(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function hB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function mB(t,e,n){const a=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let c=hB(t,Math.max(o,0));a.length===1&&(c=c.filter(p=>p!==n));const h=c.find(p=>p.toLowerCase().startsWith(a.toLowerCase()));return h!==n?h:void 0}function pB(t,e){const{x:n,y:r}=t;let a=!1;for(let o=0,c=e.length-1;o<e.length;c=o++){const d=e[o].x,h=e[o].y,p=e[c].x,y=e[c].y;h>r!=y>r&&n<(p-d)*(r-h)/(y-h)+d&&(a=!a)}return a}function gB(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return pB(n,e)}function Yu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var yB=$A,vB=w_,_B=YA,wB=KA,bB=S_,EB=QA,TB=Dm,SB=ZA,xB=eC,AB=nC,CB=iC,RB=sC,DB=aC,NB=lC,IB=uC,C_="DropdownMenu",[MB,wq]=vi(C_,[qA]),kn=qA(),[OB,fC]=MB(C_),hC=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:a,defaultOpen:o,onOpenChange:c,modal:d=!0}=t,h=kn(e),p=b.useRef(null),[y=!1,v]=go({prop:a,defaultProp:o,onChange:c});return _.jsx(OB,{scope:e,triggerId:oi(),triggerRef:p,contentId:oi(),open:y,onOpenChange:v,onOpenToggle:b.useCallback(()=>v(E=>!E),[v]),modal:d,children:_.jsx(yB,{...h,open:y,onOpenChange:v,dir:r,modal:d,children:n})})};hC.displayName=C_;var mC="DropdownMenuTrigger",pC=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=t,o=fC(mC,n),c=kn(n);return _.jsx(vB,{asChild:!0,...c,children:_.jsx(qe.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:vm(e,o.triggerRef),onPointerDown:we(t.onPointerDown,d=>{!r&&d.button===0&&d.ctrlKey===!1&&(o.onOpenToggle(),o.open||d.preventDefault())}),onKeyDown:we(t.onKeyDown,d=>{r||(["Enter"," "].includes(d.key)&&o.onOpenToggle(),d.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});pC.displayName=mC;var kB="DropdownMenuPortal",gC=t=>{const{__scopeDropdownMenu:e,...n}=t,r=kn(e);return _.jsx(_B,{...r,...n})};gC.displayName=kB;var yC="DropdownMenuContent",vC=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,a=fC(yC,n),o=kn(n),c=b.useRef(!1);return _.jsx(wB,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...r,ref:e,onCloseAutoFocus:we(t.onCloseAutoFocus,d=>{var h;c.current||(h=a.triggerRef.current)==null||h.focus(),c.current=!1,d.preventDefault()}),onInteractOutside:we(t.onInteractOutside,d=>{const h=d.detail.originalEvent,p=h.button===0&&h.ctrlKey===!0,y=h.button===2||p;(!a.modal||y)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vC.displayName=yC;var PB="DropdownMenuGroup",VB=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,a=kn(n);return _.jsx(bB,{...a,...r,ref:e})});VB.displayName=PB;var LB="DropdownMenuLabel",_C=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,a=kn(n);return _.jsx(EB,{...a,...r,ref:e})});_C.displayName=LB;var jB="DropdownMenuItem",wC=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,a=kn(n);return _.jsx(TB,{...a,...r,ref:e})});wC.displayName=jB;var UB="DropdownMenuCheckboxItem",bC=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,a=kn(n);return _.jsx(SB,{...a,...r,ref:e})});bC.displayName=UB;var BB="DropdownMenuRadioGroup",zB=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,a=kn(n);return _.jsx(xB,{...a,...r,ref:e})});zB.displayName=BB;var FB="DropdownMenuRadioItem",EC=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,a=kn(n);return _.jsx(AB,{...a,...r,ref:e})});EC.displayName=FB;var HB="DropdownMenuItemIndicator",TC=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,a=kn(n);return _.jsx(CB,{...a,...r,ref:e})});TC.displayName=HB;var qB="DropdownMenuSeparator",SC=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,a=kn(n);return _.jsx(RB,{...a,...r,ref:e})});SC.displayName=qB;var GB="DropdownMenuArrow",$B=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,a=kn(n);return _.jsx(DB,{...a,...r,ref:e})});$B.displayName=GB;var WB="DropdownMenuSubTrigger",xC=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,a=kn(n);return _.jsx(NB,{...a,...r,ref:e})});xC.displayName=WB;var YB="DropdownMenuSubContent",AC=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,a=kn(n);return _.jsx(IB,{...a,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});AC.displayName=YB;var KB=hC,QB=pC,XB=gC,CC=vC,RC=_C,DC=wC,NC=bC,IC=EC,MC=TC,OC=SC,kC=xC,PC=AC;const cc=KB,uc=QB,ZB=b.forwardRef(({className:t,inset:e,children:n,...r},a)=>_.jsxs(kC,{ref:a,className:Be("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,_.jsx(aU,{className:"ml-auto h-4 w-4"})]}));ZB.displayName=kC.displayName;const JB=b.forwardRef(({className:t,...e},n)=>_.jsx(PC,{ref:n,className:Be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));JB.displayName=PC.displayName;const Co=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>_.jsx(XB,{children:_.jsx(CC,{ref:r,sideOffset:e,className:Be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Co.displayName=CC.displayName;const vo=b.forwardRef(({className:t,inset:e,...n},r)=>_.jsx(DC,{ref:r,className:Be("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));vo.displayName=DC.displayName;const e5=b.forwardRef(({className:t,children:e,checked:n,...r},a)=>_.jsxs(NC,{ref:a,className:Be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[_.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:_.jsx(MC,{children:_.jsx(i_,{className:"h-4 w-4"})})}),e]}));e5.displayName=NC.displayName;const t5=b.forwardRef(({className:t,children:e,...n},r)=>_.jsxs(IC,{ref:r,className:Be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[_.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:_.jsx(MC,{children:_.jsx(oU,{className:"h-2 w-2 fill-current"})})}),e]}));t5.displayName=IC.displayName;const n5=b.forwardRef(({className:t,inset:e,...n},r)=>_.jsx(RC,{ref:r,className:Be("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));n5.displayName=RC.displayName;const VC=b.forwardRef(({className:t,...e},n)=>_.jsx(OC,{ref:n,className:Be("-mx-1 my-1 h-px bg-muted",t),...e}));VC.displayName=OC.displayName;const mi=b.forwardRef(({className:t,type:e,...n},r)=>_.jsx("input",{type:e,className:Be("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));mi.displayName="Input";const R_=b.forwardRef(({className:t,...e},n)=>_.jsx("textarea",{className:Be("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));R_.displayName="Textarea";function iS(t,[e,n]){return Math.min(n,Math.max(e,t))}function LC(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var r5="VisuallyHidden",jC=b.forwardRef((t,e)=>_.jsx(qe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));jC.displayName=r5;var i5=[" ","Enter","ArrowUp","ArrowDown"],s5=[" ","Enter"],_d="Select",[Nm,Im,a5]=a_(_d),[dc,bq]=vi(_d,[a5,lc]),Mm=lc(),[o5,_a]=dc(_d),[l5,c5]=dc(_d),UC=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:a,onOpenChange:o,value:c,defaultValue:d,onValueChange:h,dir:p,name:y,autoComplete:v,disabled:E,required:x,form:A}=t,C=Mm(e),[R,O]=b.useState(null),[D,U]=b.useState(null),[H,W]=b.useState(!1),Z=o_(p),[k=!1,N]=go({prop:r,defaultProp:a,onChange:o}),[I,V]=go({prop:c,defaultProp:d,onChange:h}),z=b.useRef(null),B=R?A||!!R.closest("form"):!0,[L,ye]=b.useState(new Set),xe=Array.from(L).map(J=>J.props.value).join(";");return _.jsx(y_,{...C,children:_.jsxs(o5,{required:x,scope:e,trigger:R,onTriggerChange:O,valueNode:D,onValueNodeChange:U,valueNodeHasChildren:H,onValueNodeHasChildrenChange:W,contentId:oi(),value:I,onValueChange:V,open:k,onOpenChange:N,dir:Z,triggerPointerDownPosRef:z,disabled:E,children:[_.jsx(Nm.Provider,{scope:e,children:_.jsx(l5,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(J=>{ye(ce=>new Set(ce).add(J))},[]),onNativeOptionRemove:b.useCallback(J=>{ye(ce=>{const ie=new Set(ce);return ie.delete(J),ie})},[]),children:n})}),B?_.jsxs(oR,{"aria-hidden":!0,required:x,tabIndex:-1,name:y,autoComplete:v,value:I,onChange:J=>V(J.target.value),disabled:E,form:A,children:[I===void 0?_.jsx("option",{value:""}):null,Array.from(L)]},xe):null]})})};UC.displayName=_d;var BC="SelectTrigger",zC=b.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...a}=t,o=Mm(n),c=_a(BC,n),d=c.disabled||r,h=ut(e,c.onTriggerChange),p=Im(n),y=b.useRef("touch"),[v,E,x]=lR(C=>{const R=p().filter(U=>!U.disabled),O=R.find(U=>U.value===c.value),D=cR(R,C,O);D!==void 0&&c.onValueChange(D.value)}),A=C=>{d||(c.onOpenChange(!0),x()),C&&(c.triggerPointerDownPosRef.current={x:Math.round(C.pageX),y:Math.round(C.pageY)})};return _.jsx(Sm,{asChild:!0,...o,children:_.jsx(qe.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":aR(c.value)?"":void 0,...a,ref:h,onClick:we(a.onClick,C=>{C.currentTarget.focus(),y.current!=="mouse"&&A(C)}),onPointerDown:we(a.onPointerDown,C=>{y.current=C.pointerType;const R=C.target;R.hasPointerCapture(C.pointerId)&&R.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&C.pointerType==="mouse"&&(A(C),C.preventDefault())}),onKeyDown:we(a.onKeyDown,C=>{const R=v.current!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&E(C.key),!(R&&C.key===" ")&&i5.includes(C.key)&&(A(),C.preventDefault())})})})});zC.displayName=BC;var FC="SelectValue",HC=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:a,children:o,placeholder:c="",...d}=t,h=_a(FC,n),{onValueNodeHasChildrenChange:p}=h,y=o!==void 0,v=ut(e,h.onValueNodeChange);return vn(()=>{p(y)},[p,y]),_.jsx(qe.span,{...d,ref:v,style:{pointerEvents:"none"},children:aR(h.value)?_.jsx(_.Fragment,{children:c}):o})});HC.displayName=FC;var u5="SelectIcon",d5=b.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...a}=t;return _.jsx(qe.span,{"aria-hidden":!0,...a,ref:e,children:r||"▼"})});d5.displayName=u5;var f5="SelectPortal",qC=t=>_.jsx(pd,{asChild:!0,...t});qC.displayName=f5;var _o="SelectContent",GC=b.forwardRef((t,e)=>{const n=_a(_o,t.__scopeSelect),[r,a]=b.useState();if(vn(()=>{a(new DocumentFragment)},[]),!n.open){const o=r;return o?ed.createPortal(_.jsx($C,{scope:t.__scopeSelect,children:_.jsx(Nm.Slot,{scope:t.__scopeSelect,children:_.jsx("div",{children:t.children})})}),o):null}return _.jsx(WC,{...t,ref:e})});GC.displayName=_o;var xr=10,[$C,wa]=dc(_o),h5="SelectContentImpl",WC=b.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:c,side:d,sideOffset:h,align:p,alignOffset:y,arrowPadding:v,collisionBoundary:E,collisionPadding:x,sticky:A,hideWhenDetached:C,avoidCollisions:R,...O}=t,D=_a(_o,n),[U,H]=b.useState(null),[W,Z]=b.useState(null),k=ut(e,me=>H(me)),[N,I]=b.useState(null),[V,z]=b.useState(null),B=Im(n),[L,ye]=b.useState(!1),xe=b.useRef(!1);b.useEffect(()=>{if(U)return Am(U)},[U]),wm();const J=b.useCallback(me=>{const[_e,...De]=B().map(He=>He.ref.current),[Ee]=De.slice(-1),Oe=document.activeElement;for(const He of me)if(He===Oe||(He==null||He.scrollIntoView({block:"nearest"}),He===_e&&W&&(W.scrollTop=0),He===Ee&&W&&(W.scrollTop=W.scrollHeight),He==null||He.focus(),document.activeElement!==Oe))return},[B,W]),ce=b.useCallback(()=>J([N,U]),[J,N,U]);b.useEffect(()=>{L&&ce()},[L,ce]);const{onOpenChange:ie,triggerPointerDownPosRef:ae}=D;b.useEffect(()=>{if(U){let me={x:0,y:0};const _e=Ee=>{var Oe,He;me={x:Math.abs(Math.round(Ee.pageX)-(((Oe=ae.current)==null?void 0:Oe.x)??0)),y:Math.abs(Math.round(Ee.pageY)-(((He=ae.current)==null?void 0:He.y)??0))}},De=Ee=>{me.x<=10&&me.y<=10?Ee.preventDefault():U.contains(Ee.target)||ie(!1),document.removeEventListener("pointermove",_e),ae.current=null};return ae.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",De,{capture:!0})}}},[U,ie,ae]),b.useEffect(()=>{const me=()=>ie(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[ie]);const[F,ee]=lR(me=>{const _e=B().filter(Oe=>!Oe.disabled),De=_e.find(Oe=>Oe.ref.current===document.activeElement),Ee=cR(_e,me,De);Ee&&setTimeout(()=>Ee.ref.current.focus())}),he=b.useCallback((me,_e,De)=>{const Ee=!xe.current&&!De;(D.value!==void 0&&D.value===_e||Ee)&&(I(me),Ee&&(xe.current=!0))},[D.value]),fe=b.useCallback(()=>U==null?void 0:U.focus(),[U]),de=b.useCallback((me,_e,De)=>{const Ee=!xe.current&&!De;(D.value!==void 0&&D.value===_e||Ee)&&z(me)},[D.value]),Re=r==="popper"?Qy:YC,Te=Re===Qy?{side:d,sideOffset:h,align:p,alignOffset:y,arrowPadding:v,collisionBoundary:E,collisionPadding:x,sticky:A,hideWhenDetached:C,avoidCollisions:R}:{};return _.jsx($C,{scope:n,content:U,viewport:W,onViewportChange:Z,itemRefCallback:he,selectedItem:N,onItemLeave:fe,itemTextRefCallback:de,focusSelectedItem:ce,selectedItemText:V,position:r,isPositioned:L,searchRef:F,children:_.jsx(gd,{as:ss,allowPinchZoom:!0,children:_.jsx(hd,{asChild:!0,trapped:D.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:we(a,me=>{var _e;(_e=D.trigger)==null||_e.focus({preventScroll:!0}),me.preventDefault()}),children:_.jsx(fd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:_.jsx(Re,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:me=>me.preventDefault(),...O,...Te,onPlaced:()=>ye(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...O.style},onKeyDown:we(O.onKeyDown,me=>{const _e=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!_e&&me.key.length===1&&ee(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let Ee=B().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);if(["ArrowUp","End"].includes(me.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const Oe=me.target,He=Ee.indexOf(Oe);Ee=Ee.slice(He+1)}setTimeout(()=>J(Ee)),me.preventDefault()}})})})})})})});WC.displayName=h5;var m5="SelectItemAlignedPosition",YC=b.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...a}=t,o=_a(_o,n),c=wa(_o,n),[d,h]=b.useState(null),[p,y]=b.useState(null),v=ut(e,k=>y(k)),E=Im(n),x=b.useRef(!1),A=b.useRef(!0),{viewport:C,selectedItem:R,selectedItemText:O,focusSelectedItem:D}=c,U=b.useCallback(()=>{if(o.trigger&&o.valueNode&&d&&p&&C&&R&&O){const k=o.trigger.getBoundingClientRect(),N=p.getBoundingClientRect(),I=o.valueNode.getBoundingClientRect(),V=O.getBoundingClientRect();if(o.dir!=="rtl"){const Oe=V.left-N.left,He=I.left-Oe,ft=k.left-He,Vt=k.width+ft,_n=Math.max(Vt,N.width),un=window.innerWidth-xr,Pn=iS(He,[xr,Math.max(xr,un-_n)]);d.style.minWidth=Vt+"px",d.style.left=Pn+"px"}else{const Oe=N.right-V.right,He=window.innerWidth-I.right-Oe,ft=window.innerWidth-k.right-He,Vt=k.width+ft,_n=Math.max(Vt,N.width),un=window.innerWidth-xr,Pn=iS(He,[xr,Math.max(xr,un-_n)]);d.style.minWidth=Vt+"px",d.style.right=Pn+"px"}const z=E(),B=window.innerHeight-xr*2,L=C.scrollHeight,ye=window.getComputedStyle(p),xe=parseInt(ye.borderTopWidth,10),J=parseInt(ye.paddingTop,10),ce=parseInt(ye.borderBottomWidth,10),ie=parseInt(ye.paddingBottom,10),ae=xe+J+L+ie+ce,F=Math.min(R.offsetHeight*5,ae),ee=window.getComputedStyle(C),he=parseInt(ee.paddingTop,10),fe=parseInt(ee.paddingBottom,10),de=k.top+k.height/2-xr,Re=B-de,Te=R.offsetHeight/2,me=R.offsetTop+Te,_e=xe+J+me,De=ae-_e;if(_e<=de){const Oe=z.length>0&&R===z[z.length-1].ref.current;d.style.bottom="0px";const He=p.clientHeight-C.offsetTop-C.offsetHeight,ft=Math.max(Re,Te+(Oe?fe:0)+He+ce),Vt=_e+ft;d.style.height=Vt+"px"}else{const Oe=z.length>0&&R===z[0].ref.current;d.style.top="0px";const ft=Math.max(de,xe+C.offsetTop+(Oe?he:0)+Te)+De;d.style.height=ft+"px",C.scrollTop=_e-de+C.offsetTop}d.style.margin=`${xr}px 0`,d.style.minHeight=F+"px",d.style.maxHeight=B+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[E,o.trigger,o.valueNode,d,p,C,R,O,o.dir,r]);vn(()=>U(),[U]);const[H,W]=b.useState();vn(()=>{p&&W(window.getComputedStyle(p).zIndex)},[p]);const Z=b.useCallback(k=>{k&&A.current===!0&&(U(),D==null||D(),A.current=!1)},[U,D]);return _.jsx(g5,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:x,onScrollButtonChange:Z,children:_.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:H},children:_.jsx(qe.div,{...a,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});YC.displayName=m5;var p5="SelectPopperPosition",Qy=b.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=xr,...o}=t,c=Mm(n);return _.jsx(v_,{...c,...o,ref:e,align:r,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Qy.displayName=p5;var[g5,D_]=dc(_o,{}),Xy="SelectViewport",KC=b.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...a}=t,o=wa(Xy,n),c=D_(Xy,n),d=ut(e,o.onViewportChange),h=b.useRef(0);return _.jsxs(_.Fragment,{children:[_.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),_.jsx(Nm.Slot,{scope:n,children:_.jsx(qe.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:we(a.onScroll,p=>{const y=p.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:E}=c;if(E!=null&&E.current&&v){const x=Math.abs(h.current-y.scrollTop);if(x>0){const A=window.innerHeight-xr*2,C=parseFloat(v.style.minHeight),R=parseFloat(v.style.height),O=Math.max(C,R);if(O<A){const D=O+x,U=Math.min(A,D),H=D-U;v.style.height=U+"px",v.style.bottom==="0px"&&(y.scrollTop=H>0?H:0,v.style.justifyContent="flex-end")}}}h.current=y.scrollTop})})})]})});KC.displayName=Xy;var QC="SelectGroup",[y5,v5]=dc(QC),_5=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,a=oi();return _.jsx(y5,{scope:n,id:a,children:_.jsx(qe.div,{role:"group","aria-labelledby":a,...r,ref:e})})});_5.displayName=QC;var XC="SelectLabel",ZC=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,a=v5(XC,n);return _.jsx(qe.div,{id:a.id,...r,ref:e})});ZC.displayName=XC;var Hh="SelectItem",[w5,JC]=dc(Hh),eR=b.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:o,...c}=t,d=_a(Hh,n),h=wa(Hh,n),p=d.value===r,[y,v]=b.useState(o??""),[E,x]=b.useState(!1),A=ut(e,D=>{var U;return(U=h.itemRefCallback)==null?void 0:U.call(h,D,r,a)}),C=oi(),R=b.useRef("touch"),O=()=>{a||(d.onValueChange(r),d.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return _.jsx(w5,{scope:n,value:r,disabled:a,textId:C,isSelected:p,onItemTextChange:b.useCallback(D=>{v(U=>U||((D==null?void 0:D.textContent)??"").trim())},[]),children:_.jsx(Nm.ItemSlot,{scope:n,value:r,disabled:a,textValue:y,children:_.jsx(qe.div,{role:"option","aria-labelledby":C,"data-highlighted":E?"":void 0,"aria-selected":p&&E,"data-state":p?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...c,ref:A,onFocus:we(c.onFocus,()=>x(!0)),onBlur:we(c.onBlur,()=>x(!1)),onClick:we(c.onClick,()=>{R.current!=="mouse"&&O()}),onPointerUp:we(c.onPointerUp,()=>{R.current==="mouse"&&O()}),onPointerDown:we(c.onPointerDown,D=>{R.current=D.pointerType}),onPointerMove:we(c.onPointerMove,D=>{var U;R.current=D.pointerType,a?(U=h.onItemLeave)==null||U.call(h):R.current==="mouse"&&D.currentTarget.focus({preventScroll:!0})}),onPointerLeave:we(c.onPointerLeave,D=>{var U;D.currentTarget===document.activeElement&&((U=h.onItemLeave)==null||U.call(h))}),onKeyDown:we(c.onKeyDown,D=>{var H;((H=h.searchRef)==null?void 0:H.current)!==""&&D.key===" "||(s5.includes(D.key)&&O(),D.key===" "&&D.preventDefault())})})})})});eR.displayName=Hh;var xu="SelectItemText",tR=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:a,...o}=t,c=_a(xu,n),d=wa(xu,n),h=JC(xu,n),p=c5(xu,n),[y,v]=b.useState(null),E=ut(e,O=>v(O),h.onItemTextChange,O=>{var D;return(D=d.itemTextRefCallback)==null?void 0:D.call(d,O,h.value,h.disabled)}),x=y==null?void 0:y.textContent,A=b.useMemo(()=>_.jsx("option",{value:h.value,disabled:h.disabled,children:x},h.value),[h.disabled,h.value,x]),{onNativeOptionAdd:C,onNativeOptionRemove:R}=p;return vn(()=>(C(A),()=>R(A)),[C,R,A]),_.jsxs(_.Fragment,{children:[_.jsx(qe.span,{id:h.textId,...o,ref:E}),h.isSelected&&c.valueNode&&!c.valueNodeHasChildren?ed.createPortal(o.children,c.valueNode):null]})});tR.displayName=xu;var nR="SelectItemIndicator",rR=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return JC(nR,n).isSelected?_.jsx(qe.span,{"aria-hidden":!0,...r,ref:e}):null});rR.displayName=nR;var Zy="SelectScrollUpButton",b5=b.forwardRef((t,e)=>{const n=wa(Zy,t.__scopeSelect),r=D_(Zy,t.__scopeSelect),[a,o]=b.useState(!1),c=ut(e,r.onScrollButtonChange);return vn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=h.scrollTop>0;o(p)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),a?_.jsx(iR,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop-h.offsetHeight)}}):null});b5.displayName=Zy;var Jy="SelectScrollDownButton",E5=b.forwardRef((t,e)=>{const n=wa(Jy,t.__scopeSelect),r=D_(Jy,t.__scopeSelect),[a,o]=b.useState(!1),c=ut(e,r.onScrollButtonChange);return vn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=h.scrollHeight-h.clientHeight,y=Math.ceil(h.scrollTop)<p;o(y)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),a?_.jsx(iR,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop+h.offsetHeight)}}):null});E5.displayName=Jy;var iR=b.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=t,o=wa("SelectScrollButton",n),c=b.useRef(null),d=Im(n),h=b.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return b.useEffect(()=>()=>h(),[h]),vn(()=>{var y;const p=d().find(v=>v.ref.current===document.activeElement);(y=p==null?void 0:p.ref.current)==null||y.scrollIntoView({block:"nearest"})},[d]),_.jsx(qe.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:we(a.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:we(a.onPointerMove,()=>{var p;(p=o.onItemLeave)==null||p.call(o),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:we(a.onPointerLeave,()=>{h()})})}),T5="SelectSeparator",sR=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return _.jsx(qe.div,{"aria-hidden":!0,...r,ref:e})});sR.displayName=T5;var ev="SelectArrow",S5=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,a=Mm(n),o=_a(ev,n),c=wa(ev,n);return o.open&&c.position==="popper"?_.jsx(__,{...a,...r,ref:e}):null});S5.displayName=ev;function aR(t){return t===""||t===void 0}var oR=b.forwardRef((t,e)=>{const{value:n,...r}=t,a=b.useRef(null),o=ut(e,a),c=LC(n);return b.useEffect(()=>{const d=a.current,h=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==n&&y){const v=new Event("change",{bubbles:!0});y.call(d,n),d.dispatchEvent(v)}},[c,n]),_.jsx(jC,{asChild:!0,children:_.jsx("select",{...r,ref:o,defaultValue:n})})});oR.displayName="BubbleSelect";function lR(t){const e=er(t),n=b.useRef(""),r=b.useRef(0),a=b.useCallback(c=>{const d=n.current+c;e(d),function h(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>h(""),1e3))}(d)},[e]),o=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,o]}function cR(t,e,n){const a=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let c=x5(t,Math.max(o,0));a.length===1&&(c=c.filter(p=>p!==n));const h=c.find(p=>p.textValue.toLowerCase().startsWith(a.toLowerCase()));return h!==n?h:void 0}function x5(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var A5=UC,uR=zC,C5=HC,R5=qC,dR=GC,D5=KC,fR=ZC,hR=eR,N5=tR,I5=rR,mR=sR;const N_=A5,I_=C5,Om=b.forwardRef(({className:t,children:e,...n},r)=>_.jsxs(uR,{ref:r,className:Be("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:[e,_.jsx(iU,{className:"h-4 w-4 opacity-50"})]}));Om.displayName=uR.displayName;const km=b.forwardRef(({className:t,children:e,position:n="popper",...r},a)=>_.jsx(R5,{children:_.jsx(dR,{ref:a,className:Be("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:_.jsx(D5,{className:Be("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e})})}));km.displayName=dR.displayName;const M5=b.forwardRef(({className:t,...e},n)=>_.jsx(fR,{ref:n,className:Be("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));M5.displayName=fR.displayName;const oo=b.forwardRef(({className:t,children:e,...n},r)=>_.jsxs(hR,{ref:r,className:Be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[_.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:_.jsx(I5,{children:_.jsx(i_,{className:"h-4 w-4"})})}),_.jsx(N5,{children:e})]}));oo.displayName=hR.displayName;const O5=b.forwardRef(({className:t,...e},n)=>_.jsx(mR,{ref:n,className:Be("-mx-1 my-1 h-px bg-muted",t),...e}));O5.displayName=mR.displayName;const k5=[{value:"low",label:"Baixa"},{value:"medium",label:"Média"},{value:"high",label:"Alta"}];function M_({value:t,onChange:e}){return _.jsxs(N_,{value:t,onValueChange:e,children:[_.jsx(Om,{children:_.jsx(I_,{placeholder:"Selecione a prioridade"})}),_.jsx(km,{children:k5.map(n=>_.jsxs(oo,{value:n.value,className:"flex items-center gap-2",children:[_.jsx("div",{className:`w-2 h-2 rounded-full ${P5(n.value)}`}),n.label]},n.value))})]})}function P5(t){switch(t){case"high":return"bg-red-500";case"medium":return"bg-yellow-500";case"low":return"bg-green-500";default:return"bg-gray-500"}}const V5=b.createContext(void 0);function wi(){const t=b.useContext(V5);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}var O_="Dialog",[pR,Eq]=vi(O_),[L5,kr]=pR(O_),gR=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:c=!0}=t,d=b.useRef(null),h=b.useRef(null),[p=!1,y]=go({prop:r,defaultProp:a,onChange:o});return _.jsx(L5,{scope:e,triggerRef:d,contentRef:h,contentId:oi(),titleId:oi(),descriptionId:oi(),open:p,onOpenChange:y,onOpenToggle:b.useCallback(()=>y(v=>!v),[y]),modal:c,children:n})};gR.displayName=O_;var yR="DialogTrigger",vR=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,a=kr(yR,n),o=ut(e,a.triggerRef);return _.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":V_(a.open),...r,ref:o,onClick:we(t.onClick,a.onOpenToggle)})});vR.displayName=yR;var k_="DialogPortal",[j5,_R]=pR(k_,{forceMount:void 0}),wR=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:a}=t,o=kr(k_,e);return _.jsx(j5,{scope:e,forceMount:n,children:b.Children.map(r,c=>_.jsx(Or,{present:n||o.open,children:_.jsx(pd,{asChild:!0,container:a,children:c})}))})};wR.displayName=k_;var qh="DialogOverlay",bR=b.forwardRef((t,e)=>{const n=_R(qh,t.__scopeDialog),{forceMount:r=n.forceMount,...a}=t,o=kr(qh,t.__scopeDialog);return o.modal?_.jsx(Or,{present:r||o.open,children:_.jsx(U5,{...a,ref:e})}):null});bR.displayName=qh;var U5=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,a=kr(qh,n);return _.jsx(gd,{as:ss,allowPinchZoom:!0,shards:[a.contentRef],children:_.jsx(qe.div,{"data-state":V_(a.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),wo="DialogContent",ER=b.forwardRef((t,e)=>{const n=_R(wo,t.__scopeDialog),{forceMount:r=n.forceMount,...a}=t,o=kr(wo,t.__scopeDialog);return _.jsx(Or,{present:r||o.open,children:o.modal?_.jsx(B5,{...a,ref:e}):_.jsx(z5,{...a,ref:e})})});ER.displayName=wo;var B5=b.forwardRef((t,e)=>{const n=kr(wo,t.__scopeDialog),r=b.useRef(null),a=ut(e,n.contentRef,r);return b.useEffect(()=>{const o=r.current;if(o)return Am(o)},[]),_.jsx(TR,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(t.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:we(t.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&o.preventDefault()}),onFocusOutside:we(t.onFocusOutside,o=>o.preventDefault())})}),z5=b.forwardRef((t,e)=>{const n=kr(wo,t.__scopeDialog),r=b.useRef(!1),a=b.useRef(!1);return _.jsx(TR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=t.onCloseAutoFocus)==null||c.call(t,o),o.defaultPrevented||(r.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{var h,p;(h=t.onInteractOutside)==null||h.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=o.target;((p=n.triggerRef.current)==null?void 0:p.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),TR=b.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,...c}=t,d=kr(wo,n),h=b.useRef(null),p=ut(e,h);return wm(),_.jsxs(_.Fragment,{children:[_.jsx(hd,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:_.jsx(fd,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":V_(d.open),...c,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),_.jsxs(_.Fragment,{children:[_.jsx(F5,{titleId:d.titleId}),_.jsx(q5,{contentRef:h,descriptionId:d.descriptionId})]})]})}),P_="DialogTitle",SR=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,a=kr(P_,n);return _.jsx(qe.h2,{id:a.titleId,...r,ref:e})});SR.displayName=P_;var xR="DialogDescription",AR=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,a=kr(xR,n);return _.jsx(qe.p,{id:a.descriptionId,...r,ref:e})});AR.displayName=xR;var CR="DialogClose",RR=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,a=kr(CR,n);return _.jsx(qe.button,{type:"button",...r,ref:e,onClick:we(t.onClick,()=>a.onOpenChange(!1))})});RR.displayName=CR;function V_(t){return t?"open":"closed"}var DR="DialogTitleWarning",[Tq,NR]=yU(DR,{contentName:wo,titleName:P_,docsSlug:"dialog"}),F5=({titleId:t})=>{const e=NR(DR),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},H5="DialogDescriptionWarning",q5=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${NR(H5).contentName}}.`;return b.useEffect(()=>{var o;const a=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},G5=gR,$5=vR,W5=wR,IR=bR,MR=ER,OR=SR,kR=AR,Y5=RR;const Mu=G5,Ou=$5,K5=W5,PR=b.forwardRef(({className:t,...e},n)=>_.jsx(IR,{ref:n,className:Be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));PR.displayName=IR.displayName;const Ol=b.forwardRef(({className:t,children:e,...n},r)=>_.jsxs(K5,{children:[_.jsx(PR,{}),_.jsxs(MR,{ref:r,className:Be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,_.jsxs(Y5,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[_.jsx(_m,{className:"h-4 w-4"}),_.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ol.displayName=MR.displayName;const kl=({className:t,...e})=>_.jsx("div",{className:Be("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});kl.displayName="DialogHeader";const Pl=b.forwardRef(({className:t,...e},n)=>_.jsx(OR,{ref:n,className:Be("text-lg font-semibold leading-none tracking-tight",t),...e}));Pl.displayName=OR.displayName;const Q5=b.forwardRef(({className:t,...e},n)=>_.jsx(kR,{ref:n,className:Be("text-sm text-muted-foreground",t),...e}));Q5.displayName=kR.displayName;function X5({onUseTemplate:t}){const[e,n]=b.useState([]),[r,a]=b.useState(!1),[o,c]=b.useState({title:"",description:"",priority:"medium"}),{user:d}=wi();b.useEffect(()=>{if(!d)return;const p=ga(On(Tt,"taskTemplates"),ya("userId","==",d.uid)),y=va(p,v=>{const E=[];v.forEach(x=>{const A=x.data();E.push({id:x.id,title:A.title,description:A.description,priority:A.priority,userId:A.userId,createdAt:A.createdAt.toDate()})}),n(E)});return()=>y()},[d]);const h=async()=>{var p;if(!(!d||!o.title.trim()))try{await po(On(Tt,"taskTemplates"),{title:o.title.trim(),description:(p=o.description)==null?void 0:p.trim(),priority:o.priority,userId:d.uid,createdAt:Qe.now()}),c({title:"",description:"",priority:"medium"}),a(!1)}catch(y){console.error("Error creating template:",y)}};return _.jsxs(Mu,{open:r,onOpenChange:a,children:[_.jsx(Ou,{asChild:!0,children:_.jsx(pt,{variant:"outline",className:"fixed bottom-4 right-4",onClick:()=>a(!0),children:_.jsx(nA,{className:"h-4 w-4"})})}),_.jsxs(Ol,{className:"sm:max-w-[600px]",children:[_.jsx(kl,{children:_.jsx(Pl,{children:"Templates de Tarefas"})}),_.jsxs("div",{className:"space-y-4 pt-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("h3",{className:"font-medium",children:"Criar Novo Template"}),_.jsx(mi,{placeholder:"Título do template",value:o.title,onChange:p=>c(y=>({...y,title:p.target.value}))}),_.jsx(R_,{placeholder:"Descrição (opcional)",value:o.description,onChange:p=>c(y=>({...y,description:p.target.value}))}),_.jsx(M_,{value:o.priority,onChange:p=>c(y=>({...y,priority:p}))}),_.jsx(pt,{onClick:h,disabled:!o.title.trim(),className:"w-full",children:"Criar Template"})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("h3",{className:"font-medium",children:"Templates Salvos"}),e.map(p=>_.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-secondary/50",children:[_.jsxs("div",{children:[_.jsx("p",{className:"font-medium",children:p.title}),p.description&&_.jsx("p",{className:"text-sm text-muted-foreground",children:p.description})]}),_.jsx(pt,{variant:"outline",size:"sm",onClick:()=>{t(p),a(!1)},children:"Usar"})]},p.id))]})]})]})]})}var L_="Avatar",[Z5,Sq]=vi(L_),[J5,VR]=Z5(L_),LR=b.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[a,o]=b.useState("idle");return _.jsx(J5,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:o,children:_.jsx(qe.span,{...r,ref:e})})});LR.displayName=L_;var jR="AvatarImage",UR=b.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:a=()=>{},...o}=t,c=VR(jR,n),d=ez(r,o.referrerPolicy),h=er(p=>{a(p),c.onImageLoadingStatusChange(p)});return vn(()=>{d!=="idle"&&h(d)},[d,h]),d==="loaded"?_.jsx(qe.img,{...o,ref:e,src:r}):null});UR.displayName=jR;var BR="AvatarFallback",zR=b.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...a}=t,o=VR(BR,n),[c,d]=b.useState(r===void 0);return b.useEffect(()=>{if(r!==void 0){const h=window.setTimeout(()=>d(!0),r);return()=>window.clearTimeout(h)}},[r]),c&&o.imageLoadingStatus!=="loaded"?_.jsx(qe.span,{...a,ref:e}):null});zR.displayName=BR;function ez(t,e){const[n,r]=b.useState("idle");return vn(()=>{if(!t){r("error");return}let a=!0;const o=new window.Image,c=d=>()=>{a&&r(d)};return r("loading"),o.onload=c("loaded"),o.onerror=c("error"),o.src=t,e&&(o.referrerPolicy=e),()=>{a=!1}},[t,e]),n}var FR=LR,HR=UR,qR=zR;const GR=b.forwardRef(({className:t,...e},n)=>_.jsx(FR,{ref:n,className:Be("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));GR.displayName=FR.displayName;const $R=b.forwardRef(({className:t,...e},n)=>_.jsx(HR,{ref:n,className:Be("aspect-square h-full w-full",t),...e}));$R.displayName=HR.displayName;const WR=b.forwardRef(({className:t,...e},n)=>_.jsx(qR,{ref:n,className:Be("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));WR.displayName=qR.displayName;function j_({user:t,showUploadButton:e=!1,onUpload:n}){const r=t.email?t.email.substring(0,2).toUpperCase():"??";return _.jsxs("div",{className:"relative",children:[_.jsxs(GR,{children:[_.jsx($R,{src:t.photoURL||void 0,alt:t.email||"User"}),_.jsx(WR,{children:r})]}),e&&_.jsx(pt,{variant:"outline",size:"icon",className:"absolute -bottom-2 -right-2 h-6 w-6 rounded-full",onClick:n,children:_.jsx(gU,{className:"h-3 w-3"})})]})}function tz(){const{user:t,signInWithGoogle:e,signOut:n}=wi(),r=async o=>{o.preventDefault();try{await e()}catch(c){console.error("Error signing in:",c)}},a=async o=>{o.preventDefault();try{await n()}catch(c){console.error("Error signing out:",c)}};return t?_.jsxs(cc,{children:[_.jsx(uc,{asChild:!0,children:_.jsx(pt,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:_.jsx(j_,{user:t,showUploadButton:!1})})}),_.jsx(Co,{align:"end",children:_.jsxs(vo,{onClick:a,className:"text-red-500 focus:text-red-500",children:[_.jsx(sA,{className:"mr-2 h-4 w-4"}),"Sair"]})})]}):_.jsxs(pt,{variant:"outline",onClick:r,children:[_.jsx(cU,{className:"mr-2 h-4 w-4"}),"Entrar com Google"]})}function nz(){const{user:t}=wi(),[e,n]=b.useState(!1),r=()=>{console.log("Usando template...")};return _.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:_.jsxs("div",{className:"container flex h-14 items-center",children:[_.jsxs("div",{className:"mr-4 hidden md:flex",children:[_.jsx("a",{className:"mr-6 flex items-center space-x-2",href:"/",children:_.jsx("span",{className:"hidden font-bold sm:inline-block",children:"TodoComplete"})}),_.jsxs("nav",{className:"flex items-center space-x-6 text-sm font-medium",children:[_.jsx("a",{className:"transition-colors hover:text-foreground/80 text-foreground/60",href:"/docs",children:"Documentação"}),_.jsx("a",{className:"transition-colors hover:text-foreground/80 text-foreground/60",href:"/about",children:"Sobre"})]})]}),_.jsxs("div",{className:"flex flex-1 items-center justify-between space-x-2 md:justify-end",children:[_.jsx("div",{className:"w-full flex-1 md:w-auto md:flex-none",children:t&&_.jsxs(cc,{open:e,onOpenChange:n,children:[_.jsx(uc,{asChild:!0,children:_.jsx(pt,{variant:"outline",size:"icon",children:_.jsx(nA,{className:"h-4 w-4"})})}),_.jsx(Co,{align:"end",className:"w-[300px]",children:_.jsx(X5,{onUseTemplate:r})})]})}),_.jsx("nav",{className:"flex items-center",children:t?_.jsx(j_,{user:t}):_.jsx(tz,{})})]})]})})}const YR=6048e5,rz=864e5,sS=Symbol.for("constructDateFrom");function cn(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&sS in t?t[sS](e):t instanceof Date?new t.constructor(e):new Date(e)}function wt(t,e){return cn(e||t,t)}function KR(t,e,n){const r=wt(t,n==null?void 0:n.in);return isNaN(e)?cn(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function QR(t,e,n){const r=wt(t,n==null?void 0:n.in);if(isNaN(e))return cn(t,NaN);if(!e)return r;const a=r.getDate(),o=cn(t,r.getTime());o.setMonth(r.getMonth()+e+1,0);const c=o.getDate();return a>=c?o:(r.setFullYear(o.getFullYear(),o.getMonth(),a),r)}let iz={};function wd(){return iz}function Yl(t,e){var d,h,p,y;const n=wd(),r=(e==null?void 0:e.weekStartsOn)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((y=(p=n.locale)==null?void 0:p.options)==null?void 0:y.weekStartsOn)??0,a=wt(t,e==null?void 0:e.in),o=a.getDay(),c=(o<r?7:0)+o-r;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function Ku(t,e){return Yl(t,{...e,weekStartsOn:1})}function XR(t,e){const n=wt(t,e==null?void 0:e.in),r=n.getFullYear(),a=cn(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const o=Ku(a),c=cn(n,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const d=Ku(c);return n.getTime()>=o.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function aS(t){const e=wt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function bd(t,...e){const n=cn.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Qu(t,e){const n=wt(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function ZR(t,e,n){const[r,a]=bd(n==null?void 0:n.in,t,e),o=Qu(r),c=Qu(a),d=+o-aS(o),h=+c-aS(c);return Math.round((d-h)/rz)}function sz(t,e){const n=XR(t,e),r=cn(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Ku(r)}function az(t,e,n){return KR(t,e*7,n)}function oz(t,e,n){return QR(t,e*12,n)}function lz(t,e){let n,r=e==null?void 0:e.in;return t.forEach(a=>{!r&&typeof a=="object"&&(r=cn.bind(null,a));const o=wt(a,r);(!n||n<o||isNaN(+o))&&(n=o)}),cn(r,n||NaN)}function cz(t,e){let n,r=e==null?void 0:e.in;return t.forEach(a=>{!r&&typeof a=="object"&&(r=cn.bind(null,a));const o=wt(a,r);(!n||n>o||isNaN(+o))&&(n=o)}),cn(r,n||NaN)}function uz(t,e,n){const[r,a]=bd(n==null?void 0:n.in,t,e);return+Qu(r)==+Qu(a)}function JR(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function dz(t){return!(!JR(t)&&typeof t!="number"||isNaN(+wt(t)))}function fz(t,e,n){const[r,a]=bd(n==null?void 0:n.in,t,e),o=r.getFullYear()-a.getFullYear(),c=r.getMonth()-a.getMonth();return o*12+c}function hz(t,e){const n=wt(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function mz(t,e){const n=wt(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function pz(t,e){const n=wt(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function eD(t,e){const n=wt(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function tD(t,e){var d,h,p,y;const n=wd(),r=(e==null?void 0:e.weekStartsOn)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((y=(p=n.locale)==null?void 0:p.options)==null?void 0:y.weekStartsOn)??0,a=wt(t,e==null?void 0:e.in),o=a.getDay(),c=(o<r?-7:0)+6-(o-r);return a.setDate(a.getDate()+c),a.setHours(23,59,59,999),a}function gz(t,e){return tD(t,{...e,weekStartsOn:1})}const yz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vz=(t,e,n)=>{let r;const a=yz[t];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Vl(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const _z={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},wz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},bz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ez={date:Vl({formats:_z,defaultWidth:"full"}),time:Vl({formats:wz,defaultWidth:"full"}),dateTime:Vl({formats:bz,defaultWidth:"full"})},Tz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Sz=(t,e,n,r)=>Tz[t];function Zr(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,d=n!=null&&n.width?String(n.width):c;a=t.formattingValues[d]||t.formattingValues[c]}else{const c=t.defaultWidth,d=n!=null&&n.width?String(n.width):t.defaultWidth;a=t.values[d]||t.values[c]}const o=t.argumentCallback?t.argumentCallback(e):e;return a[o]}}const xz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Az={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Cz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Rz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Dz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Nz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Iz=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Mz={ordinalNumber:Iz,era:Zr({values:xz,defaultWidth:"wide"}),quarter:Zr({values:Az,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Zr({values:Cz,defaultWidth:"wide"}),day:Zr({values:Rz,defaultWidth:"wide"}),dayPeriod:Zr({values:Dz,defaultWidth:"wide",formattingValues:Nz,defaultFormattingWidth:"wide"})};function Jr(t){return(e,n={})=>{const r=n.width,a=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(a);if(!o)return null;const c=o[0],d=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(d)?kz(d,v=>v.test(c)):Oz(d,v=>v.test(c));let p;p=t.valueCallback?t.valueCallback(h):h,p=n.valueCallback?n.valueCallback(p):p;const y=e.slice(c.length);return{value:p,rest:y}}}function Oz(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function kz(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function nD(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const a=r[0],o=e.match(t.parsePattern);if(!o)return null;let c=t.valueCallback?t.valueCallback(o[0]):o[0];c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(a.length);return{value:c,rest:d}}}const Pz=/^(\d+)(th|st|nd|rd)?/i,Vz=/\d+/i,Lz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jz={any:[/^b/i,/^(a|c)/i]},Uz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Bz={any:[/1/i,/2/i,/3/i,/4/i]},zz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Fz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Hz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Gz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$z={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Wz={ordinalNumber:nD({matchPattern:Pz,parsePattern:Vz,valueCallback:t=>parseInt(t,10)}),era:Jr({matchPatterns:Lz,defaultMatchWidth:"wide",parsePatterns:jz,defaultParseWidth:"any"}),quarter:Jr({matchPatterns:Uz,defaultMatchWidth:"wide",parsePatterns:Bz,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Jr({matchPatterns:zz,defaultMatchWidth:"wide",parsePatterns:Fz,defaultParseWidth:"any"}),day:Jr({matchPatterns:Hz,defaultMatchWidth:"wide",parsePatterns:qz,defaultParseWidth:"any"}),dayPeriod:Jr({matchPatterns:Gz,defaultMatchWidth:"any",parsePatterns:$z,defaultParseWidth:"any"})},Pm={code:"en-US",formatDistance:vz,formatLong:Ez,formatRelative:Sz,localize:Mz,match:Wz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Yz(t,e){const n=wt(t,e==null?void 0:e.in);return ZR(n,eD(n))+1}function rD(t,e){const n=wt(t,e==null?void 0:e.in),r=+Ku(n)-+sz(n);return Math.round(r/YR)+1}function iD(t,e){var y,v,E,x;const n=wt(t,e==null?void 0:e.in),r=n.getFullYear(),a=wd(),o=(e==null?void 0:e.firstWeekContainsDate)??((v=(y=e==null?void 0:e.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??a.firstWeekContainsDate??((x=(E=a.locale)==null?void 0:E.options)==null?void 0:x.firstWeekContainsDate)??1,c=cn((e==null?void 0:e.in)||t,0);c.setFullYear(r+1,0,o),c.setHours(0,0,0,0);const d=Yl(c,e),h=cn((e==null?void 0:e.in)||t,0);h.setFullYear(r,0,o),h.setHours(0,0,0,0);const p=Yl(h,e);return+n>=+d?r+1:+n>=+p?r:r-1}function Kz(t,e){var d,h,p,y;const n=wd(),r=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(p=n.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??1,a=iD(t,e),o=cn((e==null?void 0:e.in)||t,0);return o.setFullYear(a,0,r),o.setHours(0,0,0,0),Yl(o,e)}function sD(t,e){const n=wt(t,e==null?void 0:e.in),r=+Yl(n,e)-+Kz(n,e);return Math.round(r/YR)+1}function dt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const $s={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return dt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):dt(n+1,2)},d(t,e){return dt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return dt(t.getHours()%12||12,e.length)},H(t,e){return dt(t.getHours(),e.length)},m(t,e){return dt(t.getMinutes(),e.length)},s(t,e){return dt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return dt(a,e.length)}},bl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},oS={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return $s.y(t,e)},Y:function(t,e,n,r){const a=iD(t,r),o=a>0?a:1-a;if(e==="YY"){const c=o%100;return dt(c,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):dt(o,e.length)},R:function(t,e){const n=XR(t);return dt(n,e.length)},u:function(t,e){const n=t.getFullYear();return dt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return dt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return dt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return $s.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return dt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const a=sD(t,r);return e==="wo"?n.ordinalNumber(a,{unit:"week"}):dt(a,e.length)},I:function(t,e,n){const r=rD(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):dt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):$s.d(t,e)},D:function(t,e,n){const r=Yz(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):dt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const a=t.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return dt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const a=t.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return dt(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return dt(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let a;switch(r===12?a=bl.noon:r===0?a=bl.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let a;switch(r>=17?a=bl.evening:r>=12?a=bl.afternoon:r>=4?a=bl.morning:a=bl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return $s.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):$s.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):dt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):dt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):$s.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):$s.s(t,e)},S:function(t,e){return $s.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return cS(r);case"XXXX":case"XX":return to(r);case"XXXXX":case"XXX":default:return to(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return cS(r);case"xxxx":case"xx":return to(r);case"xxxxx":case"xxx":default:return to(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+lS(r,":");case"OOOO":default:return"GMT"+to(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+lS(r,":");case"zzzz":default:return"GMT"+to(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return dt(r,e.length)},T:function(t,e,n){return dt(+t,e.length)}};function lS(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),a=Math.trunc(r/60),o=r%60;return o===0?n+String(a):n+String(a)+e+dt(o,2)}function cS(t,e){return t%60===0?(t>0?"-":"+")+dt(Math.abs(t)/60,2):to(t,e)}function to(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),a=dt(Math.trunc(r/60),2),o=dt(r%60,2);return n+a+e+o}const uS=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},aD=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Qz=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return uS(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",uS(r,e)).replace("{{time}}",aD(a,e))},Xz={p:aD,P:Qz},Zz=/^D+$/,Jz=/^Y+$/,e3=["D","DD","YY","YYYY"];function t3(t){return Zz.test(t)}function n3(t){return Jz.test(t)}function r3(t,e,n){const r=i3(t,e,n);if(console.warn(r),e3.includes(t))throw new RangeError(r)}function i3(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const s3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,a3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,o3=/^'([^]*?)'?$/,l3=/''/g,c3=/[a-zA-Z]/;function U_(t,e,n){var y,v,E,x,A,C,R,O;const r=wd(),a=(n==null?void 0:n.locale)??r.locale??Pm,o=(n==null?void 0:n.firstWeekContainsDate)??((v=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??r.firstWeekContainsDate??((x=(E=r.locale)==null?void 0:E.options)==null?void 0:x.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((C=(A=n==null?void 0:n.locale)==null?void 0:A.options)==null?void 0:C.weekStartsOn)??r.weekStartsOn??((O=(R=r.locale)==null?void 0:R.options)==null?void 0:O.weekStartsOn)??0,d=wt(t,n==null?void 0:n.in);if(!dz(d))throw new RangeError("Invalid time value");let h=e.match(a3).map(D=>{const U=D[0];if(U==="p"||U==="P"){const H=Xz[U];return H(D,a.formatLong)}return D}).join("").match(s3).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const U=D[0];if(U==="'")return{isToken:!1,value:u3(D)};if(oS[U])return{isToken:!0,value:D};if(U.match(c3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+U+"`");return{isToken:!1,value:D}});a.localize.preprocessor&&(h=a.localize.preprocessor(d,h));const p={firstWeekContainsDate:o,weekStartsOn:c,locale:a};return h.map(D=>{if(!D.isToken)return D.value;const U=D.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&n3(U)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&t3(U))&&r3(U,e,String(t));const H=oS[U[0]];return H(d,U,a.localize,p)}).join("")}function u3(t){const e=t.match(o3);return e?e[1].replace(l3,"'"):t}function d3(t,e){const n=wt(t,e==null?void 0:e.in),r=n.getFullYear(),a=n.getMonth(),o=cn(n,0);return o.setFullYear(r,a+1,0),o.setHours(0,0,0,0),o.getDate()}function f3(t,e){return+wt(t)>+wt(e)}function h3(t,e){return+wt(t)<+wt(e)}function m3(t,e,n){const[r,a]=bd(n==null?void 0:n.in,t,e);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function p3(t,e,n){const[r,a]=bd(n==null?void 0:n.in,t,e);return r.getFullYear()===a.getFullYear()}function g3(t,e,n){const r=wt(t,n==null?void 0:n.in),a=r.getFullYear(),o=r.getDate(),c=cn(t,0);c.setFullYear(a,e,15),c.setHours(0,0,0,0);const d=d3(c);return r.setMonth(e,Math.min(o,d)),r}function y3(t,e,n){const r=wt(t,n==null?void 0:n.in);return isNaN(+r)?cn(t,NaN):(r.setFullYear(e),r)}const v3={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},_3=(t,e,n)=>{let r;const a=v3[t];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+r:"há "+r:r},w3={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},b3={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},E3={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},T3={date:Vl({formats:w3,defaultWidth:"full"}),time:Vl({formats:b3,defaultWidth:"full"}),dateTime:Vl({formats:E3,defaultWidth:"full"})},S3={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},x3=(t,e,n,r)=>{const a=S3[t];return typeof a=="function"?a(e):a},A3={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},C3={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},R3={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},D3={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},N3={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},I3={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},M3=(t,e)=>{const n=Number(t);return(e==null?void 0:e.unit)==="week"?n+"ª":n+"º"},O3={ordinalNumber:M3,era:Zr({values:A3,defaultWidth:"wide"}),quarter:Zr({values:C3,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Zr({values:R3,defaultWidth:"wide"}),day:Zr({values:D3,defaultWidth:"wide"}),dayPeriod:Zr({values:N3,defaultWidth:"wide",formattingValues:I3,defaultFormattingWidth:"wide"})},k3=/^(\d+)[ºªo]?/i,P3=/\d+/i,V3={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},L3={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},j3={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},U3={any:[/1/i,/2/i,/3/i,/4/i]},B3={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},z3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},F3={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},H3={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},q3={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},G3={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},$3={ordinalNumber:nD({matchPattern:k3,parsePattern:P3,valueCallback:t=>parseInt(t,10)}),era:Jr({matchPatterns:V3,defaultMatchWidth:"wide",parsePatterns:L3,defaultParseWidth:"any"}),quarter:Jr({matchPatterns:j3,defaultMatchWidth:"wide",parsePatterns:U3,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Jr({matchPatterns:B3,defaultMatchWidth:"wide",parsePatterns:z3,defaultParseWidth:"any"}),day:Jr({matchPatterns:F3,defaultMatchWidth:"wide",parsePatterns:H3,defaultParseWidth:"any"}),dayPeriod:Jr({matchPatterns:q3,defaultMatchWidth:"any",parsePatterns:G3,defaultParseWidth:"any"})},B_={code:"pt-BR",formatDistance:_3,formatLong:T3,formatRelative:x3,localize:O3,match:$3,options:{weekStartsOn:0,firstWeekContainsDate:1}};var Ie;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(Ie||(Ie={}));var _t;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(_t||(_t={}));var Cr;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(Cr||(Cr={}));const dS=5,W3=4;function Y3(t,e){const n=e.startOfMonth(t),r=n.getDay()>0?n.getDay():7,a=e.addDays(t,-r+1),o=e.addDays(a,dS*7-1);return t.getMonth()===o.getMonth()?dS:W3}function oD(t,e){const n=e.startOfMonth(t),r=n.getDay();return r===1?n:r===0?e.addDays(n,-1*6):e.addDays(n,-1*(r-1))}function K3(t,e){const n=oD(t,e),r=Y3(t,e);return e.addDays(n,r*7-1)}class cs{constructor(e,n){this.Date=Date,this.addDays=(r,a)=>{var o;return(o=this.overrides)!=null&&o.addDays?this.overrides.addDays(r,a):KR(r,a)},this.addMonths=(r,a)=>{var o;return(o=this.overrides)!=null&&o.addMonths?this.overrides.addMonths(r,a):QR(r,a)},this.addWeeks=(r,a)=>{var o;return(o=this.overrides)!=null&&o.addWeeks?this.overrides.addWeeks(r,a):az(r,a)},this.addYears=(r,a)=>{var o;return(o=this.overrides)!=null&&o.addYears?this.overrides.addYears(r,a):oz(r,a)},this.differenceInCalendarDays=(r,a)=>{var o;return(o=this.overrides)!=null&&o.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,a):ZR(r,a)},this.differenceInCalendarMonths=(r,a)=>{var o;return(o=this.overrides)!=null&&o.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,a):fz(r,a)},this.endOfBroadcastWeek=r=>{var a;return(a=this.overrides)!=null&&a.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r,this):K3(r,this)},this.endOfISOWeek=r=>{var a;return(a=this.overrides)!=null&&a.endOfISOWeek?this.overrides.endOfISOWeek(r):gz(r)},this.endOfMonth=r=>{var a;return(a=this.overrides)!=null&&a.endOfMonth?this.overrides.endOfMonth(r):hz(r)},this.endOfWeek=r=>{var a;return(a=this.overrides)!=null&&a.endOfWeek?this.overrides.endOfWeek(r,this.options):tD(r,this.options)},this.endOfYear=r=>{var a;return(a=this.overrides)!=null&&a.endOfYear?this.overrides.endOfYear(r):pz(r)},this.format=(r,a)=>{var o;return(o=this.overrides)!=null&&o.format?this.overrides.format(r,a,this.options):U_(r,a,this.options)},this.getISOWeek=r=>{var a;return(a=this.overrides)!=null&&a.getISOWeek?this.overrides.getISOWeek(r):rD(r)},this.getWeek=r=>{var a;return(a=this.overrides)!=null&&a.getWeek?this.overrides.getWeek(r,this.options):sD(r,this.options)},this.isAfter=(r,a)=>{var o;return(o=this.overrides)!=null&&o.isAfter?this.overrides.isAfter(r,a):f3(r,a)},this.isBefore=(r,a)=>{var o;return(o=this.overrides)!=null&&o.isBefore?this.overrides.isBefore(r,a):h3(r,a)},this.isDate=r=>{var a;return(a=this.overrides)!=null&&a.isDate?this.overrides.isDate(r):JR(r)},this.isSameDay=(r,a)=>{var o;return(o=this.overrides)!=null&&o.isSameDay?this.overrides.isSameDay(r,a):uz(r,a)},this.isSameMonth=(r,a)=>{var o;return(o=this.overrides)!=null&&o.isSameMonth?this.overrides.isSameMonth(r,a):m3(r,a)},this.isSameYear=(r,a)=>{var o;return(o=this.overrides)!=null&&o.isSameYear?this.overrides.isSameYear(r,a):p3(r,a)},this.max=r=>{var a;return(a=this.overrides)!=null&&a.max?this.overrides.max(r):lz(r)},this.min=r=>{var a;return(a=this.overrides)!=null&&a.min?this.overrides.min(r):cz(r)},this.setMonth=(r,a)=>{var o;return(o=this.overrides)!=null&&o.setMonth?this.overrides.setMonth(r,a):g3(r,a)},this.setYear=(r,a)=>{var o;return(o=this.overrides)!=null&&o.setYear?this.overrides.setYear(r,a):y3(r,a)},this.startOfBroadcastWeek=r=>{var a;return(a=this.overrides)!=null&&a.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):oD(r,this)},this.startOfDay=r=>{var a;return(a=this.overrides)!=null&&a.startOfDay?this.overrides.startOfDay(r):Qu(r)},this.startOfISOWeek=r=>{var a;return(a=this.overrides)!=null&&a.startOfISOWeek?this.overrides.startOfISOWeek(r):Ku(r)},this.startOfMonth=r=>{var a;return(a=this.overrides)!=null&&a.startOfMonth?this.overrides.startOfMonth(r):mz(r)},this.startOfWeek=r=>{var a;return(a=this.overrides)!=null&&a.startOfWeek?this.overrides.startOfWeek(r,this.options):Yl(r,this.options)},this.startOfYear=r=>{var a;return(a=this.overrides)!=null&&a.startOfYear?this.overrides.startOfYear(r):eD(r)},this.options={locale:Pm,...e},this.overrides=n}}const Ro=new cs;function Q3(t,e,n={}){return Object.entries(t).filter(([,a])=>a===!0).reduce((a,[o])=>(n[o]?a.push(n[o]):e[_t[o]]?a.push(e[_t[o]]):e[Cr[o]]&&a.push(e[Cr[o]]),a),[e[Ie.Day]])}function X3(t){return pe.createElement("button",{...t})}function Z3(t){return pe.createElement("span",{...t})}function J3(t){const{size:e=24,orientation:n="left",className:r}=t;return pe.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&pe.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&pe.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&pe.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&pe.createElement("polygon",{points:"8 18.612 14.1888889 12.5 8 6.37733333 9.91111111 4.5 18 12.5 9.91111111 20.5"}))}function eF(t){const{day:e,modifiers:n,...r}=t;return pe.createElement("td",{...r})}function tF(t){const{day:e,modifiers:n,...r}=t,a=pe.useRef(null);return pe.useEffect(()=>{var o;n.focused&&((o=a.current)==null||o.focus())},[n.focused]),pe.createElement("button",{ref:a,...r})}function nF(t){const{options:e,className:n,components:r,classNames:a,...o}=t,c=[a[Ie.Dropdown],n].join(" "),d=e==null?void 0:e.find(({value:h})=>h===o.value);return pe.createElement("span",{"data-disabled":o.disabled,className:a[Ie.DropdownRoot]},pe.createElement(r.Select,{className:c,...o},e==null?void 0:e.map(({value:h,label:p,disabled:y})=>pe.createElement(r.Option,{key:h,value:h,disabled:y},p))),pe.createElement("span",{className:a[Ie.CaptionLabel],"aria-hidden":!0},d==null?void 0:d.label,pe.createElement(r.Chevron,{orientation:"down",size:18,className:a[Ie.Chevron]})))}function rF(t){return pe.createElement("div",{...t})}function iF(t){return pe.createElement("div",{...t})}function sF(t){const{calendarMonth:e,displayIndex:n,...r}=t;return pe.createElement("div",{...r},t.children)}function aF(t){const{calendarMonth:e,displayIndex:n,...r}=t;return pe.createElement("div",{...r})}function oF(t){return pe.createElement("table",{...t})}function lF(t){return pe.createElement("div",{...t})}const lD=b.createContext(void 0);function Ed(){const t=b.useContext(lD);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function cF(t){const{components:e}=Ed();return pe.createElement(e.Dropdown,{...t})}function uF(t){const{onPreviousClick:e,onNextClick:n,previousMonth:r,nextMonth:a,...o}=t,{components:c,classNames:d,labels:{labelPrevious:h,labelNext:p}}=Ed();return pe.createElement("nav",{...o},pe.createElement(c.PreviousMonthButton,{type:"button",className:d[Ie.PreviousMonthButton],tabIndex:r?void 0:-1,disabled:r?void 0:!0,"aria-label":h(r),onClick:t.onPreviousClick},pe.createElement(c.Chevron,{disabled:r?void 0:!0,className:d[Ie.Chevron],orientation:"left"})),pe.createElement(c.NextMonthButton,{type:"button",className:d[Ie.NextMonthButton],tabIndex:a?void 0:-1,disabled:a?void 0:!0,"aria-label":p(a),onClick:t.onNextClick},pe.createElement(c.Chevron,{disabled:a?void 0:!0,orientation:"right",className:d[Ie.Chevron]})))}function dF(t){const{components:e}=Ed();return pe.createElement(e.Button,{...t})}function fF(t){return pe.createElement("option",{...t})}function hF(t){const{components:e}=Ed();return pe.createElement(e.Button,{...t})}function mF(t){return pe.createElement("div",{...t})}function pF(t){return pe.createElement("select",{...t})}function gF(t){const{week:e,...n}=t;return pe.createElement("tr",{...n})}function yF(t){return pe.createElement("th",{...t})}function vF(t){return pe.createElement("thead",{"aria-hidden":!0},pe.createElement("tr",{...t}))}function _F(t){const{week:e,...n}=t;return pe.createElement("th",{...n})}function wF(t){return pe.createElement("th",{...t})}function bF(t){return pe.createElement("tbody",{...t})}function EF(t){const{components:e}=Ed();return pe.createElement(e.Dropdown,{...t})}const TF=Object.freeze(Object.defineProperty({__proto__:null,Button:X3,CaptionLabel:Z3,Chevron:J3,Day:eF,DayButton:tF,Dropdown:nF,DropdownNav:rF,Footer:iF,Month:sF,MonthCaption:aF,MonthGrid:oF,Months:lF,MonthsDropdown:cF,Nav:uF,NextMonthButton:dF,Option:fF,PreviousMonthButton:hF,Root:mF,Select:pF,Week:gF,WeekNumber:_F,WeekNumberHeader:wF,Weekday:yF,Weekdays:vF,Weeks:bF,YearsDropdown:EF},Symbol.toStringTag,{value:"Module"}));function SF(t){return{...TF,...t}}function xF(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0};return Object.entries(t).forEach(([n,r])=>{n.startsWith("data-")&&(e[n]=r)}),e}function AF(){const t={};for(const e in Ie)t[Ie[e]]=`rdp-${Ie[e]}`;for(const e in _t)t[_t[e]]=`rdp-${_t[e]}`;for(const e in Cr)t[Cr[e]]=`rdp-${Cr[e]}`;return t}function cD(t,e,n){return(n??new cs(e)).format(t,"LLLL y")}const CF=cD;function RF(t,e,n){return(n??new cs(e)).format(t,"d")}function DF(t,e){var n;return(n=e.localize)==null?void 0:n.month(t)}function NF(t){return t<10?`0${t.toLocaleString()}`:`${t.toLocaleString()}`}function IF(){return""}function MF(t,e,n){return(n??new cs(e)).format(t,"cccccc")}function uD(t){return t.toString()}const OF=uD,kF=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:cD,formatDay:RF,formatMonthCaption:CF,formatMonthDropdown:DF,formatWeekNumber:NF,formatWeekNumberHeader:IF,formatWeekdayName:MF,formatYearCaption:OF,formatYearDropdown:uD},Symbol.toStringTag,{value:"Module"}));function PF(t){return t!=null&&t.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t!=null&&t.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...kF,...t}}function VF(t,e,n,r,a){if(!e||!n)return;const{addMonths:o,startOfMonth:c}=a,d=t.getFullYear(),h=[];let p=e;for(;h.length<12;)h.push(p.getMonth()),p=o(p,1);return h.sort((E,x)=>E-x).map(E=>{const x=r.formatMonthDropdown(E,a.options.locale??Pm),A=a.Date?new a.Date(d,E):new Date(d,E),C=e&&A<c(e)||n&&A>c(n)||!1;return{value:E,label:x,disabled:C}})}function LF(t,e={},n={}){let r={...e==null?void 0:e[Ie.Day]};return Object.entries(t).filter(([,a])=>a===!0).forEach(([a])=>{r={...r,...n==null?void 0:n[a]}}),r}const dy={},Au={};function ku(t,e){try{const r=(dy[t]||(dy[t]=new Intl.DateTimeFormat("en-GB",{timeZone:t,hour:"numeric",timeZoneName:"longOffset"}).format))(e).split("GMT")[1]||"";return r in Au?Au[r]:fS(r,r.split(":"))}catch{if(t in Au)return Au[t];const n=t==null?void 0:t.match(jF);return n?fS(t,n.slice(1)):NaN}}const jF=/([+-]\d\d):?(\d\d)?/;function fS(t,e){const n=+e[0],r=+(e[1]||0);return Au[t]=n>0?n*60+r:n*60-r}class ei extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(ku(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),dD(this),tv(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new ei(...n,e):new ei(Date.now(),e)}withTimeZone(e){return new ei(+this,e)}getTimezoneOffset(){return-ku(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),tv(this),+this}[Symbol.for("constructDateFrom")](e){return new ei(+new Date(e),this.timeZone)}}const hS=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!hS.test(t))return;const e=t.replace(hS,"$1UTC");ei.prototype[e]&&(t.startsWith("get")?ei.prototype[t]=function(){return this.internal[e]()}:(ei.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),UF(this),+this},ei.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),tv(this),+this}))});function tv(t){t.internal.setTime(+t),t.internal.setUTCMinutes(t.internal.getUTCMinutes()-t.getTimezoneOffset())}function UF(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),dD(t)}function dD(t){const e=ku(t.timeZone,t),n=new Date(+t);n.setUTCHours(n.getUTCHours()-1);const r=-new Date(+t).getTimezoneOffset(),a=-new Date(+n).getTimezoneOffset(),o=r-a,c=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();o&&c&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+o);const d=r-e;d&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+d);const h=ku(t.timeZone,t),y=-new Date(+t).getTimezoneOffset()-h,v=h!==e,E=y-d;if(v&&E){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+E);const x=ku(t.timeZone,t),A=h-x;A&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+A),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+A))}}class ti extends ei{static tz(e,...n){return n.length?new ti(...n,e):new ti(Date.now(),e)}toISOString(){const[e,n,r]=this.tzComponents(),a=`${e}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,r,a]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${r} ${n} ${a}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,r,a]=this.tzComponents();return`${e} GMT${n}${r}${a} (${BF(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),a=String(Math.abs(e)%60).padStart(2,"0");return[n,r,a]}withTimeZone(e){return new ti(+this,e)}[Symbol.for("constructDateFrom")](e){return new ti(+new Date(e),this.timeZone)}}function BF(t,e){return new Intl.DateTimeFormat("en-GB",{timeZone:t,timeZoneName:"long"}).format(e).slice(12)}function zF(t,e,n,r){const a=n?ti.tz(n):t.Date?new t.Date:new Date,o=e?t.startOfISOWeek(a):t.startOfWeek(a),c=[];for(let d=0;d<7;d++){const h=t.addDays(o,d);c.push(h)}return c}function FF(t,e,n,r){if(!t||!e)return;const{startOfYear:a,endOfYear:o,addYears:c,isBefore:d,isSameYear:h}=r,p=a(t),y=o(e),v=[];let E=p;for(;d(E,y)||h(E,y);)v.push(E.getFullYear()),E=c(E,1);return v.map(x=>{const A=n.formatYearDropdown(x);return{value:x,label:A,disabled:!1}})}function fD(t,e,n){return(n??new cs(e)).format(t,"LLLL y")}const HF=fD;function qF(t,e,n,r){let a=(r??new cs(n)).format(t,"PPPP");return e!=null&&e.today&&(a=`Today, ${a}`),a}function hD(t,e,n,r){let a=(r??new cs(n)).format(t,"PPPP");return e.today&&(a=`Today, ${a}`),e.selected&&(a=`${a}, selected`),a}const GF=hD;function $F(){return""}function WF(t){return"Choose the Month"}function YF(t){return"Go to the Next Month"}function KF(t){return"Go to the Previous Month"}function QF(t,e,n){return(n??new cs(e)).format(t,"cccc")}function XF(t,e){return`Week ${t}`}function ZF(t){return"Week Number"}function JF(t){return"Choose the Year"}const eH=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:HF,labelDay:GF,labelDayButton:hD,labelGrid:fD,labelGridcell:qF,labelMonthDropdown:WF,labelNav:$F,labelNext:YF,labelPrevious:KF,labelWeekNumber:XF,labelWeekNumberHeader:ZF,labelWeekday:QF,labelYearDropdown:JF},Symbol.toStringTag,{value:"Module"}));function tH(t,e,n,r){const a=t[0],o=t[t.length-1],{ISOWeek:c,fixedWeeks:d,broadcastCalendar:h}=n??{},{addDays:p,differenceInCalendarDays:y,differenceInCalendarMonths:v,endOfBroadcastWeek:E,endOfISOWeek:x,endOfMonth:A,endOfWeek:C,isAfter:R,startOfBroadcastWeek:O,startOfISOWeek:D,startOfWeek:U}=r,H=h?O(a,r):c?D(a):U(a),W=h?E(o,r):c?x(A(o)):C(A(o)),Z=y(W,H),k=v(o,a)+1,N=[];for(let z=0;z<=Z;z++){const B=p(H,z);if(e&&R(B,e))break;N.push(B)}const V=(h?35:42)*k;if(d&&N.length<V){const z=V-N.length;for(let B=0;B<z;B++){const L=p(N[N.length-1],1);N.push(L)}}return N}function nH(t){const e=[];return t.reduce((n,r)=>{const a=[],o=r.weeks.reduce((c,d)=>[...c,...d.days],a);return[...n,...o]},e)}function rH(t,e,n,r){const{numberOfMonths:a=1}=n,o=[];for(let c=0;c<a;c++){const d=r.addMonths(t,c);if(e&&d>e)break;o.push(d)}return o}function mS(t,e){const{month:n,defaultMonth:r,today:a=t.timeZone?ti.tz(t.timeZone):e.Date?new e.Date:new Date,numberOfMonths:o=1,endMonth:c,startMonth:d}=t;let h=n||r||a;const{differenceInCalendarMonths:p,addMonths:y,startOfMonth:v}=e;if(c&&p(c,h)<0){const E=-1*(o-1);h=y(c,E)}return d&&p(h,d)<0&&(h=d),v(h)}class mD{constructor(e,n,r=Ro){this.date=e,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(e,n)),this.dateLib=r}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class iH{constructor(e,n){this.date=e,this.weeks=n}}class sH{constructor(e,n){this.days=n,this.weekNumber=e}}function aH(t,e,n,r){const{addDays:a,endOfBroadcastWeek:o,endOfISOWeek:c,endOfMonth:d,endOfWeek:h,getISOWeek:p,getWeek:y,startOfBroadcastWeek:v,startOfISOWeek:E,startOfWeek:x}=r,A=t.reduce((C,R)=>{const O=n.broadcastCalendar?v(R,r):n.ISOWeek?E(R):x(R),D=n.broadcastCalendar?o(R,r):n.ISOWeek?c(d(R)):h(d(R)),U=e.filter(k=>k>=O&&k<=D),H=n.broadcastCalendar?35:42;if(n.fixedWeeks&&U.length<H){const k=e.filter(N=>{const I=H-U.length;return N>D&&N<=a(D,I)});U.push(...k)}const W=U.reduce((k,N)=>{const I=n.ISOWeek?p(N):y(N),V=k.find(B=>B.weekNumber===I),z=new mD(N,R,r);return V?V.days.push(z):k.push(new sH(I,[z])),k},[]),Z=new iH(R,W);return C.push(Z),C},[]);return n.reverseMonths?A.reverse():A}function oH(t,e){var C;let{startMonth:n,endMonth:r}=t;const{startOfYear:a,startOfDay:o,startOfMonth:c,endOfMonth:d,addYears:h,endOfYear:p}=e,{fromYear:y,toYear:v,fromMonth:E,toMonth:x}=t;!n&&E&&(n=E),!n&&y&&(n=new Date(y,0,1)),!r&&x&&(r=x),!r&&v&&(r=new Date(v,11,31));const A=(C=t.captionLayout)==null?void 0:C.startsWith("dropdown");if(n)n=c(n);else if(y)n=new Date(y,0,1);else if(!n&&A){const R=t.today??(t.timeZone?ti.tz(t.timeZone):e.Date?new e.Date:new Date);n=a(h(R,-100))}if(r)r=d(r);else if(v)r=new Date(v,11,31);else if(!r&&A){const R=t.today??(t.timeZone?ti.tz(t.timeZone):e.Date?new e.Date:new Date);r=p(R)}return[n&&o(n),r&&o(r)]}function lH(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:o=1}=n,{startOfMonth:c,addMonths:d,differenceInCalendarMonths:h}=r,p=a?o:1,y=c(t);if(!e)return d(y,p);if(!(h(e,t)<o))return d(y,p)}function cH(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:o}=n,{startOfMonth:c,addMonths:d,differenceInCalendarMonths:h}=r,p=a?o??1:1,y=c(t);if(!e)return d(y,-p);if(!(h(y,e)<=0))return d(y,-p)}function uH(t){const e=[];return t.reduce((n,r)=>[...n,...r.weeks],e)}function Vm(t,e){const[n,r]=b.useState(t);return[e===void 0?n:e,r]}function dH(t,e){const[n,r]=oH(t,e),{startOfMonth:a,endOfMonth:o}=e,c=mS(t,e),[d,h]=Vm(c,t.month?a(t.month):void 0);b.useEffect(()=>{const Z=mS(t,e);h(Z)},[t.timeZone]);const p=rH(d,r,t,e),y=tH(p,t.endMonth?o(t.endMonth):void 0,t,e),v=aH(p,y,t,e),E=uH(v),x=nH(v),A=cH(d,n,t,e),C=lH(d,r,t,e),{disableNavigation:R,onMonthChange:O}=t,D=Z=>E.some(k=>k.days.some(N=>N.isEqualTo(Z))),U=Z=>{if(R)return;let k=a(Z);n&&k<a(n)&&(k=a(n)),r&&k>a(r)&&(k=a(r)),h(k),O==null||O(k)};return{months:v,weeks:E,days:x,navStart:n,navEnd:r,previousMonth:A,nextMonth:C,goToMonth:U,goToDay:Z=>{D(Z)||U(Z.date)}}}function fH(t,e,n,r){let a,o=0,c=!1;for(;o<t.length&&!c;){const d=t[o],h=e(d);!h[_t.disabled]&&!h[_t.hidden]&&!h[_t.outside]&&(h[_t.focused]||r!=null&&r.isEqualTo(d)||n(d.date)||h[_t.today])&&(a=d,c=!0),o++}return a||(a=t.find(d=>{const h=e(d);return!h[_t.disabled]&&!h[_t.hidden]&&!h[_t.outside]})),a}function Zi(t,e,n=!1,r=Ro){let{from:a,to:o}=t;const{differenceInCalendarDays:c,isSameDay:d}=r;return a&&o?(c(o,a)<0&&([a,o]=[o,a]),c(e,a)>=(n?1:0)&&c(o,e)>=(n?1:0)):!n&&o?d(o,e):!n&&a?d(a,e):!1}function pD(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function z_(t){return!!(t&&typeof t=="object"&&"from"in t)}function gD(t){return!!(t&&typeof t=="object"&&"after"in t)}function yD(t){return!!(t&&typeof t=="object"&&"before"in t)}function vD(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function _D(t,e){return Array.isArray(t)&&t.every(e.isDate)}function Ji(t,e,n=Ro){const r=Array.isArray(e)?e:[e],{isSameDay:a,differenceInCalendarDays:o,isAfter:c}=n;return r.some(d=>{if(typeof d=="boolean")return d;if(n.isDate(d))return a(t,d);if(_D(d,n))return d.includes(t);if(z_(d))return Zi(d,t,!1,n);if(vD(d))return Array.isArray(d.dayOfWeek)?d.dayOfWeek.includes(t.getDay()):d.dayOfWeek===t.getDay();if(pD(d)){const h=o(d.before,t),p=o(d.after,t),y=h>0,v=p<0;return c(d.before,d.after)?v&&y:y||v}return gD(d)?o(t,d.after)>0:yD(d)?o(d.before,t)>0:typeof d=="function"?d(t):!1})}function hH(t,e,n,r,a,o,c){const{ISOWeek:d,broadcastCalendar:h}=o,{addDays:p,addMonths:y,addWeeks:v,addYears:E,endOfBroadcastWeek:x,endOfISOWeek:A,endOfWeek:C,max:R,min:O,startOfBroadcastWeek:D,startOfISOWeek:U,startOfWeek:H}=c;let Z={day:p,week:v,month:y,year:E,startOfWeek:k=>h?D(k,c):d?U(k):H(k),endOfWeek:k=>h?x(k,c):d?A(k):C(k)}[t](n,e==="after"?1:-1);return e==="before"&&r?Z=R([r,Z]):e==="after"&&a&&(Z=O([a,Z])),Z}function wD(t,e,n,r,a,o,c,d=0){if(d>365)return;const h=hH(t,e,n.date,r,a,o,c),p=!!(o.disabled&&Ji(h,o.disabled,c)),y=!!(o.hidden&&Ji(h,o.hidden,c)),v=h,E=new mD(h,v,c);return!p&&!y?E:wD(t,e,E,r,a,o,c,d+1)}function mH(t,e,n,r,a){const{autoFocus:o}=t,[c,d]=b.useState(),h=fH(e.days,n,r||(()=>!1),c),[p,y]=b.useState(o?h:void 0);return{isFocusTarget:C=>!!(h!=null&&h.isEqualTo(C)),setFocused:y,focused:p,blur:()=>{d(p),y(void 0)},moveFocus:(C,R)=>{if(!p)return;const O=wD(C,R,p,e.navStart,e.navEnd,t,a);O&&(e.goToDay(O),y(O))}}}function pH(t,e,n){const{disabled:r,hidden:a,modifiers:o,showOutsideDays:c,broadcastCalendar:d,today:h}=e,{isSameDay:p,isSameMonth:y,startOfMonth:v,isBefore:E,endOfMonth:x,isAfter:A}=n,C=e.startMonth&&v(e.startMonth),R=e.endMonth&&x(e.endMonth),O={[_t.focused]:[],[_t.outside]:[],[_t.disabled]:[],[_t.hidden]:[],[_t.today]:[]},D={};for(const U of t){const{date:H,displayMonth:W}=U,Z=!!(W&&!y(H,W)),k=!!(C&&E(H,C)),N=!!(R&&A(H,R)),I=!!(r&&Ji(H,r,n)),V=!!(a&&Ji(H,a,n))||k||N||!d&&!c&&Z||d&&c===!1&&Z,z=p(H,h??(e.timeZone?ti.tz(e.timeZone):n.Date?new n.Date:new Date));Z&&O.outside.push(U),I&&O.disabled.push(U),V&&O.hidden.push(U),z&&O.today.push(U),o&&Object.keys(o).forEach(B=>{const L=o==null?void 0:o[B];L&&Ji(H,L,n)&&(D[B]?D[B].push(U):D[B]=[U])})}return U=>{const H={[_t.focused]:!1,[_t.disabled]:!1,[_t.hidden]:!1,[_t.outside]:!1,[_t.today]:!1},W={};for(const Z in O){const k=O[Z];H[Z]=k.some(N=>N===U)}for(const Z in D)W[Z]=D[Z].some(k=>k===U);return{...H,...W}}}function gH(t,e){const{selected:n,required:r,onSelect:a}=t,[o,c]=Vm(n,a?n:void 0),d=a?n:o,{isSameDay:h}=e,p=x=>(d==null?void 0:d.some(A=>h(A,x)))??!1,{min:y,max:v}=t;return{selected:d,select:(x,A,C)=>{let R=[...d??[]];if(p(x)){if((d==null?void 0:d.length)===y||r&&(d==null?void 0:d.length)===1)return;R=d==null?void 0:d.filter(O=>!h(O,x))}else(d==null?void 0:d.length)===v?R=[x]:R=[...R,x];return a||c(R),a==null||a(R,x,A,C),R},isSelected:p}}function yH(t,e,n=0,r=0,a=!1,o=Ro){const{from:c,to:d}=e||{},{isSameDay:h,isAfter:p,isBefore:y}=o;let v;if(!c&&!d)v={from:t,to:n>0?void 0:t};else if(c&&!d)h(c,t)?a?v={from:c,to:void 0}:v=void 0:y(t,c)?v={from:t,to:c}:v={from:c,to:t};else if(c&&d)if(h(c,t)&&h(d,t))a?v={from:c,to:d}:v=void 0;else if(h(c,t))v={from:c,to:n>0?void 0:t};else if(h(d,t))v={from:t,to:n>0?void 0:t};else if(y(t,c))v={from:t,to:d};else if(p(t,c))v={from:c,to:t};else if(p(t,d))v={from:c,to:t};else throw new Error("Invalid range");if(v!=null&&v.from&&(v!=null&&v.to)){const E=o.differenceInCalendarDays(v.to,v.from);r>0&&E>r?v={from:t,to:void 0}:n>1&&E<n&&(v={from:t,to:void 0})}return v}function vH(t,e,n=Ro){const r=Array.isArray(e)?e:[e];let a=t.from;const o=n.differenceInCalendarDays(t.to,t.from),c=Math.min(o,6);for(let d=0;d<=c;d++){if(r.includes(a.getDay()))return!0;a=n.addDays(a,1)}return!1}function pS(t,e,n=Ro){return Zi(t,e.from,!1,n)||Zi(t,e.to,!1,n)||Zi(e,t.from,!1,n)||Zi(e,t.to,!1,n)}function _H(t,e,n=Ro){const r=Array.isArray(e)?e:[e];if(r.filter(d=>typeof d!="function").some(d=>typeof d=="boolean"?d:n.isDate(d)?Zi(t,d,!1,n):_D(d,n)?d.some(h=>Zi(t,h,!1,n)):z_(d)?d.from&&d.to?pS(t,{from:d.from,to:d.to},n):!1:vD(d)?vH(t,d.dayOfWeek,n):pD(d)?n.isAfter(d.before,d.after)?pS(t,{from:n.addDays(d.after,1),to:n.addDays(d.before,-1)},n):Ji(t.from,d,n)||Ji(t.to,d,n):gD(d)||yD(d)?Ji(t.from,d,n)||Ji(t.to,d,n):!1))return!0;const c=r.filter(d=>typeof d=="function");if(c.length){let d=t.from;const h=n.differenceInCalendarDays(t.to,t.from);for(let p=0;p<=h;p++){if(c.some(y=>y(d)))return!0;d=n.addDays(d,1)}}return!1}function wH(t,e){const{disabled:n,excludeDisabled:r,selected:a,required:o,onSelect:c}=t,[d,h]=Vm(a,c?a:void 0),p=c?a:d;return{selected:p,select:(E,x,A)=>{const{min:C,max:R}=t,O=E?yH(E,p,C,R,o,e):void 0;return r&&n&&(O!=null&&O.from)&&O.to&&_H({from:O.from,to:O.to},n,e)&&(O.from=E,O.to=void 0),c||h(O),c==null||c(O,E,x,A),O},isSelected:E=>p&&Zi(p,E,!1,e)}}function bH(t,e){const{selected:n,required:r,onSelect:a}=t,[o,c]=Vm(n,a?n:void 0),d=a?n:o,{isSameDay:h}=e;return{selected:d,select:(v,E,x)=>{let A=v;return!r&&d&&d&&h(v,d)&&(A=void 0),a||c(A),a==null||a(A,v,E,x),A},isSelected:v=>d?h(d,v):!1}}function EH(t,e){const n=bH(t,e),r=gH(t,e),a=wH(t,e);switch(t.mode){case"single":return n;case"multiple":return r;case"range":return a;default:return}}function TH(t){const{components:e,formatters:n,labels:r,dateLib:a,locale:o,classNames:c}=b.useMemo(()=>{const Ue={...Pm,...t.locale};return{dateLib:new cs({locale:Ue,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens},t.dateLib),components:SF(t.components),formatters:PF(t.formatters),labels:{...eH,...t.labels},locale:Ue,classNames:{...AF(),...t.classNames}}},[t.classNames,t.components,t.dateLib,t.firstWeekContainsDate,t.formatters,t.labels,t.locale,t.useAdditionalDayOfYearTokens,t.useAdditionalWeekYearTokens,t.weekStartsOn,t.broadcastCalendar]),{captionLayout:d,mode:h,onDayBlur:p,onDayClick:y,onDayFocus:v,onDayKeyDown:E,onDayMouseEnter:x,onDayMouseLeave:A,onNextClick:C,onPrevClick:R,showWeekNumber:O,styles:D}=t,{formatCaption:U,formatDay:H,formatMonthDropdown:W,formatWeekNumber:Z,formatWeekNumberHeader:k,formatWeekdayName:N,formatYearDropdown:I}=n,V=dH(t,a),{days:z,months:B,navStart:L,navEnd:ye,previousMonth:xe,nextMonth:J,goToMonth:ce}=V,ie=pH(z,t,a),{isSelected:ae,select:F,selected:ee}=EH(t,a)??{},{blur:he,focused:fe,isFocusTarget:de,moveFocus:Re,setFocused:Te}=mH(t,V,ie,ae??(()=>!1),a),{labelDayButton:me,labelGridcell:_e,labelGrid:De,labelMonthDropdown:Ee,labelNav:Oe,labelWeekday:He,labelWeekNumber:ft,labelWeekNumberHeader:Vt,labelYearDropdown:_n}=r,un=b.useMemo(()=>zF(a,t.ISOWeek,t.timeZone),[a,t.ISOWeek,t.timeZone]),Pn=h!==void 0||y!==void 0,Pr=b.useCallback(()=>{xe&&(ce(xe),R==null||R(xe))},[xe,ce,R]),Fn=b.useCallback(()=>{J&&(ce(J),C==null||C(J))},[ce,J,C]),bi=b.useCallback((Ue,ot)=>je=>{je.preventDefault(),je.stopPropagation(),Te(Ue),F==null||F(Ue.date,ot,je),y==null||y(Ue.date,ot,je)},[F,y,Te]),us=b.useCallback((Ue,ot)=>je=>{Te(Ue),v==null||v(Ue.date,ot,je)},[v,Te]),fc=b.useCallback((Ue,ot)=>je=>{he(),p==null||p(Ue.date,ot,je)},[he,p]),Ea=b.useCallback((Ue,ot)=>je=>{const Vn={ArrowLeft:["day",t.dir==="rtl"?"after":"before"],ArrowRight:["day",t.dir==="rtl"?"before":"after"],ArrowDown:["week","after"],ArrowUp:["week","before"],PageUp:[je.shiftKey?"year":"month","before"],PageDown:[je.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Vn[je.key]){je.preventDefault(),je.stopPropagation();const[Dt,Ft]=Vn[je.key];Re(Dt,Ft)}E==null||E(Ue.date,ot,je)},[Re,E,t.dir]),wn=b.useCallback((Ue,ot)=>je=>{x==null||x(Ue.date,ot,je)},[x]),Do=b.useCallback((Ue,ot)=>je=>{A==null||A(Ue.date,ot,je)},[A]),Lt=b.useCallback(Ue=>ot=>{const je=Number(ot.target.value),Vn=a.setMonth(a.startOfMonth(Ue),je);ce(Vn)},[a,ce]),zt=b.useCallback(Ue=>ot=>{const je=Number(ot.target.value),Vn=a.setYear(a.startOfMonth(Ue),je);ce(Vn)},[a,ce]),{className:_r,style:No}=b.useMemo(()=>({className:[c[Ie.Root],t.className].filter(Boolean).join(" "),style:{...D==null?void 0:D[Ie.Root],...t.style}}),[c,t.className,t.style,D]),Ta=xF(t),hc={dayPickerProps:t,selected:ee,select:F,isSelected:ae,months:B,nextMonth:J,previousMonth:xe,goToMonth:ce,getModifiers:ie,components:e,classNames:c,styles:D,labels:r,formatters:n};return pe.createElement(lD.Provider,{value:hc},pe.createElement(e.Root,{className:_r,style:No,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],...Ta},pe.createElement(e.Months,{className:c[Ie.Months],style:D==null?void 0:D[Ie.Months]},!t.hideNavigation&&pe.createElement(e.Nav,{className:c[Ie.Nav],style:D==null?void 0:D[Ie.Nav],"aria-label":Oe(),onPreviousClick:Pr,onNextClick:Fn,previousMonth:xe,nextMonth:J}),B.map((Ue,ot)=>{const je=VF(Ue.date,L,ye,n,a),Vn=FF(L,ye,n,a);return pe.createElement(e.Month,{className:c[Ie.Month],style:D==null?void 0:D[Ie.Month],key:ot,displayIndex:ot,calendarMonth:Ue},pe.createElement(e.MonthCaption,{className:c[Ie.MonthCaption],style:D==null?void 0:D[Ie.MonthCaption],calendarMonth:Ue,displayIndex:ot},d!=null&&d.startsWith("dropdown")?pe.createElement(e.DropdownNav,{className:c[Ie.Dropdowns],style:D==null?void 0:D[Ie.Dropdowns]},d==="dropdown"||d==="dropdown-months"?pe.createElement(e.MonthsDropdown,{className:c[Ie.MonthsDropdown],"aria-label":Ee(),classNames:c,components:e,disabled:!!t.disableNavigation,onChange:Lt(Ue.date),options:je,style:D==null?void 0:D[Ie.Dropdown],value:Ue.date.getMonth()}):pe.createElement("span",{role:"status","aria-live":"polite"},W(Ue.date.getMonth(),o)),d==="dropdown"||d==="dropdown-years"?pe.createElement(e.YearsDropdown,{className:c[Ie.YearsDropdown],"aria-label":_n(a.options),classNames:c,components:e,disabled:!!t.disableNavigation,onChange:zt(Ue.date),options:Vn,style:D==null?void 0:D[Ie.Dropdown],value:Ue.date.getFullYear()}):pe.createElement("span",{role:"status","aria-live":"polite"},I(Ue.date.getFullYear()))):pe.createElement(e.CaptionLabel,{className:c[Ie.CaptionLabel],role:"status","aria-live":"polite"},U(Ue.date,a.options,a))),pe.createElement(e.MonthGrid,{role:"grid","aria-multiselectable":h==="multiple"||h==="range","aria-label":De(Ue.date,a.options,a)||void 0,className:c[Ie.MonthGrid],style:D==null?void 0:D[Ie.MonthGrid]},!t.hideWeekdays&&pe.createElement(e.Weekdays,{className:c[Ie.Weekdays],style:D==null?void 0:D[Ie.Weekdays]},O&&pe.createElement(e.WeekNumberHeader,{"aria-label":Vt(a.options),className:c[Ie.WeekNumberHeader],style:D==null?void 0:D[Ie.WeekNumberHeader],scope:"col"},k()),un.map((Dt,Ft)=>pe.createElement(e.Weekday,{"aria-label":He(Dt,a.options,a),className:c[Ie.Weekday],key:Ft,style:D==null?void 0:D[Ie.Weekday],scope:"col"},N(Dt,a.options,a)))),pe.createElement(e.Weeks,{className:c[Ie.Weeks],style:D==null?void 0:D[Ie.Weeks]},Ue.weeks.map((Dt,Ft)=>pe.createElement(e.Week,{className:c[Ie.Week],key:Dt.weekNumber,style:D==null?void 0:D[Ie.Week],week:Dt},O&&pe.createElement(e.WeekNumber,{week:Dt,style:D==null?void 0:D[Ie.WeekNumber],"aria-label":ft(Dt.weekNumber,{locale:o}),className:c[Ie.WeekNumber],scope:"row",role:"rowheader"},Z(Dt.weekNumber)),Dt.days.map(Nt=>{const{date:Rn}=Nt,Xe=ie(Nt);if(Xe[_t.focused]=!Xe.hidden&&!!(fe!=null&&fe.isEqualTo(Nt)),Xe[Cr.selected]=!Xe.disabled&&((ae==null?void 0:ae(Rn))||Xe.selected),z_(ee)){const{from:bn,to:nr}=ee;Xe[Cr.range_start]=!!(bn&&nr&&a.isSameDay(Rn,bn)),Xe[Cr.range_end]=!!(bn&&nr&&a.isSameDay(Rn,nr)),Xe[Cr.range_middle]=Zi(ee,Rn,!0,a)}const tr=LF(Xe,D,t.modifiersStyles),Vr=Q3(Xe,c,t.modifiersClassNames),Hn=!Pn&&!Xe.hidden?_e(Rn,Xe,a.options,a):void 0;return pe.createElement(e.Day,{key:`${a.format(Rn,"yyyy-MM-dd")}_${a.format(Nt.displayMonth,"yyyy-MM")}`,day:Nt,modifiers:Xe,className:Vr.join(" "),style:tr,role:"gridcell","aria-selected":Xe.selected||void 0,"aria-label":Hn,"data-day":a.format(Rn,"yyyy-MM-dd"),"data-month":Nt.outside?a.format(Rn,"yyyy-MM"):void 0,"data-selected":Xe.selected||void 0,"data-disabled":Xe.disabled||void 0,"data-hidden":Xe.hidden||void 0,"data-outside":Nt.outside||void 0,"data-focused":Xe.focused||void 0,"data-today":Xe.today||void 0},!Xe.hidden&&Pn?pe.createElement(e.DayButton,{className:c[Ie.DayButton],style:D==null?void 0:D[Ie.DayButton],type:"button",day:Nt,modifiers:Xe,disabled:Xe.disabled||void 0,tabIndex:de(Nt)?0:-1,"aria-label":me(Rn,Xe,a.options,a),onClick:bi(Nt,Xe),onBlur:fc(Nt,Xe),onFocus:us(Nt,Xe),onKeyDown:Ea(Nt,Xe),onMouseEnter:wn(Nt,Xe),onMouseLeave:Do(Nt,Xe)},H(Rn,a.options,a)):!Xe.hidden&&H(Nt.date,a.options,a))}))))))})),t.footer&&pe.createElement(e.Footer,{className:c[Ie.Footer],style:D==null?void 0:D[Ie.Footer],role:"status","aria-live":"polite"},t.footer)))}function bD({className:t,classNames:e,showOutsideDays:n=!0,...r}){return _.jsx(TH,{locale:B_,showOutsideDays:n,className:Be("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Be(Fy({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex justify-between w-full",head_cell:"text-slate-500 w-8 font-normal text-[0.8rem] dark:text-slate-400 text-center",row:"flex w-full mt-2 justify-between",cell:Be("relative p-0 text-center text-sm focus-within:relative focus-within:z-20",r.mode==="range"?"[&:has([aria-selected])]:bg-accent":""),day:Be(Fy({variant:"ghost"}),"h-8 w-8 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-slate-900 text-slate-50 hover:bg-slate-900 hover:text-slate-50 focus:bg-slate-900 focus:text-slate-50 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50 dark:hover:text-slate-900 dark:focus:bg-slate-50 dark:focus:text-slate-900",day_today:"bg-slate-100 text-slate-900 dark:bg-slate-800 dark:text-slate-50",day_outside:"day-outside text-slate-500 opacity-50 aria-selected:bg-slate-100/50 aria-selected:text-slate-500 aria-selected:opacity-30 dark:text-slate-400 dark:aria-selected:bg-slate-800/50 dark:aria-selected:text-slate-400",day_disabled:"text-slate-500 opacity-50 dark:text-slate-400",day_range_middle:"aria-selected:bg-slate-100 aria-selected:text-slate-900 dark:aria-selected:bg-slate-800 dark:aria-selected:text-slate-50",day_hidden:"invisible",...e},...r})}bD.displayName="Calendar";var F_="Popover",[ED,xq]=vi(F_,[lc]),Td=lc(),[SH,ba]=ED(F_),TD=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:c=!1}=t,d=Td(e),h=b.useRef(null),[p,y]=b.useState(!1),[v=!1,E]=go({prop:r,defaultProp:a,onChange:o});return _.jsx(y_,{...d,children:_.jsx(SH,{scope:e,contentId:oi(),triggerRef:h,open:v,onOpenChange:E,onOpenToggle:b.useCallback(()=>E(x=>!x),[E]),hasCustomAnchor:p,onCustomAnchorAdd:b.useCallback(()=>y(!0),[]),onCustomAnchorRemove:b.useCallback(()=>y(!1),[]),modal:c,children:n})})};TD.displayName=F_;var SD="PopoverAnchor",xH=b.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,a=ba(SD,n),o=Td(n),{onCustomAnchorAdd:c,onCustomAnchorRemove:d}=a;return b.useEffect(()=>(c(),()=>d()),[c,d]),_.jsx(Sm,{...o,...r,ref:e})});xH.displayName=SD;var xD="PopoverTrigger",AD=b.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,a=ba(xD,n),o=Td(n),c=ut(e,a.triggerRef),d=_.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":ID(a.open),...r,ref:c,onClick:we(t.onClick,a.onOpenToggle)});return a.hasCustomAnchor?d:_.jsx(Sm,{asChild:!0,...o,children:d})});AD.displayName=xD;var H_="PopoverPortal",[AH,CH]=ED(H_,{forceMount:void 0}),CD=t=>{const{__scopePopover:e,forceMount:n,children:r,container:a}=t,o=ba(H_,e);return _.jsx(AH,{scope:e,forceMount:n,children:_.jsx(Or,{present:n||o.open,children:_.jsx(pd,{asChild:!0,container:a,children:r})})})};CD.displayName=H_;var Kl="PopoverContent",RD=b.forwardRef((t,e)=>{const n=CH(Kl,t.__scopePopover),{forceMount:r=n.forceMount,...a}=t,o=ba(Kl,t.__scopePopover);return _.jsx(Or,{present:r||o.open,children:o.modal?_.jsx(RH,{...a,ref:e}):_.jsx(DH,{...a,ref:e})})});RD.displayName=Kl;var RH=b.forwardRef((t,e)=>{const n=ba(Kl,t.__scopePopover),r=b.useRef(null),a=ut(e,r),o=b.useRef(!1);return b.useEffect(()=>{const c=r.current;if(c)return Am(c)},[]),_.jsx(gd,{as:ss,allowPinchZoom:!0,children:_.jsx(DD,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(t.onCloseAutoFocus,c=>{var d;c.preventDefault(),o.current||(d=n.triggerRef.current)==null||d.focus()}),onPointerDownOutside:we(t.onPointerDownOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,p=d.button===2||h;o.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:we(t.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),DH=b.forwardRef((t,e)=>{const n=ba(Kl,t.__scopePopover),r=b.useRef(!1),a=b.useRef(!1);return _.jsx(DD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=t.onCloseAutoFocus)==null||c.call(t,o),o.defaultPrevented||(r.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{var h,p;(h=t.onInteractOutside)==null||h.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=o.target;((p=n.triggerRef.current)==null?void 0:p.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),DD=b.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:y,...v}=t,E=ba(Kl,n),x=Td(n);return wm(),_.jsx(hd,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:_.jsx(fd,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:y,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:p,onDismiss:()=>E.onOpenChange(!1),children:_.jsx(v_,{"data-state":ID(E.open),role:"dialog",id:E.contentId,...x,...v,ref:e,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ND="PopoverClose",NH=b.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,a=ba(ND,n);return _.jsx(qe.button,{type:"button",...r,ref:e,onClick:we(t.onClick,()=>a.onOpenChange(!1))})});NH.displayName=ND;var IH="PopoverArrow",MH=b.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,a=Td(n);return _.jsx(__,{...a,...r,ref:e})});MH.displayName=IH;function ID(t){return t?"open":"closed"}var OH=TD,kH=AD,PH=CD,MD=RD;const OD=OH,kD=kH,q_=b.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},a)=>_.jsx(PH,{children:_.jsx(MD,{ref:a,align:e,sideOffset:n,className:Be("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));q_.displayName=MD.displayName;function Gh({value:t,onChange:e,placeholder:n="Selecionar data...",label:r}){const[a,o]=b.useState(!1);return _.jsxs("div",{className:"flex flex-col gap-2",children:[r&&_.jsx("span",{className:"text-sm font-medium",children:r}),_.jsxs(OD,{open:a,onOpenChange:o,children:[_.jsx(kD,{asChild:!0,children:_.jsxs(pt,{variant:"outline",className:Be("w-full justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[_.jsx(rA,{className:"mr-2 h-4 w-4"}),t?U_(t,"PPP",{locale:B_}):n]})}),_.jsx(q_,{className:"w-auto p-0",align:"start",children:_.jsx(bD,{mode:"single",selected:t||void 0,onSelect:c=>e(c||null),initialFocus:!0})})]})]})}function VH({selectedCategory:t,onSelect:e}){const[n,r]=b.useState([]),{user:a}=wi();return b.useEffect(()=>{if(!a)return;const o=ga(On(Tt,"categories"),ya("userId","==",a.uid)),c=va(o,d=>{const h=[];d.forEach(p=>{const y=p.data();h.push({id:p.id,name:y.name,userId:y.userId,color:y.color})}),r(h)});return()=>c()},[a]),_.jsxs(N_,{value:t||"",onValueChange:o=>e(o||null),children:[_.jsx(Om,{children:_.jsx(I_,{placeholder:"Selecionar categoria..."})}),_.jsxs(km,{children:[_.jsx(oo,{value:"",children:"Sem categoria"}),n.map(o=>_.jsxs(oo,{value:o.id,className:"flex items-center gap-2",children:[o.color&&_.jsx("div",{className:`w-2 h-2 rounded-full ${o.color}`}),o.name]},o.id))]})]})}const fy={priority:null,categoryId:null,dateRange:{from:null,to:null}};function LH({onFilterChange:t}){const[e,n]=b.useState(!1),[r,a]=b.useState(fy),o=h=>{const p={...r,...h,dateRange:{...r.dateRange,...h.dateRange||{}}};a(p),t(p)},c=()=>{a(fy),t(fy),n(!1)},d=[r.priority,r.categoryId,r.dateRange.from,r.dateRange.to].filter(Boolean).length;return _.jsxs(cc,{open:e,onOpenChange:n,children:[_.jsx(uc,{asChild:!0,children:_.jsxs(pt,{variant:"outline",size:"icon",className:"relative",children:[_.jsx(hU,{className:"h-4 w-4"}),d>0&&_.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-primary text-xs flex items-center justify-center text-primary-foreground",children:d})]})}),_.jsxs(Co,{align:"end",className:"w-80",children:[_.jsxs("div",{className:"p-4 space-y-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-medium",children:"Prioridade"}),_.jsx(M_,{value:r.priority||"medium",onChange:h=>o({priority:h})})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-medium",children:"Categoria"}),_.jsx(VH,{selectedCategory:r.categoryId,onSelect:h=>o({categoryId:h})})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-medium",children:"Data Inicial"}),_.jsx(Gh,{value:r.dateRange.from,onChange:h=>o({dateRange:{...r.dateRange,from:h}}),placeholder:"Data inicial..."})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-medium",children:"Data Final"}),_.jsx(Gh,{value:r.dateRange.to,onChange:h=>o({dateRange:{...r.dateRange,to:h}}),placeholder:"Data final..."})]})]}),_.jsx(VC,{}),_.jsx(vo,{className:"text-center cursor-pointer",onClick:c,children:"Limpar filtros"})]})]})}function jH({onShare:t,listId:e}){const[n,r]=b.useState(""),[a,o]=b.useState("read"),[c,d]=b.useState(!1),h=async()=>{if(n.trim())try{await t(e,n.trim(),a),r(""),d(!1)}catch(p){console.error("Error sharing list:",p)}};return _.jsxs(Mu,{open:c,onOpenChange:d,children:[_.jsx(Ou,{asChild:!0,children:_.jsx(pt,{variant:"outline",size:"icon",children:_.jsx(fU,{className:"h-4 w-4"})})}),_.jsxs(Ol,{children:[_.jsx(kl,{children:_.jsx(Pl,{children:"Compartilhar Lista"})}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-medium",children:"Email"}),_.jsx(mi,{type:"email",value:n,onChange:p=>r(p.target.value),placeholder:"Digite o email..."})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-medium",children:"Permissão"}),_.jsxs(N_,{value:a,onValueChange:p=>o(p),children:[_.jsx(Om,{children:_.jsx(I_,{})}),_.jsxs(km,{children:[_.jsx(oo,{value:"read",children:"Leitura"}),_.jsx(oo,{value:"write",children:"Escrita"}),_.jsx(oo,{value:"admin",children:"Administrador"})]})]})]}),_.jsx(pt,{onClick:h,disabled:!n.trim(),className:"w-full",children:"Compartilhar"})]})]})]})}function UH({list:t,selected:e,onSelect:n,onDelete:r,onShare:a}){return _.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg hover:bg-secondary/50 ${e?"bg-secondary":""}`,children:[_.jsx("button",{className:"flex-1 text-left",onClick:()=>n(t.id),children:t.title}),_.jsxs("div",{className:"flex items-center gap-2",children:[a(t),_.jsxs(cc,{children:[_.jsx(uc,{asChild:!0,children:_.jsx(pt,{variant:"ghost",size:"icon",children:_.jsx(iA,{className:"h-4 w-4"})})}),_.jsx(Co,{align:"end",children:_.jsx(vo,{className:"text-destructive",onClick:()=>r(t.id),children:"Excluir"})})]})]})]})}function BH({onSelectList:t,selectedListId:e}){const[n,r]=b.useState([]),[a,o]=b.useState(""),{user:c}=wi();b.useEffect(()=>{if(!c)return;const y=ga(On(Tt,"lists"),ya("userId","==",c.uid)),v=va(y,E=>{const x=[];E.forEach(A=>{const C=A.data();x.push({id:A.id,title:C.title,userId:C.userId,createdAt:C.createdAt.toDate()})}),r(x)});return()=>v()},[c]);const d=async()=>{if(!(!c||!a.trim()))try{await po(On(Tt,"lists"),{title:a.trim(),userId:c.uid,createdAt:Qe.now()}),o("")}catch(y){console.error("Error creating list:",y)}},h=async y=>{try{await ym(ai(Tt,"lists",y)),e===y&&t(null)}catch(v){console.error("Error deleting list:",v)}},p=async(y,v,E="read")=>{if(c)try{const x=ai(Tt,"lists",y);await qu(x,{sharedWith:Bj({email:v,permission:E,addedAt:Qe.now(),addedBy:c.uid})}),await po(On(Tt,"notifications"),{type:"LIST_SHARE",listId:y,toEmail:v,fromUserId:c.uid,permission:E,createdAt:Qe.now(),read:!1})}catch(x){throw console.error("Error sharing list:",x),x}};return _.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex gap-2",children:[_.jsx(mi,{placeholder:"Nova lista...",value:a,onChange:y=>o(y.target.value),onKeyPress:y=>y.key==="Enter"&&d()}),_.jsx(pt,{onClick:d,disabled:!a.trim(),children:_.jsx(s_,{className:"h-4 w-4"})})]}),_.jsx("div",{className:"space-y-2",children:n.map(y=>_.jsx(UH,{list:y,selected:e===y.id,onSelect:t,onDelete:h,onShare:v=>_.jsx(jH,{listId:v.id,onShare:p})},y.id))})]})}const zH=Kx("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function FH({className:t,variant:e,...n}){return _.jsx("div",{className:Be(zH({variant:e}),t),...n})}function HH(){const[t,e]=b.useState([]),[n,r]=b.useState(""),{user:a}=wi();b.useEffect(()=>{if(!a)return;const h=ga(On(Tt,"categories"),ya("userId","==",a.uid)),p=va(h,y=>{const v=[];y.forEach(E=>{const x=E.data();v.push({id:E.id,name:x.name,userId:x.userId,color:x.color||d()})}),e(v)});return()=>p()},[a]);const o=async()=>{if(!(!a||!n.trim()))try{await po(On(Tt,"categories"),{name:n.trim(),userId:a.uid,color:d()}),r("")}catch(h){console.error("Error adding category:",h)}},c=async h=>{try{await ym(ai(Tt,"categories",h))}catch(p){console.error("Error removing category:",p)}},d=()=>{const h=["bg-red-500","bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500","bg-pink-500","bg-indigo-500"];return h[Math.floor(Math.random()*h.length)]};return _.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex gap-2",children:[_.jsx(mi,{value:n,onChange:h=>r(h.target.value),placeholder:"Nova categoria...",onKeyPress:h=>h.key==="Enter"&&o()}),_.jsx(pt,{onClick:o,size:"icon",children:_.jsx(s_,{className:"h-4 w-4"})})]}),_.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(h=>_.jsxs(FH,{variant:"secondary",className:`flex items-center gap-1 ${h.color}`,children:[h.name,_.jsx(pt,{variant:"ghost",size:"icon",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>c(h.id),children:_.jsx(_m,{className:"h-3 w-3"})})]},h.id))})]})}function qH({selectedTags:t,onTagsChange:e}){const[n,r]=b.useState(""),[a,o]=b.useState("#3b82f6"),c=()=>{if(!n.trim())return;const p=n.trim().toLowerCase();if(!t.some(y=>y.name===p)){const y={id:crypto.randomUUID(),name:p,color:a};e([...t,y])}r("")},d=p=>{e(t.filter(y=>y.id!==p))},h=p=>{p.key==="Enter"&&(p.preventDefault(),c())};return _.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex gap-2",children:[_.jsx(mi,{type:"text",placeholder:"Adicionar tag...",value:n,onChange:p=>r(p.target.value),onKeyPress:h,className:"flex-1"}),_.jsx(mi,{type:"color",value:a,onChange:p=>o(p.target.value),className:"w-12 p-1 h-10"}),_.jsx(pt,{type:"button",variant:"outline",onClick:c,disabled:!n.trim(),children:"Adicionar"})]}),_.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(p=>_.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-sm",style:{backgroundColor:p.color+"20",color:p.color},children:[p.name,_.jsx("button",{type:"button",onClick:()=>d(p.id),className:"p-0.5 hover:bg-black/5 rounded",children:_.jsx(_m,{className:"h-3 w-3"})})]},p.id))})]})}var G_="Checkbox",[GH,Aq]=vi(G_),[$H,WH]=GH(G_),PD=b.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:o,required:c,disabled:d,value:h="on",onCheckedChange:p,form:y,...v}=t,[E,x]=b.useState(null),A=ut(e,H=>x(H)),C=b.useRef(!1),R=E?y||!!E.closest("form"):!0,[O=!1,D]=go({prop:a,defaultProp:o,onChange:p}),U=b.useRef(O);return b.useEffect(()=>{const H=E==null?void 0:E.form;if(H){const W=()=>D(U.current);return H.addEventListener("reset",W),()=>H.removeEventListener("reset",W)}},[E,D]),_.jsxs($H,{scope:n,state:O,disabled:d,children:[_.jsx(qe.button,{type:"button",role:"checkbox","aria-checked":na(O)?"mixed":O,"aria-required":c,"data-state":jD(O),"data-disabled":d?"":void 0,disabled:d,value:h,...v,ref:A,onKeyDown:we(t.onKeyDown,H=>{H.key==="Enter"&&H.preventDefault()}),onClick:we(t.onClick,H=>{D(W=>na(W)?!0:!W),R&&(C.current=H.isPropagationStopped(),C.current||H.stopPropagation())})}),R&&_.jsx(YH,{control:E,bubbles:!C.current,name:r,value:h,checked:O,required:c,disabled:d,form:y,style:{transform:"translateX(-100%)"},defaultChecked:na(o)?!1:o})]})});PD.displayName=G_;var VD="CheckboxIndicator",LD=b.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...a}=t,o=WH(VD,n);return _.jsx(Or,{present:r||na(o.state)||o.state===!0,children:_.jsx(qe.span,{"data-state":jD(o.state),"data-disabled":o.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});LD.displayName=VD;var YH=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:a,...o}=t,c=b.useRef(null),d=LC(n),h=wA(e);b.useEffect(()=>{const y=c.current,v=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(v,"checked").set;if(d!==n&&x){const A=new Event("click",{bubbles:r});y.indeterminate=na(n),x.call(y,na(n)?!1:n),y.dispatchEvent(A)}},[d,n,r]);const p=b.useRef(na(n)?!1:n);return _.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??p.current,...o,tabIndex:-1,ref:c,style:{...t.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function na(t){return t==="indeterminate"}function jD(t){return na(t)?"indeterminate":t?"checked":"unchecked"}var UD=PD,KH=LD;const $_=b.forwardRef(({checked:t,onCheckedChange:e,id:n,className:r,...a},o)=>_.jsx(UD,{ref:o,checked:t,onCheckedChange:e,className:Be("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-purple-600 data-[state=checked]:text-white",r),...a,children:_.jsx(KH,{className:Be("flex items-center justify-center text-current"),children:_.jsx(i_,{className:"h-4 w-4"})})}));$_.displayName=UD.displayName;function QH({selectedSubTasks:t,onSubTasksChange:e}){const[n,r]=b.useState(""),a=()=>{if(!n.trim())return;const d={id:crypto.randomUUID(),text:n.trim(),completed:!1};e([...t,d]),r("")},o=d=>{e(t.filter(h=>h.id!==d))},c=d=>{e(t.map(h=>h.id===d?{...h,completed:!h.completed}:h))};return _.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex gap-2",children:[_.jsx(mi,{type:"text",placeholder:"Adicionar subtarefa...",value:n,onChange:d=>r(d.target.value),onKeyPress:d=>d.key==="Enter"&&a(),className:"flex-1"}),_.jsx(pt,{type:"button",onClick:a,children:"Adicionar"})]}),_.jsx("div",{className:"space-y-2",children:t.map(d=>_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx($_,{checked:d.completed,onCheckedChange:()=>c(d.id)}),_.jsx("span",{className:d.completed?"line-through text-muted-foreground":"",children:d.text}),_.jsx("button",{type:"button",onClick:()=>o(d.id),className:"ml-auto p-1 hover:bg-secondary rounded",children:_.jsx(_m,{className:"h-4 w-4"})})]},d.id))})]})}function XH(){const[t,e]=b.useState(""),[n,r]=b.useState(""),[a,o]=b.useState("medium"),[c,d]=b.useState(null),[h,p]=b.useState(null),[y,v]=b.useState([]),[E,x]=b.useState([]),{user:A}=wi(),C=async R=>{if(R.preventDefault(),!(!A||!t.trim()))try{const O={title:t.trim(),description:n.trim()||void 0,completed:!1,priority:a,tags:y,subtasks:E,userId:A.uid,createdAt:Qe.now()};c&&(O.dueDate=Qe.fromDate(c)),h&&(O.reminder=Qe.fromDate(h)),await po(On(Tt,"todos"),O),e(""),r(""),o("medium"),d(null),p(null),v([]),x([])}catch(O){console.error("Error adding todo:",O)}};return _.jsxs("form",{onSubmit:C,className:"space-y-4",children:[_.jsx(mi,{placeholder:"Título da tarefa",value:t,onChange:R=>e(R.target.value),required:!0}),_.jsx(R_,{placeholder:"Descrição (opcional)",value:n,onChange:R=>r(R.target.value)}),_.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[_.jsx(M_,{value:a,onChange:o}),_.jsx(Gh,{label:"Data de vencimento",value:c,onChange:d}),_.jsx(Gh,{label:"Lembrete",value:h,onChange:p})]}),_.jsx(qH,{selectedTags:y,onTagsChange:v}),_.jsx(QH,{selectedSubTasks:E,onSubTasksChange:x}),_.jsx(pt,{type:"submit",disabled:!t.trim(),className:"w-full",children:"Adicionar Tarefa"})]})}const ra=b.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:Be("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ra.displayName="Card";const lo=b.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:Be("flex flex-col space-y-1.5 p-6",t),...e}));lo.displayName="CardHeader";const co=b.forwardRef(({className:t,...e},n)=>_.jsx("h3",{ref:n,className:Be("text-2xl font-semibold leading-none tracking-tight",t),...e}));co.displayName="CardTitle";const ZH=b.forwardRef(({className:t,...e},n)=>_.jsx("p",{ref:n,className:Be("text-sm text-muted-foreground",t),...e}));ZH.displayName="CardDescription";const uo=b.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:Be("p-6 pt-0",t),...e}));uo.displayName="CardContent";const JH=b.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:Be("flex items-center p-6 pt-0",t),...e}));JH.displayName="CardFooter";const eq=t=>{const e=t.data();return{id:t.id,name:e.name,color:e.color,icon:e.icon,userId:e.userId,createdAt:e.createdAt,updatedAt:e.updatedAt}};function tq(){const[t,e]=b.useState([]),[n,r]=b.useState(!0),{user:a}=n_();return b.useEffect(()=>{if(!(a!=null&&a.uid)){e([]),r(!1);return}const o=ga(On(Tt,"categories"),ya("userId","==",a.uid)),c=va(o,d=>{const h=d.docs.map(eq);e(h),r(!1)});return()=>c()},[a==null?void 0:a.uid]),{categories:t,loading:n}}const nq=t=>{const e=t.data();return{id:t.id,name:e.name,color:e.color,icon:e.icon,createdBy:e.createdBy,members:e.members||[],createdAt:e.createdAt,updatedAt:e.updatedAt,todos:[]}},rq=t=>{const{id:e,todos:n,...r}=t,a=n==null?void 0:n.map(c=>c.id);return{...r,todos:a,updatedAt:Qe.now()}};function iq(){const[t,e]=b.useState([]),[n,r]=b.useState(!0),[a,o]=b.useState(null),{user:c}=wi();return b.useEffect(()=>{if(!c){e([]),r(!1);return}const y=ga(On(Tt,"lists"),ya("members","array-contains",{userId:c.uid})),v=va(y,E=>{const x=E.docs.map(nq);e(x),r(!1)},E=>{o(E.message),r(!1)});return()=>v()},[c]),{lists:t,loading:n,error:a,addList:async(y,v,E)=>{try{if(!c)throw new Error("User not authenticated");const x={userId:c.uid,email:c.email,permission:"admin"},A={name:y,color:v,icon:E,createdBy:c.uid,members:[x],createdAt:Qe.now(),updatedAt:Qe.now(),todos:[]};await po(On(Tt,"lists"),A)}catch(x){throw x instanceof Error?o(x.message):o("Error creating list"),x}},updateList:async(y,v)=>{try{const E=ai(Tt,"lists",y);await qu(E,rq(v))}catch(E){throw E instanceof Error?o(E.message):o("Error updating list"),E}},deleteList:async y=>{try{await ym(ai(Tt,"lists",y))}catch(v){throw v instanceof Error?o(v.message):o("Error deleting list"),v}}}}const sq={low:"bg-blue-500",medium:"bg-yellow-500",high:"bg-red-500"},aq={low:"Baixa",medium:"Média",high:"Alta"};function oq({todo:t,onToggleComplete:e,onDelete:n,onUpdate:r}){const{categories:a}=tq(),{lists:o}=iq(),c=a.find(h=>h.id===t.categoryId),d=o.find(h=>h.id===t.listId);return _.jsx(ra,{className:"p-4",children:_.jsxs("div",{className:"flex items-start gap-4",children:[_.jsx($_,{checked:t.completed,onCheckedChange:e,className:"mt-1"}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsxs("div",{className:"flex items-start justify-between gap-2",children:[_.jsx("span",{className:Be("font-medium",t.completed&&"line-through text-muted-foreground"),children:t.title}),_.jsxs(cc,{children:[_.jsx(uc,{asChild:!0,children:_.jsx(pt,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:_.jsx(iA,{className:"h-4 w-4"})})}),_.jsx(Co,{align:"end",children:_.jsx(vo,{onClick:n,className:"text-red-600",children:"Delete"})})]})]}),_.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2 text-sm text-muted-foreground",children:[_.jsxs("div",{className:"flex items-center gap-1.5",children:[_.jsx("div",{className:Be("w-2 h-2 rounded-full",sq[t.priority])}),_.jsx("span",{children:aq[t.priority]})]}),d&&_.jsxs("div",{className:"flex items-center gap-1.5",children:[_.jsx(lU,{className:"h-3 w-3"}),_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:d.color}}),_.jsx("span",{children:d.name})]})]}),c&&_.jsxs("div",{className:"flex items-center gap-1.5",children:[_.jsx(pU,{className:"h-3 w-3"}),_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:c.color}}),_.jsx("span",{children:c.name})]})]}),t.dueDate&&_.jsxs("div",{className:"flex items-center gap-1.5",children:[_.jsx(rA,{className:"h-3 w-3"}),_.jsx("span",{children:U_(t.dueDate,"dd 'de' MMM",{locale:B_})})]})]}),t.subtasks.length>0&&_.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:[t.subtasks.filter(h=>h.completed).length," de ",t.subtasks.length," subtarefas completas"]})]})]})})}const gS={high:3,medium:2,low:1},lq=t=>{var n,r,a;const e=t.data();return{id:t.id,title:e.title,description:e.description,completed:e.completed,priority:e.priority,dueDate:(n=e.dueDate)==null?void 0:n.toDate(),reminder:(r=e.reminder)==null?void 0:r.toDate(),listId:e.listId,categoryId:e.categoryId,tags:e.tags||[],subtasks:e.subtasks||[],userId:e.userId,createdAt:e.createdAt.toDate(),updatedAt:(a=e.updatedAt)==null?void 0:a.toDate()}},yS=t=>{const e={...t,dueDate:t.dueDate?Qe.fromDate(t.dueDate):void 0,reminder:t.reminder?Qe.fromDate(t.reminder):void 0,createdAt:t.createdAt?Qe.fromDate(t.createdAt):Qe.now(),updatedAt:Qe.now()};return delete e.id,e};function BD(){const[t,e]=b.useState([]),[n,r]=b.useState(!0),[a,o]=b.useState(null),{user:c}=wi();return b.useEffect(()=>{if(!c){e([]),r(!1);return}const v=ga(On(Tt,"todos"),ya("userId","==",c.uid)),E=va(v,x=>{const A=x.docs.map(lq);e(A),r(!1)},x=>{o(x.message),r(!1)});return()=>E()},[c]),{todos:t,loading:n,error:a,addTodo:async v=>{try{if(!c)throw new Error("User not authenticated");const E={...yS(v),userId:c.uid,completed:!1,priority:v.priority||"medium",tags:v.tags||[],subtasks:v.subtasks||[]};await po(On(Tt,"todos"),E)}catch(E){E instanceof Error?o(E.message):o("Error adding todo")}},toggleTodo:async(v,E)=>{try{const x=ai(Tt,"todos",v);await qu(x,{completed:E,updatedAt:Qe.now()})}catch(x){x instanceof Error?o(x.message):o("Error updating todo")}},updateTodo:async(v,E)=>{try{const x=ai(Tt,"todos",v);await qu(x,yS(E))}catch(x){x instanceof Error?o(x.message):o("Error updating todo")}},deleteTodo:async v=>{try{await ym(ai(Tt,"todos",v))}catch(E){E instanceof Error?o(E.message):o("Error deleting todo")}}}}function cq(){const{user:t,loading:e}=n_(),{todos:n,toggleTodo:r,deleteTodo:a,updateTodo:o}=BD(),[c,d]=b.useState(""),[h,p]=b.useState("ALL"),[y,v]=b.useState("createdAt"),[E,x]=b.useState(!1),[A,C]=b.useState(!1),[R,O]=b.useState(!1),[D,U]=b.useState(null),H=k=>{U(k),C(!1)},Z=(k=>[...k].sort((N,I)=>{switch(y){case"priority":return gS[I.priority]-gS[N.priority];case"dueDate":return!N.dueDate&&!I.dueDate?0:N.dueDate?I.dueDate?I.dueDate.valueOf()-N.dueDate.valueOf():-1:1;case"createdAt":return I.createdAt.valueOf()-N.createdAt.valueOf();default:return 0}}))(n.filter(k=>{switch(h){case"ACTIVE":return!k.completed;case"COMPLETED":return k.completed;default:return!0}})).filter(k=>{var I;return k.title.toLowerCase().includes(c.toLowerCase())||((I=k.tags)==null?void 0:I.some(V=>V.name.toLowerCase().includes(c.toLowerCase())))});return e?_.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:_.jsx("p",{children:"Loading..."})}):t?_.jsxs("div",{className:"min-h-screen bg-background",children:[_.jsx(nz,{}),_.jsxs("main",{className:"container mx-auto py-6 space-y-6",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("div",{className:"relative",children:[_.jsx(dU,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),_.jsx(mi,{placeholder:"Search tasks...",value:c,onChange:k=>d(k.target.value),className:"pl-10 w-[300px]"})]}),_.jsx(LH,{onFilterChange:()=>{}})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs(Mu,{open:A,onOpenChange:C,children:[_.jsx(Ou,{asChild:!0,children:_.jsx(pt,{variant:"outline",children:"Manage Lists"})}),_.jsxs(Ol,{className:"sm:max-w-[600px]",children:[_.jsx(kl,{children:_.jsx(Pl,{children:"Manage Lists"})}),_.jsx(BH,{onSelectList:H,selectedListId:D})]})]}),_.jsxs(Mu,{open:R,onOpenChange:O,children:[_.jsx(Ou,{asChild:!0,children:_.jsx(pt,{variant:"outline",children:"Manage Categories"})}),_.jsxs(Ol,{className:"sm:max-w-[600px]",children:[_.jsx(kl,{children:_.jsx(Pl,{children:"Manage Categories"})}),_.jsx(HH,{})]})]}),_.jsxs(Mu,{open:E,onOpenChange:x,children:[_.jsx(Ou,{asChild:!0,children:_.jsxs(pt,{children:[_.jsx(s_,{className:"h-4 w-4 mr-2"}),"Add Task"]})}),_.jsxs(Ol,{children:[_.jsx(kl,{children:_.jsx(Pl,{children:"Add New Task"})}),_.jsx(XH,{})]})]})]})]}),_.jsx("div",{className:"space-y-4",children:Z.map(k=>_.jsx(oq,{todo:k,onToggleComplete:()=>r(k.id,!k.completed),onDelete:()=>a(k.id),onUpdate:N=>o(k.id,N)},k.id))})]})]}):_.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center gap-4",children:[_.jsx("h1",{className:"text-4xl font-bold",children:"Todo App"}),_.jsx("p",{className:"text-muted-foreground",children:"Please sign in to continue"}),_.jsx(pt,{children:"Sign In"})]})}function zD(){const[t,e]=b.useState(()=>localStorage.getItem("theme")||"system"),n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";return b.useEffect(()=>{const r=window.document.documentElement,a=t==="system"?n:t;r.classList.remove("light","dark"),r.classList.add(a),localStorage.setItem("theme",t)},[t,n]),b.useEffect(()=>{const r=window.matchMedia("(prefers-color-scheme: dark)"),a=()=>{if(t==="system"){const o=window.document.documentElement,c=r.matches?"dark":"light";o.classList.remove("light","dark"),o.classList.add(c)}};return r.addEventListener("change",a),()=>r.removeEventListener("change",a)},[t]),{theme:t,setTheme:e,systemTheme:n,isDark:t==="system"?n==="dark":t==="dark"}}function uq(){const[t,e]=b.useState([]),[n,r]=b.useState(0),{user:a}=wi();b.useEffect(()=>{if(!a)return;const c=ga(On(Tt,"notifications"),ya("userId","==",a.uid)),d=va(c,h=>{const p=h.docs.map(y=>{const v=y.data();return{id:y.id,message:v.message,read:v.read,createdAt:v.createdAt,userId:v.userId}});e(p),r(p.filter(y=>!y.read).length),"Notification"in window&&Notification.permission==="granted"&&p.filter(y=>!y.read).forEach(y=>{new Notification("Nova notificação",{body:y.message})})});return()=>d()},[a]);const o=async c=>{if(a)try{const d=ai(Tt,"notifications",c);await qu(d,{read:!0,updatedAt:Qe.now()})}catch(d){console.error("Error marking notification as read:",d)}};return _.jsxs(OD,{children:[_.jsx(kD,{asChild:!0,children:_.jsxs(pt,{variant:"ghost",size:"icon",className:"relative",children:[_.jsx(nU,{className:"h-5 w-5"}),n>0&&_.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-red-500 text-xs text-white flex items-center justify-center",children:n})]})}),_.jsx(q_,{align:"end",className:"w-80",children:_.jsxs("div",{className:"space-y-4",children:[_.jsx("h4",{className:"font-medium",children:"Notificações"}),_.jsx("div",{className:"space-y-2",children:t.length===0?_.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma notificação"}):t.map(c=>_.jsxs("div",{className:`p-3 rounded-lg ${c.read?"bg-muted":"bg-primary/10"} cursor-pointer`,onClick:()=>o(c.id),children:[_.jsx("p",{className:"text-sm",children:c.message}),_.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:c.createdAt.toDate().toLocaleString()})]},c.id))})]})})]})}function vS({data:t}){zD();const e=Math.max(...t.map(n=>n.value));return _.jsx("div",{className:"space-y-2",children:t.map((n,r)=>_.jsxs("div",{className:"space-y-1",children:[_.jsxs("div",{className:"flex justify-between text-sm",children:[_.jsx("span",{children:n.label}),_.jsx("span",{children:n.value})]}),_.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:_.jsx("div",{className:"h-full bg-slate-400 transition-all duration-500",style:{width:`${n.value/e*100}%`,backgroundColor:r===0?"#16a34a":"#dc2626"}})})]},n.label))})}function dq({todos:t,categories:e}){const n=b.useMemo(()=>{const r=t.length,a=t.filter(p=>p.completed).length,o=r-a,c=r>0?a/r*100:0,d=e.map(p=>({label:p.name,value:t.filter(y=>y.categoryId===p.id).length,color:p.color})),h=Array.from({length:7},(p,y)=>{const v=new Date;return v.setDate(v.getDate()-v.getDay()+y),{label:v.toLocaleDateString("pt-BR",{weekday:"short"}),value:t.filter(E=>new Date(E.createdAt).getDay()===y).length}});return{total:r,completed:a,pending:o,completionRate:c,byCategory:d,byWeekday:h}},[t,e]);return _.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[_.jsxs(ra,{children:[_.jsx(lo,{children:_.jsx(co,{children:"Progresso Geral"})}),_.jsx(uo,{children:_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{children:"Taxa de Conclusão"}),_.jsxs("span",{children:[n.completionRate.toFixed(1),"%"]})]}),_.jsx("div",{className:"h-2 bg-slate-200 rounded-full overflow-hidden",children:_.jsx("div",{className:"h-full bg-green-500 transition-all",style:{width:`${n.completionRate}%`}})}),_.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-slate-500",children:"Pendentes"}),_.jsx("p",{className:"text-2xl font-bold",children:n.pending})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-slate-500",children:"Concluídas"}),_.jsx("p",{className:"text-2xl font-bold",children:n.completed})]})]})]})})]}),_.jsxs(ra,{children:[_.jsx(lo,{children:_.jsx(co,{children:"Por Categoria"})}),_.jsx(uo,{children:_.jsx(vS,{data:n.byCategory})})]}),_.jsxs(ra,{children:[_.jsx(lo,{children:_.jsx(co,{children:"Atividade Semanal"})}),_.jsx(uo,{children:_.jsx(vS,{data:n.byWeekday})})]})]})}const _S=[{id:"casa",name:"Casa",color:"#16a34a"},{id:"trabalho",name:"Trabalho",color:"#2563eb"},{id:"pessoal",name:"Pessoal",color:"#9333ea"},{id:"urgente",name:"Urgente",color:"#dc2626"},{id:"compras",name:"Compras",color:"#ca8a04"}];function fq(){const{user:t,loading:e,signOut:n,signInWithGoogle:r}=n_(),{isDark:a,setTheme:o}=zD(),{todos:c,loading:d}=BD(),h=()=>{o(a?"light":"dark")};return e||d?_.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:_.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t?_.jsx("div",{className:"min-h-screen bg-background p-4",children:_.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[_.jsxs("header",{className:"flex items-center justify-between mb-6",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx(cv,{to:"/",children:_.jsx(pt,{variant:"ghost",size:"icon",children:_.jsx(sU,{className:"h-4 w-4"})})}),_.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[_.jsx(rU,{className:"h-6 w-6"}),"Dashboard"]})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx(uq,{}),_.jsxs(cc,{children:[_.jsx(uc,{asChild:!0,children:_.jsx(pt,{variant:"ghost",size:"icon",className:"relative h-9 w-9 rounded-full",children:_.jsx(j_,{user:t})})}),_.jsxs(Co,{align:"end",className:"w-56",children:[_.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:_.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[(t==null?void 0:t.displayName)&&_.jsx("p",{className:"font-medium",children:t.displayName}),(t==null?void 0:t.email)&&_.jsx("p",{className:"w-[200px] truncate text-sm text-muted-foreground",children:t.email})]})}),_.jsxs(vo,{onClick:h,className:"cursor-pointer",children:[a?_.jsx(mU,{className:"mr-2 h-4 w-4"}):_.jsx(uU,{className:"mr-2 h-4 w-4"}),_.jsx("span",{children:a?"Light Mode":"Dark Mode"})]}),_.jsxs(vo,{onClick:()=>n(),className:"cursor-pointer text-red-600",children:[_.jsx(sA,{className:"mr-2 h-4 w-4"}),_.jsx("span",{children:"Sair"})]})]})]})]})]}),_.jsxs("div",{className:"grid gap-6",children:[_.jsx(dq,{todos:c,categories:_S}),_.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[_.jsxs(ra,{children:[_.jsx(lo,{children:_.jsx(co,{children:"Produtividade"})}),_.jsx(uo,{children:_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{children:"Média diária"}),_.jsxs("span",{children:[(c.filter(p=>p.completed).length/7).toFixed(1)," tarefas"]})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{children:"Melhor dia"}),_.jsx("span",{children:"Segunda-feira"})]})]})})]}),_.jsxs(ra,{children:[_.jsx(lo,{children:_.jsx(co,{children:"Tempo Médio"})}),_.jsx(uo,{children:_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{children:"Conclusão"}),_.jsx("span",{children:"2.5 dias"})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{children:"Atraso"}),_.jsx("span",{children:"1.2 dias"})]})]})})]}),_.jsxs(ra,{children:[_.jsx(lo,{children:_.jsx(co,{children:"Categorias"})}),_.jsx(uo,{children:_.jsx("div",{className:"space-y-4",children:_S.map(p=>_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:p.color}}),_.jsx("span",{children:p.name})]}),_.jsx("span",{children:c.filter(y=>y.categoryId===p.id).length})]},p.id))})})]})]})]})]})}):_.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center gap-4",children:[_.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Welcome to Todo App"}),_.jsx("p",{className:"text-muted-foreground",children:"Please sign in to continue"}),_.jsx(pt,{onClick:()=>r(),children:"Sign in with Google"})]})}function hq(){return _.jsx(jM,{children:_.jsxs(mM,{children:[_.jsx(my,{path:"/",element:_.jsx(cq,{})}),_.jsx(my,{path:"/dashboard",element:_.jsx(fq,{})})]})})}const mq=TI.createRoot(document.getElementById("root"));mq.render(_.jsx(pe.StrictMode,{children:_.jsx(hq,{})}));
