function IN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function dv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hg={exports:{}},_u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eb;function DN(){if(eb)return _u;eb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:t,type:r,key:c,ref:s!==void 0?s:null,props:o}}return _u.Fragment=e,_u.jsx=n,_u.jsxs=n,_u}var tb;function NN(){return tb||(tb=1,Hg.exports=DN()),Hg.exports}var _=NN(),qg={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nb;function ON(){if(nb)return ze;nb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function b(F){return F===null||typeof F!="object"?null:(F=v&&F[v]||F["@@iterator"],typeof F=="function"?F:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,R={};function C(F,ee,he){this.props=F,this.context=ee,this.refs=R,this.updater=he||A}C.prototype.isReactComponent={},C.prototype.setState=function(F,ee){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ee,"setState")},C.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function I(){}I.prototype=C.prototype;function D(F,ee,he){this.props=F,this.context=ee,this.refs=R,this.updater=he||A}var j=D.prototype=new I;j.constructor=D,x(j,C.prototype),j.isPureReactComponent=!0;var H=Array.isArray,$={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function k(F,ee,he,fe,de,Ce){return he=Ce.ref,{$$typeof:t,type:F,key:ee,ref:he!==void 0?he:null,props:Ce}}function N(F,ee){return k(F.type,ee,void 0,void 0,void 0,F.props)}function O(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function L(F){var ee={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(he){return ee[he]})}var z=/\/+/g;function B(F,ee){return typeof F=="object"&&F!==null&&F.key!=null?L(""+F.key):ee.toString(36)}function V(){}function ye(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(V,V):(F.status="pending",F.then(function(ee){F.status==="pending"&&(F.status="fulfilled",F.value=ee)},function(ee){F.status==="pending"&&(F.status="rejected",F.reason=ee)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function Ae(F,ee,he,fe,de){var Ce=typeof F;(Ce==="undefined"||Ce==="boolean")&&(F=null);var Te=!1;if(F===null)Te=!0;else switch(Ce){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(F.$$typeof){case t:case e:Te=!0;break;case y:return Te=F._init,Ae(Te(F._payload),ee,he,fe,de)}}if(Te)return de=de(F),Te=fe===""?"."+B(F,0):fe,H(de)?(he="",Te!=null&&(he=Te.replace(z,"$&/")+"/"),Ae(de,ee,he,"",function(Ie){return Ie})):de!=null&&(O(de)&&(de=N(de,he+(de.key==null||F&&F.key===de.key?"":(""+de.key).replace(z,"$&/")+"/")+Te)),ee.push(de)),1;Te=0;var me=fe===""?".":fe+":";if(H(F))for(var _e=0;_e<F.length;_e++)fe=F[_e],Ce=me+B(fe,_e),Te+=Ae(fe,ee,he,Ce,de);else if(_e=b(F),typeof _e=="function")for(F=_e.call(F),_e=0;!(fe=F.next()).done;)fe=fe.value,Ce=me+B(fe,_e++),Te+=Ae(fe,ee,he,Ce,de);else if(Ce==="object"){if(typeof F.then=="function")return Ae(ye(F),ee,he,fe,de);throw ee=String(F),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Te}function J(F,ee,he){if(F==null)return F;var fe=[],de=0;return Ae(F,fe,"","",function(Ce){return ee.call(he,Ce,de++)}),fe}function ce(F){if(F._status===-1){var ee=F._result;ee=ee(),ee.then(function(he){(F._status===0||F._status===-1)&&(F._status=1,F._result=he)},function(he){(F._status===0||F._status===-1)&&(F._status=2,F._result=he)}),F._status===-1&&(F._status=0,F._result=ee)}if(F._status===1)return F._result.default;throw F._result}var ie=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function ae(){}return ze.Children={map:J,forEach:function(F,ee,he){J(F,function(){ee.apply(this,arguments)},he)},count:function(F){var ee=0;return J(F,function(){ee++}),ee},toArray:function(F){return J(F,function(ee){return ee})||[]},only:function(F){if(!O(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},ze.Component=C,ze.Fragment=n,ze.Profiler=s,ze.PureComponent=D,ze.StrictMode=r,ze.Suspense=f,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,ze.act=function(){throw Error("act(...) is not supported in production builds of React.")},ze.cache=function(F){return function(){return F.apply(null,arguments)}},ze.cloneElement=function(F,ee,he){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var fe=x({},F.props),de=F.key,Ce=void 0;if(ee!=null)for(Te in ee.ref!==void 0&&(Ce=void 0),ee.key!==void 0&&(de=""+ee.key),ee)!Z.call(ee,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&ee.ref===void 0||(fe[Te]=ee[Te]);var Te=arguments.length-2;if(Te===1)fe.children=he;else if(1<Te){for(var me=Array(Te),_e=0;_e<Te;_e++)me[_e]=arguments[_e+2];fe.children=me}return k(F.type,de,void 0,void 0,Ce,fe)},ze.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:o,_context:F},F},ze.createElement=function(F,ee,he){var fe,de={},Ce=null;if(ee!=null)for(fe in ee.key!==void 0&&(Ce=""+ee.key),ee)Z.call(ee,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(de[fe]=ee[fe]);var Te=arguments.length-2;if(Te===1)de.children=he;else if(1<Te){for(var me=Array(Te),_e=0;_e<Te;_e++)me[_e]=arguments[_e+2];de.children=me}if(F&&F.defaultProps)for(fe in Te=F.defaultProps,Te)de[fe]===void 0&&(de[fe]=Te[fe]);return k(F,Ce,void 0,void 0,null,de)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(F){return{$$typeof:d,render:F}},ze.isValidElement=O,ze.lazy=function(F){return{$$typeof:y,_payload:{_status:-1,_result:F},_init:ce}},ze.memo=function(F,ee){return{$$typeof:m,type:F,compare:ee===void 0?null:ee}},ze.startTransition=function(F){var ee=$.T,he={};$.T=he;try{var fe=F(),de=$.S;de!==null&&de(he,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ae,ie)}catch(Ce){ie(Ce)}finally{$.T=ee}},ze.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},ze.use=function(F){return $.H.use(F)},ze.useActionState=function(F,ee,he){return $.H.useActionState(F,ee,he)},ze.useCallback=function(F,ee){return $.H.useCallback(F,ee)},ze.useContext=function(F){return $.H.useContext(F)},ze.useDebugValue=function(){},ze.useDeferredValue=function(F,ee){return $.H.useDeferredValue(F,ee)},ze.useEffect=function(F,ee){return $.H.useEffect(F,ee)},ze.useId=function(){return $.H.useId()},ze.useImperativeHandle=function(F,ee,he){return $.H.useImperativeHandle(F,ee,he)},ze.useInsertionEffect=function(F,ee){return $.H.useInsertionEffect(F,ee)},ze.useLayoutEffect=function(F,ee){return $.H.useLayoutEffect(F,ee)},ze.useMemo=function(F,ee){return $.H.useMemo(F,ee)},ze.useOptimistic=function(F,ee){return $.H.useOptimistic(F,ee)},ze.useReducer=function(F,ee,he){return $.H.useReducer(F,ee,he)},ze.useRef=function(F){return $.H.useRef(F)},ze.useState=function(F){return $.H.useState(F)},ze.useSyncExternalStore=function(F,ee,he){return $.H.useSyncExternalStore(F,ee,he)},ze.useTransition=function(){return $.H.useTransition()},ze.version="19.0.0",ze}var rb;function fv(){return rb||(rb=1,qg.exports=ON()),qg.exports}var E=fv();const pe=dv(E),MN=IN({__proto__:null,default:pe},[E]);var Gg={exports:{}},wu={},Wg={exports:{}},$g={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib;function kN(){return ib||(ib=1,function(t){function e(J,ce){var ie=J.length;J.push(ce);e:for(;0<ie;){var ae=ie-1>>>1,F=J[ae];if(0<s(F,ce))J[ae]=ce,J[ie]=F,ie=ae;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ce=J[0],ie=J.pop();if(ie!==ce){J[0]=ie;e:for(var ae=0,F=J.length,ee=F>>>1;ae<ee;){var he=2*(ae+1)-1,fe=J[he],de=he+1,Ce=J[de];if(0>s(fe,ie))de<F&&0>s(Ce,fe)?(J[ae]=Ce,J[de]=ie,ae=de):(J[ae]=fe,J[he]=ie,ae=he);else if(de<F&&0>s(Ce,ie))J[ae]=Ce,J[de]=ie,ae=de;else break e}}return ce}function s(J,ce){var ie=J.sortIndex-ce.sortIndex;return ie!==0?ie:J.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],m=[],y=1,v=null,b=3,A=!1,x=!1,R=!1,C=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function j(J){for(var ce=n(m);ce!==null;){if(ce.callback===null)r(m);else if(ce.startTime<=J)r(m),ce.sortIndex=ce.expirationTime,e(f,ce);else break;ce=n(m)}}function H(J){if(R=!1,j(J),!x)if(n(f)!==null)x=!0,ye();else{var ce=n(m);ce!==null&&Ae(H,ce.startTime-J)}}var $=!1,Z=-1,k=5,N=-1;function O(){return!(t.unstable_now()-N<k)}function L(){if($){var J=t.unstable_now();N=J;var ce=!0;try{e:{x=!1,R&&(R=!1,I(Z),Z=-1),A=!0;var ie=b;try{t:{for(j(J),v=n(f);v!==null&&!(v.expirationTime>J&&O());){var ae=v.callback;if(typeof ae=="function"){v.callback=null,b=v.priorityLevel;var F=ae(v.expirationTime<=J);if(J=t.unstable_now(),typeof F=="function"){v.callback=F,j(J),ce=!0;break t}v===n(f)&&r(f),j(J)}else r(f);v=n(f)}if(v!==null)ce=!0;else{var ee=n(m);ee!==null&&Ae(H,ee.startTime-J),ce=!1}}break e}finally{v=null,b=ie,A=!1}ce=void 0}}finally{ce?z():$=!1}}}var z;if(typeof D=="function")z=function(){D(L)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,V=B.port2;B.port1.onmessage=L,z=function(){V.postMessage(null)}}else z=function(){C(L,0)};function ye(){$||($=!0,z())}function Ae(J,ce){Z=C(function(){J(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){x||A||(x=!0,ye())},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(J){switch(b){case 1:case 2:case 3:var ce=3;break;default:ce=b}var ie=b;b=ce;try{return J()}finally{b=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,ce){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ie=b;b=J;try{return ce()}finally{b=ie}},t.unstable_scheduleCallback=function(J,ce,ie){var ae=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ae+ie:ae):ie=ae,J){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ie+F,J={id:y++,callback:ce,priorityLevel:J,startTime:ie,expirationTime:F,sortIndex:-1},ie>ae?(J.sortIndex=ie,e(m,J),n(f)===null&&J===n(m)&&(R?(I(Z),Z=-1):R=!0,Ae(H,ie-ae))):(J.sortIndex=F,e(f,J),x||A||(x=!0,ye())),J},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(J){var ce=b;return function(){var ie=b;b=ce;try{return J.apply(this,arguments)}finally{b=ie}}}}($g)),$g}var sb;function PN(){return sb||(sb=1,Wg.exports=kN()),Wg.exports}var Yg={exports:{}},Tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ab;function LN(){if(ab)return Tn;ab=1;var t=fv();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:f,containerInfo:m,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tn.createPortal=function(f,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(f,m,null,y)},Tn.flushSync=function(f){var m=c.T,y=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=m,r.p=y,r.d.f()}},Tn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},Tn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Tn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var y=m.as,v=d(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:A}):y==="script"&&r.d.X(f,{crossOrigin:v,integrity:b,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Tn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=d(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},Tn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=d(y,m.crossOrigin);r.d.L(f,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Tn.preloadModule=function(f,m){if(typeof f=="string")if(m){var y=d(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},Tn.requestFormReset=function(f){r.d.r(f)},Tn.unstable_batchedUpdates=function(f,m){return f(m)},Tn.useFormState=function(f,m,y){return c.H.useFormState(f,m,y)},Tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tn.version="19.0.0",Tn}var ob;function IS(){if(ob)return Yg.exports;ob=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yg.exports=LN(),Yg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lb;function VN(){if(lb)return wu;lb=1;var t=PN(),e=fv(),n=IS();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var o=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),A=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),H=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function Z(i){return i===null||typeof i!="object"?null:(i=$&&i[$]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function N(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case f:return"Fragment";case d:return"Portal";case y:return"Profiler";case m:return"StrictMode";case R:return"Suspense";case C:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case A:return(i.displayName||"Context")+".Provider";case b:return(i._context.displayName||"Context")+".Consumer";case x:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return a=i.displayName||null,a!==null?a:N(i.type)||"Memo";case D:a=i._payload,i=i._init;try{return N(i(a))}catch{}}return null}var O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=Object.assign,z,B;function V(i){if(z===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);z=a&&a[1]||"",B=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+z+i+B}var ye=!1;function Ae(i,a){if(!i||ye)return"";ye=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(te){var Q=te}Reflect.construct(i,[],le)}else{try{le.call()}catch(te){Q=te}i.call(le.prototype)}}else{try{throw Error()}catch(te){Q=te}(le=i())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(te){if(te&&Q&&typeof te.stack=="string")return[te.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),S=g[0],M=g[1];if(S&&M){var U=S.split(`
`),G=M.split(`
`);for(p=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;p<G.length&&!G[p].includes("DetermineComponentFrameRoot");)p++;if(u===U.length||p===G.length)for(u=U.length-1,p=G.length-1;1<=u&&0<=p&&U[u]!==G[p];)p--;for(;1<=u&&0<=p;u--,p--)if(U[u]!==G[p]){if(u!==1||p!==1)do if(u--,p--,0>p||U[u]!==G[p]){var ne=`
`+U[u].replace(" at new "," at ");return i.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",i.displayName)),ne}while(1<=u&&0<=p);break}}}finally{ye=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?V(l):""}function J(i){switch(i.tag){case 26:case 27:case 5:return V(i.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 15:return i=Ae(i.type,!1),i;case 11:return i=Ae(i.type.render,!1),i;case 1:return i=Ae(i.type,!0),i;default:return""}}function ce(i){try{var a="";do a+=J(i),i=i.return;while(i);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function ie(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,a.flags&4098&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function ae(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function F(i){if(ie(i)!==i)throw Error(r(188))}function ee(i){var a=i.alternate;if(!a){if(a=ie(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,u=a;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return F(p),i;if(g===u)return F(p),a;g=g.sibling}throw Error(r(188))}if(l.return!==u.return)l=p,u=g;else{for(var S=!1,M=p.child;M;){if(M===l){S=!0,l=p,u=g;break}if(M===u){S=!0,u=p,l=g;break}M=M.sibling}if(!S){for(M=g.child;M;){if(M===l){S=!0,l=g,u=p;break}if(M===u){S=!0,u=g,l=p;break}M=M.sibling}if(!S)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function he(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=he(i),a!==null)return a;i=i.sibling}return null}var fe=Array.isArray,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},Te=[],me=-1;function _e(i){return{current:i}}function Ie(i){0>me||(i.current=Te[me],Te[me]=null,me--)}function be(i,a){me++,Te[me]=i.current,i.current=a}var ke=_e(null),He=_e(null),ft=_e(null),Vt=_e(null);function _n(i,a){switch(be(ft,a),be(He,i),be(ke,null),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?IE(a):0;break;default:if(i=i===8?a.parentNode:a,a=i.tagName,i=i.namespaceURI)i=IE(i),a=DE(i,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Ie(ke),be(ke,a)}function un(){Ie(ke),Ie(He),Ie(ft)}function Pn(i){i.memoizedState!==null&&be(Vt,i);var a=ke.current,l=DE(a,i.type);a!==l&&(be(He,i),be(ke,l))}function Ur(i){He.current===i&&(Ie(ke),Ie(He)),Vt.current===i&&(Ie(Vt),mu._currentValue=Ce)}var Fn=Object.prototype.hasOwnProperty,Ai=t.unstable_scheduleCallback,ps=t.unstable_cancelCallback,yc=t.unstable_shouldYield,Ra=t.unstable_requestPaint,wn=t.unstable_now,Po=t.unstable_getCurrentPriorityLevel,jt=t.unstable_ImmediatePriority,Ft=t.unstable_UserBlockingPriority,br=t.unstable_NormalPriority,Lo=t.unstable_LowPriority,Ca=t.unstable_IdlePriority,vc=t.log,Ue=t.unstable_setDisableYieldValue,ot=null,je=null;function Ln(i){if(je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(ot,i,void 0,(i.current.flags&128)===128)}catch{}}function Dt(i){if(typeof vc=="function"&&Ue(i),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(ot,i)}catch{}}var Ht=Math.clz32?Math.clz32:Xe,Nt=Math.log,Cn=Math.LN2;function Xe(i){return i>>>=0,i===0?32:31-(Nt(i)/Cn|0)|0}var nr=128,Br=4194304;function Hn(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function En(i,a){var l=i.pendingLanes;if(l===0)return 0;var u=0,p=i.suspendedLanes,g=i.pingedLanes,S=i.warmLanes;i=i.finishedLanes!==0;var M=l&134217727;return M!==0?(l=M&~p,l!==0?u=Hn(l):(g&=M,g!==0?u=Hn(g):i||(S=M&~S,S!==0&&(u=Hn(S))))):(M=l&~p,M!==0?u=Hn(M):g!==0?u=Hn(g):i||(S=l&~S,S!==0&&(u=Hn(S)))),u===0?0:a!==0&&a!==u&&!(a&p)&&(p=u&-u,S=a&-a,p>=S||p===32&&(S&4194176)!==0)?a:u}function rr(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Vo(i,a){switch(i){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _c(){var i=nr;return nr<<=1,!(nr&4194176)&&(nr=128),i}function gs(){var i=Br;return Br<<=1,!(Br&62914560)&&(Br=4194304),i}function jo(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Ut(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Od(i,a,l,u,p,g){var S=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var M=i.entanglements,U=i.expirationTimes,G=i.hiddenUpdates;for(l=S&~l;0<l;){var ne=31-Ht(l),le=1<<ne;M[ne]=0,U[ne]=-1;var Q=G[ne];if(Q!==null)for(G[ne]=null,ne=0;ne<Q.length;ne++){var te=Q[ne];te!==null&&(te.lane&=-536870913)}l&=~le}u!==0&&ys(i,u,0),g!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=g&~(S&~a))}function ys(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var u=31-Ht(a);i.entangledLanes|=a,i.entanglements[u]=i.entanglements[u]|1073741824|l&4194218}function vs(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var u=31-Ht(l),p=1<<u;p&a|i[u]&a&&(i[u]|=a),l&=~p}}function Md(i){return i&=-i,2<i?8<i?i&134217727?32:268435456:8:2}function kd(){var i=de.p;return i!==0?i:(i=window.event,i===void 0?32:YE(i.type))}function _s(i,a){var l=de.p;try{return de.p=i,a()}finally{de.p=l}}var zr=Math.random().toString(36).slice(2),tn="__reactFiber$"+zr,Kt="__reactProps$"+zr,xi="__reactContainer$"+zr,Ia="__reactEvents$"+zr,Uo="__reactListeners$"+zr,Fr="__reactHandles$"+zr,wc="__reactResources$"+zr,ws="__reactMarker$"+zr;function Da(i){delete i[tn],delete i[Kt],delete i[Ia],delete i[Uo],delete i[Fr]}function Tr(i){var a=i[tn];if(a)return a;for(var l=i.parentNode;l;){if(a=l[xi]||l[tn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=ME(i);i!==null;){if(l=i[tn])return l;i=ME(i)}return a}i=l,l=i.parentNode}return null}function Ri(i){if(i=i[tn]||i[xi]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function Es(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function bs(i){var a=i[wc];return a||(a=i[wc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function St(i){i[ws]=!0}var Ec=new Set,Bo={};function qn(i,a){Vn(i,a),Vn(i+"Capture",a)}function Vn(i,a){for(Bo[i]=a,i=0;i<a.length;i++)Ec.add(a[i])}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$m=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bc={},Tc={};function Pd(i){return Fn.call(Tc,i)?!0:Fn.call(bc,i)?!1:$m.test(i)?Tc[i]=!0:(bc[i]=!0,!1)}function Ts(i,a,l){if(Pd(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function Ss(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function ir(i,a,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+u)}}function In(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ld(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ym(i){var a=Ld(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),u=""+i[a];if(!i.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,g=l.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return p.call(this)},set:function(S){u=""+S,g.call(this,S)}}),Object.defineProperty(i,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Na(i){i._valueTracker||(i._valueTracker=Ym(i))}function Sc(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return i&&(u=Ld(i)?i.checked?"true":"false":i.value),i=u,i!==l?(a.setValue(i),!0):!1}function zo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ci=/[\n"\\]/g;function Ot(i){return i.replace(Ci,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function As(i,a,l,u,p,g,S,M){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),a!=null?S==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+In(a)):i.value!==""+In(a)&&(i.value=""+In(a)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),a!=null?Fo(i,S,In(a)):l!=null?Fo(i,S,In(l)):u!=null&&i.removeAttribute("value"),p==null&&g!=null&&(i.defaultChecked=!!g),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.name=""+In(M):i.removeAttribute("name")}function Oa(i,a,l,u,p,g,S,M){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),a!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;l=l!=null?""+In(l):"",a=a!=null?""+In(a):l,M||a===i.value||(i.value=a),i.defaultValue=a}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=M?i.checked:!!u,i.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function Fo(i,a,l){a==="number"&&zo(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function it(i,a,l,u){if(i=i.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=a.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&u&&(i[l].defaultSelected=!0)}else{for(l=""+In(l),a=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,u&&(i[p].defaultSelected=!0);return}a!==null||i[p].disabled||(a=i[p])}a!==null&&(a.selected=!0)}}function Ma(i,a,l){if(a!=null&&(a=""+In(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+In(l):""}function xs(i,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(r(92));if(fe(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=In(a),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u)}function sr(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var Km=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ac(i,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":u?i.setProperty(a,l):typeof l!="number"||l===0||Km.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function Vd(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var p in a)u=a[p],a.hasOwnProperty(p)&&l[p]!==u&&Ac(i,p,u)}else for(var g in a)a.hasOwnProperty(g)&&Ac(i,g,a[g])}function xc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hr(i){return Xm.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ar=null;function Ho(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ii=null,Di=null;function Ni(i){var a=Ri(i);if(a&&(i=a.stateNode)){var l=i[Kt]||null;e:switch(i=a.stateNode,a.type){case"input":if(As(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ot(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==i&&u.form===i.form){var p=u[Kt]||null;if(!p)throw Error(r(90));As(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===i.form&&Sc(u)}break e;case"textarea":Ma(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&it(i,!!l.multiple,a,!1)}}}var Rc=!1;function jd(i,a,l){if(Rc)return i(a,l);Rc=!0;try{var u=i(a);return u}finally{if(Rc=!1,(Ii!==null||Di!==null)&&(Df(),Ii&&(a=Ii,i=Di,Di=Ii=null,Ni(a),i)))for(a=0;a<i.length;a++)Ni(i[a])}}function ka(i,a){var l=i.stateNode;if(l===null)return null;var u=l[Kt]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var or=!1;if(Gn)try{var Pa={};Object.defineProperty(Pa,"passive",{get:function(){or=!0}}),window.addEventListener("test",Pa,Pa),window.removeEventListener("test",Pa,Pa)}catch{or=!1}var qr=null,Rs=null,Oi=null;function Cc(){if(Oi)return Oi;var i,a=Rs,l=a.length,u,p="value"in qr?qr.value:qr.textContent,g=p.length;for(i=0;i<l&&a[i]===p[i];i++);var S=l-i;for(u=1;u<=S&&a[l-u]===p[g-u];u++);return Oi=p.slice(i,1<u?1-u:void 0)}function Gr(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Wr(){return!0}function Ic(){return!1}function nn(i){function a(l,u,p,g,S){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(l=i[M],this[M]=l?l(g):g[M]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Wr:Ic,this.isPropagationStopped=Ic,this}return L(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Wr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Wr)},persist:function(){},isPersistent:Wr}),a}var lt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qo=nn(lt),La=L({},lt,{view:0,detail:0}),Ud=nn(La),Go,Wo,$r,Va=L({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ba,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==$r&&($r&&i.type==="mousemove"?(Go=i.screenX-$r.screenX,Wo=i.screenY-$r.screenY):Wo=Go=0,$r=i),Go)},movementY:function(i){return"movementY"in i?i.movementY:Wo}}),lr=nn(Va),Bd=L({},Va,{dataTransfer:0}),Zm=nn(Bd),ja=L({},La,{relatedTarget:0}),$o=nn(ja),Dc=L({},lt,{animationName:0,elapsedTime:0,pseudoElement:0}),Yo=nn(Dc),zd=L({},lt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ko=nn(zd),Jm=L({},lt,{data:0}),Nc=nn(Jm),Ua={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oc(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Hd[i])?!!a[i]:!1}function Ba(){return Oc}var qd=L({},La,{key:function(i){if(i.key){var a=Ua[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Gr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Fd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ba,charCode:function(i){return i.type==="keypress"?Gr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Gr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Qo=nn(qd),Gd=L({},Va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mc=nn(Gd),Mi=L({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ba}),Wd=nn(Mi),$d=L({},lt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yd=nn($d),Kd=L({},Va,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Xo=nn(Kd),Dn=L({},lt,{newState:0,oldState:0}),Qd=nn(Dn),Xd=[9,13,27,32],Yr=Gn&&"CompositionEvent"in window,h=null;Gn&&"documentMode"in document&&(h=document.documentMode);var w=Gn&&"TextEvent"in window&&!h,T=Gn&&(!Yr||h&&8<h&&11>=h),P=" ",Y=!1;function X(i,a){switch(i){case"keyup":return Xd.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var et=!1;function Qt(i,a){switch(i){case"compositionend":return ue(a);case"keypress":return a.which!==32?null:(Y=!0,P);case"textInput":return i=a.data,i===P&&Y?null:i;default:return null}}function tt(i,a){if(et)return i==="compositionend"||!Yr&&X(i,a)?(i=Cc(),Oi=Rs=qr=null,et=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return T&&a.locale!=="ko"?null:a.data;default:return null}}var rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xt(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!rn[i.type]:a==="textarea"}function ki(i,a,l,u){Ii?Di?Di.push(u):Di=[u]:Ii=u,a=Pf(a,"onChange"),0<a.length&&(l=new qo("onChange","change",null,l,u),i.push({event:l,listeners:a}))}var dn=null,Kr=null;function kc(i){SE(i,0)}function Zd(i){var a=Es(i);if(Sc(a))return i}function J_(i,a){if(i==="change")return a}var e0=!1;if(Gn){var ep;if(Gn){var tp="oninput"in document;if(!tp){var t0=document.createElement("div");t0.setAttribute("oninput","return;"),tp=typeof t0.oninput=="function"}ep=tp}else ep=!1;e0=ep&&(!document.documentMode||9<document.documentMode)}function n0(){dn&&(dn.detachEvent("onpropertychange",r0),Kr=dn=null)}function r0(i){if(i.propertyName==="value"&&Zd(Kr)){var a=[];ki(a,Kr,i,Ho(i)),jd(kc,a)}}function sD(i,a,l){i==="focusin"?(n0(),dn=a,Kr=l,dn.attachEvent("onpropertychange",r0)):i==="focusout"&&n0()}function aD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Zd(Kr)}function oD(i,a){if(i==="click")return Zd(a)}function lD(i,a){if(i==="input"||i==="change")return Zd(a)}function cD(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Wn=typeof Object.is=="function"?Object.is:cD;function Pc(i,a){if(Wn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!Fn.call(a,p)||!Wn(i[p],a[p]))return!1}return!0}function i0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function s0(i,a){var l=i0(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=a&&u>=a)return{node:l,offset:a-i};i=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=i0(l)}}function a0(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?a0(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function o0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=zo(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=zo(i.document)}return a}function np(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function uD(i,a){var l=o0(a);a=i.focusedElem;var u=i.selectionRange;if(l!==a&&a&&a.ownerDocument&&a0(a.ownerDocument.documentElement,a)){if(u!==null&&np(a)){if(i=u.start,l=u.end,l===void 0&&(l=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(l,a.value.length);else if(l=(i=a.ownerDocument||document)&&i.defaultView||window,l.getSelection){l=l.getSelection();var p=a.textContent.length,g=Math.min(u.start,p);u=u.end===void 0?g:Math.min(u.end,p),!l.extend&&g>u&&(p=u,u=g,g=p),p=s0(a,g);var S=s0(a,u);p&&S&&(l.rangeCount!==1||l.anchorNode!==p.node||l.anchorOffset!==p.offset||l.focusNode!==S.node||l.focusOffset!==S.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),l.removeAllRanges(),g>u?(l.addRange(i),l.extend(S.node,S.offset)):(i.setEnd(S.node,S.offset),l.addRange(i)))}}for(i=[],l=a;l=l.parentNode;)l.nodeType===1&&i.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)l=i[a],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var dD=Gn&&"documentMode"in document&&11>=document.documentMode,Zo=null,rp=null,Lc=null,ip=!1;function l0(i,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ip||Zo==null||Zo!==zo(u)||(u=Zo,"selectionStart"in u&&np(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Lc&&Pc(Lc,u)||(Lc=u,u=Pf(rp,"onSelect"),0<u.length&&(a=new qo("onSelect","select",null,a,l),i.push({event:a,listeners:u}),a.target=Zo)))}function za(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var Jo={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionrun:za("Transition","TransitionRun"),transitionstart:za("Transition","TransitionStart"),transitioncancel:za("Transition","TransitionCancel"),transitionend:za("Transition","TransitionEnd")},sp={},c0={};Gn&&(c0=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function Fa(i){if(sp[i])return sp[i];if(!Jo[i])return i;var a=Jo[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in c0)return sp[i]=a[l];return i}var u0=Fa("animationend"),d0=Fa("animationiteration"),f0=Fa("animationstart"),fD=Fa("transitionrun"),hD=Fa("transitionstart"),mD=Fa("transitioncancel"),h0=Fa("transitionend"),m0=new Map,p0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Sr(i,a){m0.set(i,a),qn(a,[i])}var cr=[],el=0,ap=0;function Jd(){for(var i=el,a=ap=el=0;a<i;){var l=cr[a];cr[a++]=null;var u=cr[a];cr[a++]=null;var p=cr[a];cr[a++]=null;var g=cr[a];if(cr[a++]=null,u!==null&&p!==null){var S=u.pending;S===null?p.next=p:(p.next=S.next,S.next=p),u.pending=p}g!==0&&g0(l,p,g)}}function ef(i,a,l,u){cr[el++]=i,cr[el++]=a,cr[el++]=l,cr[el++]=u,ap|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function op(i,a,l,u){return ef(i,a,l,u),tf(i)}function Cs(i,a){return ef(i,null,null,a),tf(i)}function g0(i,a,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var p=!1,g=i.return;g!==null;)g.childLanes|=l,u=g.alternate,u!==null&&(u.childLanes|=l),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(p=!0)),i=g,g=g.return;p&&a!==null&&i.tag===3&&(g=i.stateNode,p=31-Ht(l),g=g.hiddenUpdates,i=g[p],i===null?g[p]=[a]:i.push(a),a.lane=l|536870912)}function tf(i){if(50<ou)throw ou=0,hg=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var tl={},y0=new WeakMap;function ur(i,a){if(typeof i=="object"&&i!==null){var l=y0.get(i);return l!==void 0?l:(a={value:i,source:a,stack:ce(a)},y0.set(i,a),a)}return{value:i,source:a,stack:ce(a)}}var nl=[],rl=0,nf=null,rf=0,dr=[],fr=0,Ha=null,Pi=1,Li="";function qa(i,a){nl[rl++]=rf,nl[rl++]=nf,nf=i,rf=a}function v0(i,a,l){dr[fr++]=Pi,dr[fr++]=Li,dr[fr++]=Ha,Ha=i;var u=Pi;i=Li;var p=32-Ht(u)-1;u&=~(1<<p),l+=1;var g=32-Ht(a)+p;if(30<g){var S=p-p%5;g=(u&(1<<S)-1).toString(32),u>>=S,p-=S,Pi=1<<32-Ht(a)+p|l<<p|u,Li=g+i}else Pi=1<<g|l<<p|u,Li=i}function lp(i){i.return!==null&&(qa(i,1),v0(i,1,0))}function cp(i){for(;i===nf;)nf=nl[--rl],nl[rl]=null,rf=nl[--rl],nl[rl]=null;for(;i===Ha;)Ha=dr[--fr],dr[fr]=null,Li=dr[--fr],dr[fr]=null,Pi=dr[--fr],dr[fr]=null}var Nn=null,fn=null,st=!1,Ar=null,Qr=!1,up=Error(r(519));function Ga(i){var a=Error(r(418,""));throw Uc(ur(a,i)),up}function _0(i){var a=i.stateNode,l=i.type,u=i.memoizedProps;switch(a[tn]=i,a[Kt]=u,l){case"dialog":Ze("cancel",a),Ze("close",a);break;case"iframe":case"object":case"embed":Ze("load",a);break;case"video":case"audio":for(l=0;l<cu.length;l++)Ze(cu[l],a);break;case"source":Ze("error",a);break;case"img":case"image":case"link":Ze("error",a),Ze("load",a);break;case"details":Ze("toggle",a);break;case"input":Ze("invalid",a),Oa(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Na(a);break;case"select":Ze("invalid",a);break;case"textarea":Ze("invalid",a),xs(a,u.value,u.defaultValue,u.children),Na(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||CE(a.textContent,l)?(u.popover!=null&&(Ze("beforetoggle",a),Ze("toggle",a)),u.onScroll!=null&&Ze("scroll",a),u.onScrollEnd!=null&&Ze("scrollend",a),u.onClick!=null&&(a.onclick=Lf),a=!0):a=!1,a||Ga(i)}function w0(i){for(Nn=i.return;Nn;)switch(Nn.tag){case 3:case 27:Qr=!0;return;case 5:case 13:Qr=!1;return;default:Nn=Nn.return}}function Vc(i){if(i!==Nn)return!1;if(!st)return w0(i),st=!0,!1;var a=!1,l;if((l=i.tag!==3&&i.tag!==27)&&((l=i.tag===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Dg(i.type,i.memoizedProps)),l=!l),l&&(a=!0),a&&fn&&Ga(i),w0(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(a===0){fn=Rr(i.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;i=i.nextSibling}fn=null}}else fn=Nn?Rr(i.stateNode.nextSibling):null;return!0}function jc(){fn=Nn=null,st=!1}function Uc(i){Ar===null?Ar=[i]:Ar.push(i)}var Bc=Error(r(460)),E0=Error(r(474)),dp={then:function(){}};function b0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function sf(){}function T0(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(sf,sf),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,i===Bc?Error(r(483)):i;default:if(typeof a.status=="string")a.then(sf,sf);else{if(i=yt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(u){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=u}},function(u){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,i===Bc?Error(r(483)):i}throw zc=a,Bc}}var zc=null;function S0(){if(zc===null)throw Error(r(459));var i=zc;return zc=null,i}var il=null,Fc=0;function af(i){var a=Fc;return Fc+=1,il===null&&(il=[]),T0(il,i,a)}function Hc(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function of(i,a){throw a.$$typeof===o?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function A0(i){var a=i._init;return a(i._payload)}function x0(i){function a(W,q){if(i){var K=W.deletions;K===null?(W.deletions=[q],W.flags|=16):K.push(q)}}function l(W,q){if(!i)return null;for(;q!==null;)a(W,q),q=q.sibling;return null}function u(W){for(var q=new Map;W!==null;)W.key!==null?q.set(W.key,W):q.set(W.index,W),W=W.sibling;return q}function p(W,q){return W=Bs(W,q),W.index=0,W.sibling=null,W}function g(W,q,K){return W.index=K,i?(K=W.alternate,K!==null?(K=K.index,K<q?(W.flags|=33554434,q):K):(W.flags|=33554434,q)):(W.flags|=1048576,q)}function S(W){return i&&W.alternate===null&&(W.flags|=33554434),W}function M(W,q,K,re){return q===null||q.tag!==6?(q=sg(K,W.mode,re),q.return=W,q):(q=p(q,K),q.return=W,q)}function U(W,q,K,re){var ve=K.type;return ve===f?ne(W,q,K.props.children,re,K.key):q!==null&&(q.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===D&&A0(ve)===q.type)?(q=p(q,K.props),Hc(q,K),q.return=W,q):(q=Af(K.type,K.key,K.props,null,W.mode,re),Hc(q,K),q.return=W,q)}function G(W,q,K,re){return q===null||q.tag!==4||q.stateNode.containerInfo!==K.containerInfo||q.stateNode.implementation!==K.implementation?(q=ag(K,W.mode,re),q.return=W,q):(q=p(q,K.children||[]),q.return=W,q)}function ne(W,q,K,re,ve){return q===null||q.tag!==7?(q=to(K,W.mode,re,ve),q.return=W,q):(q=p(q,K),q.return=W,q)}function le(W,q,K){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=sg(""+q,W.mode,K),q.return=W,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case c:return K=Af(q.type,q.key,q.props,null,W.mode,K),Hc(K,q),K.return=W,K;case d:return q=ag(q,W.mode,K),q.return=W,q;case D:var re=q._init;return q=re(q._payload),le(W,q,K)}if(fe(q)||Z(q))return q=to(q,W.mode,K,null),q.return=W,q;if(typeof q.then=="function")return le(W,af(q),K);if(q.$$typeof===A)return le(W,bf(W,q),K);of(W,q)}return null}function Q(W,q,K,re){var ve=q!==null?q.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ve!==null?null:M(W,q,""+K,re);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case c:return K.key===ve?U(W,q,K,re):null;case d:return K.key===ve?G(W,q,K,re):null;case D:return ve=K._init,K=ve(K._payload),Q(W,q,K,re)}if(fe(K)||Z(K))return ve!==null?null:ne(W,q,K,re,null);if(typeof K.then=="function")return Q(W,q,af(K),re);if(K.$$typeof===A)return Q(W,q,bf(W,K),re);of(W,K)}return null}function te(W,q,K,re,ve){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return W=W.get(K)||null,M(q,W,""+re,ve);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case c:return W=W.get(re.key===null?K:re.key)||null,U(q,W,re,ve);case d:return W=W.get(re.key===null?K:re.key)||null,G(q,W,re,ve);case D:var We=re._init;return re=We(re._payload),te(W,q,K,re,ve)}if(fe(re)||Z(re))return W=W.get(K)||null,ne(q,W,re,ve,null);if(typeof re.then=="function")return te(W,q,K,af(re),ve);if(re.$$typeof===A)return te(W,q,K,bf(q,re),ve);of(q,re)}return null}function Se(W,q,K,re){for(var ve=null,We=null,xe=q,De=q=0,on=null;xe!==null&&De<K.length;De++){xe.index>De?(on=xe,xe=null):on=xe.sibling;var at=Q(W,xe,K[De],re);if(at===null){xe===null&&(xe=on);break}i&&xe&&at.alternate===null&&a(W,xe),q=g(at,q,De),We===null?ve=at:We.sibling=at,We=at,xe=on}if(De===K.length)return l(W,xe),st&&qa(W,De),ve;if(xe===null){for(;De<K.length;De++)xe=le(W,K[De],re),xe!==null&&(q=g(xe,q,De),We===null?ve=xe:We.sibling=xe,We=xe);return st&&qa(W,De),ve}for(xe=u(xe);De<K.length;De++)on=te(xe,W,De,K[De],re),on!==null&&(i&&on.alternate!==null&&xe.delete(on.key===null?De:on.key),q=g(on,q,De),We===null?ve=on:We.sibling=on,We=on);return i&&xe.forEach(function($s){return a(W,$s)}),st&&qa(W,De),ve}function Le(W,q,K,re){if(K==null)throw Error(r(151));for(var ve=null,We=null,xe=q,De=q=0,on=null,at=K.next();xe!==null&&!at.done;De++,at=K.next()){xe.index>De?(on=xe,xe=null):on=xe.sibling;var $s=Q(W,xe,at.value,re);if($s===null){xe===null&&(xe=on);break}i&&xe&&$s.alternate===null&&a(W,xe),q=g($s,q,De),We===null?ve=$s:We.sibling=$s,We=$s,xe=on}if(at.done)return l(W,xe),st&&qa(W,De),ve;if(xe===null){for(;!at.done;De++,at=K.next())at=le(W,at.value,re),at!==null&&(q=g(at,q,De),We===null?ve=at:We.sibling=at,We=at);return st&&qa(W,De),ve}for(xe=u(xe);!at.done;De++,at=K.next())at=te(xe,W,De,at.value,re),at!==null&&(i&&at.alternate!==null&&xe.delete(at.key===null?De:at.key),q=g(at,q,De),We===null?ve=at:We.sibling=at,We=at);return i&&xe.forEach(function(CN){return a(W,CN)}),st&&qa(W,De),ve}function Pt(W,q,K,re){if(typeof K=="object"&&K!==null&&K.type===f&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case c:e:{for(var ve=K.key;q!==null;){if(q.key===ve){if(ve=K.type,ve===f){if(q.tag===7){l(W,q.sibling),re=p(q,K.props.children),re.return=W,W=re;break e}}else if(q.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===D&&A0(ve)===q.type){l(W,q.sibling),re=p(q,K.props),Hc(re,K),re.return=W,W=re;break e}l(W,q);break}else a(W,q);q=q.sibling}K.type===f?(re=to(K.props.children,W.mode,re,K.key),re.return=W,W=re):(re=Af(K.type,K.key,K.props,null,W.mode,re),Hc(re,K),re.return=W,W=re)}return S(W);case d:e:{for(ve=K.key;q!==null;){if(q.key===ve)if(q.tag===4&&q.stateNode.containerInfo===K.containerInfo&&q.stateNode.implementation===K.implementation){l(W,q.sibling),re=p(q,K.children||[]),re.return=W,W=re;break e}else{l(W,q);break}else a(W,q);q=q.sibling}re=ag(K,W.mode,re),re.return=W,W=re}return S(W);case D:return ve=K._init,K=ve(K._payload),Pt(W,q,K,re)}if(fe(K))return Se(W,q,K,re);if(Z(K)){if(ve=Z(K),typeof ve!="function")throw Error(r(150));return K=ve.call(K),Le(W,q,K,re)}if(typeof K.then=="function")return Pt(W,q,af(K),re);if(K.$$typeof===A)return Pt(W,q,bf(W,K),re);of(W,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,q!==null&&q.tag===6?(l(W,q.sibling),re=p(q,K),re.return=W,W=re):(l(W,q),re=sg(K,W.mode,re),re.return=W,W=re),S(W)):l(W,q)}return function(W,q,K,re){try{Fc=0;var ve=Pt(W,q,K,re);return il=null,ve}catch(xe){if(xe===Bc)throw xe;var We=gr(29,xe,null,W.mode);return We.lanes=re,We.return=W,We}finally{}}}var Wa=x0(!0),R0=x0(!1),sl=_e(null),lf=_e(0);function C0(i,a){i=$i,be(lf,i),be(sl,a),$i=i|a.baseLanes}function fp(){be(lf,$i),be(sl,sl.current)}function hp(){$i=lf.current,Ie(sl),Ie(lf)}var hr=_e(null),Xr=null;function Is(i){var a=i.alternate;be(Zt,Zt.current&1),be(hr,i),Xr===null&&(a===null||sl.current!==null||a.memoizedState!==null)&&(Xr=i)}function I0(i){if(i.tag===22){if(be(Zt,Zt.current),be(hr,i),Xr===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(Xr=i)}}else Ds()}function Ds(){be(Zt,Zt.current),be(hr,hr.current)}function Vi(i){Ie(hr),Xr===i&&(Xr=null),Ie(Zt)}var Zt=_e(0);function cf(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var pD=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},gD=t.unstable_scheduleCallback,yD=t.unstable_NormalPriority,Jt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mp(){return{controller:new pD,data:new Map,refCount:0}}function qc(i){i.refCount--,i.refCount===0&&gD(yD,function(){i.controller.abort()})}var Gc=null,pp=0,al=0,ol=null;function vD(i,a){if(Gc===null){var l=Gc=[];pp=0,al=Eg(),ol={status:"pending",value:void 0,then:function(u){l.push(u)}}}return pp++,a.then(D0,D0),a}function D0(){if(--pp===0&&Gc!==null){ol!==null&&(ol.status="fulfilled");var i=Gc;Gc=null,al=0,ol=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function _D(i,a){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){u.status="fulfilled",u.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var N0=O.S;O.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&vD(i,a),N0!==null&&N0(i,a)};var $a=_e(null);function gp(){var i=$a.current;return i!==null?i:yt.pooledCache}function uf(i,a){a===null?be($a,$a.current):be($a,a.pool)}function O0(){var i=gp();return i===null?null:{parent:Jt._currentValue,pool:i}}var Ns=0,Ge=null,ht=null,qt=null,df=!1,ll=!1,Ya=!1,ff=0,Wc=0,cl=null,wD=0;function Bt(){throw Error(r(321))}function yp(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!Wn(i[l],a[l]))return!1;return!0}function vp(i,a,l,u,p,g){return Ns=g,Ge=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,O.H=i===null||i.memoizedState===null?Ka:Os,Ya=!1,g=l(u,p),Ya=!1,ll&&(g=k0(a,l,u,p)),M0(i),g}function M0(i){O.H=Zr;var a=ht!==null&&ht.next!==null;if(Ns=0,qt=ht=Ge=null,df=!1,Wc=0,cl=null,a)throw Error(r(300));i===null||sn||(i=i.dependencies,i!==null&&Ef(i)&&(sn=!0))}function k0(i,a,l,u){Ge=i;var p=0;do{if(ll&&(cl=null),Wc=0,ll=!1,25<=p)throw Error(r(301));if(p+=1,qt=ht=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}O.H=Qa,g=a(l,u)}while(ll);return g}function ED(){var i=O.H,a=i.useState()[0];return a=typeof a.then=="function"?$c(a):a,i=i.useState()[0],(ht!==null?ht.memoizedState:null)!==i&&(Ge.flags|=1024),a}function _p(){var i=ff!==0;return ff=0,i}function wp(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function Ep(i){if(df){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}df=!1}Ns=0,qt=ht=Ge=null,ll=!1,Wc=ff=0,cl=null}function jn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Ge.memoizedState=qt=i:qt=qt.next=i,qt}function Gt(){if(ht===null){var i=Ge.alternate;i=i!==null?i.memoizedState:null}else i=ht.next;var a=qt===null?Ge.memoizedState:qt.next;if(a!==null)qt=a,ht=i;else{if(i===null)throw Ge.alternate===null?Error(r(467)):Error(r(310));ht=i,i={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},qt===null?Ge.memoizedState=qt=i:qt=qt.next=i}return qt}var hf;hf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function $c(i){var a=Wc;return Wc+=1,cl===null&&(cl=[]),i=T0(cl,i,a),a=Ge,(qt===null?a.memoizedState:qt.next)===null&&(a=a.alternate,O.H=a===null||a.memoizedState===null?Ka:Os),i}function mf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return $c(i);if(i.$$typeof===A)return bn(i)}throw Error(r(438,String(i)))}function bp(i){var a=null,l=Ge.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=Ge.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=hf(),Ge.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),u=0;u<i;u++)l[u]=H;return a.index++,l}function ji(i,a){return typeof a=="function"?a(i):a}function pf(i){var a=Gt();return Tp(a,ht,i)}function Tp(i,a,l){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var p=i.baseQueue,g=u.pending;if(g!==null){if(p!==null){var S=p.next;p.next=g.next,g.next=S}a.baseQueue=p=g,u.pending=null}if(g=i.baseState,p===null)i.memoizedState=g;else{a=p.next;var M=S=null,U=null,G=a,ne=!1;do{var le=G.lane&-536870913;if(le!==G.lane?(nt&le)===le:(Ns&le)===le){var Q=G.revertLane;if(Q===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),le===al&&(ne=!0);else if((Ns&Q)===Q){G=G.next,Q===al&&(ne=!0);continue}else le={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},U===null?(M=U=le,S=g):U=U.next=le,Ge.lanes|=Q,zs|=Q;le=G.action,Ya&&l(g,le),g=G.hasEagerState?G.eagerState:l(g,le)}else Q={lane:le,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},U===null?(M=U=Q,S=g):U=U.next=Q,Ge.lanes|=le,zs|=le;G=G.next}while(G!==null&&G!==a);if(U===null?S=g:U.next=M,!Wn(g,i.memoizedState)&&(sn=!0,ne&&(l=ol,l!==null)))throw l;i.memoizedState=g,i.baseState=S,i.baseQueue=U,u.lastRenderedState=g}return p===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Sp(i){var a=Gt(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var u=l.dispatch,p=l.pending,g=a.memoizedState;if(p!==null){l.pending=null;var S=p=p.next;do g=i(g,S.action),S=S.next;while(S!==p);Wn(g,a.memoizedState)||(sn=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),l.lastRenderedState=g}return[g,u]}function P0(i,a,l){var u=Ge,p=Gt(),g=st;if(g){if(l===void 0)throw Error(r(407));l=l()}else l=a();var S=!Wn((ht||p).memoizedState,l);if(S&&(p.memoizedState=l,sn=!0),p=p.queue,Rp(j0.bind(null,u,p,i),[i]),p.getSnapshot!==a||S||qt!==null&&qt.memoizedState.tag&1){if(u.flags|=2048,ul(9,V0.bind(null,u,p,l,a),{destroy:void 0},null),yt===null)throw Error(r(349));g||Ns&60||L0(u,a,l)}return l}function L0(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Ge.updateQueue,a===null?(a=hf(),Ge.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function V0(i,a,l,u){a.value=l,a.getSnapshot=u,U0(a)&&B0(i)}function j0(i,a,l){return l(function(){U0(a)&&B0(i)})}function U0(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!Wn(i,l)}catch{return!0}}function B0(i){var a=Cs(i,2);a!==null&&On(a,i,2)}function Ap(i){var a=jn();if(typeof i=="function"){var l=i;if(i=l(),Ya){Dt(!0);try{l()}finally{Dt(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:i},a}function z0(i,a,l,u){return i.baseState=l,Tp(i,ht,typeof u=="function"?u:ji)}function bD(i,a,l,u,p){if(vf(i))throw Error(r(485));if(i=a.action,i!==null){var g={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};O.T!==null?l(!0):g.isTransition=!1,u(g),l=a.pending,l===null?(g.next=a.pending=g,F0(a,g)):(g.next=l.next,a.pending=l.next=g)}}function F0(i,a){var l=a.action,u=a.payload,p=i.state;if(a.isTransition){var g=O.T,S={};O.T=S;try{var M=l(p,u),U=O.S;U!==null&&U(S,M),H0(i,a,M)}catch(G){xp(i,a,G)}finally{O.T=g}}else try{g=l(p,u),H0(i,a,g)}catch(G){xp(i,a,G)}}function H0(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){q0(i,a,u)},function(u){return xp(i,a,u)}):q0(i,a,l)}function q0(i,a,l){a.status="fulfilled",a.value=l,G0(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,F0(i,l)))}function xp(i,a,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,G0(a),a=a.next;while(a!==u)}i.action=null}function G0(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function W0(i,a){return a}function $0(i,a){if(st){var l=yt.formState;if(l!==null){e:{var u=Ge;if(st){if(fn){t:{for(var p=fn,g=Qr;p.nodeType!==8;){if(!g){p=null;break t}if(p=Rr(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){fn=Rr(p.nextSibling),u=p.data==="F!";break e}}Ga(u)}u=!1}u&&(a=l[0])}}return l=jn(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:W0,lastRenderedState:a},l.queue=u,l=dw.bind(null,Ge,u),u.dispatch=l,u=Ap(!1),g=Op.bind(null,Ge,!1,u.queue),u=jn(),p={state:a,dispatch:null,action:i,pending:null},u.queue=p,l=bD.bind(null,Ge,p,g,l),p.dispatch=l,u.memoizedState=i,[a,l,!1]}function Y0(i){var a=Gt();return K0(a,ht,i)}function K0(i,a,l){a=Tp(i,a,W0)[0],i=pf(ji)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?$c(a):a;var u=Gt(),p=u.queue,g=p.dispatch;return l!==u.memoizedState&&(Ge.flags|=2048,ul(9,TD.bind(null,p,l),{destroy:void 0},null)),[a,g,i]}function TD(i,a){i.action=a}function Q0(i){var a=Gt(),l=ht;if(l!==null)return K0(a,l,i);Gt(),a=a.memoizedState,l=Gt();var u=l.queue.dispatch;return l.memoizedState=i,[a,u,!1]}function ul(i,a,l,u){return i={tag:i,create:a,inst:l,deps:u,next:null},a=Ge.updateQueue,a===null&&(a=hf(),Ge.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,a.lastEffect=i),i}function X0(){return Gt().memoizedState}function gf(i,a,l,u){var p=jn();Ge.flags|=i,p.memoizedState=ul(1|a,l,{destroy:void 0},u===void 0?null:u)}function yf(i,a,l,u){var p=Gt();u=u===void 0?null:u;var g=p.memoizedState.inst;ht!==null&&u!==null&&yp(u,ht.memoizedState.deps)?p.memoizedState=ul(a,l,g,u):(Ge.flags|=i,p.memoizedState=ul(1|a,l,g,u))}function Z0(i,a){gf(8390656,8,i,a)}function Rp(i,a){yf(2048,8,i,a)}function J0(i,a){return yf(4,2,i,a)}function ew(i,a){return yf(4,4,i,a)}function tw(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function nw(i,a,l){l=l!=null?l.concat([i]):null,yf(4,4,tw.bind(null,a,i),l)}function Cp(){}function rw(i,a){var l=Gt();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&yp(a,u[1])?u[0]:(l.memoizedState=[i,a],i)}function iw(i,a){var l=Gt();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&yp(a,u[1]))return u[0];if(u=i(),Ya){Dt(!0);try{i()}finally{Dt(!1)}}return l.memoizedState=[u,a],u}function Ip(i,a,l){return l===void 0||Ns&1073741824?i.memoizedState=a:(i.memoizedState=l,i=aE(),Ge.lanes|=i,zs|=i,l)}function sw(i,a,l,u){return Wn(l,a)?l:sl.current!==null?(i=Ip(i,l,u),Wn(i,a)||(sn=!0),i):Ns&42?(i=aE(),Ge.lanes|=i,zs|=i,a):(sn=!0,i.memoizedState=l)}function aw(i,a,l,u,p){var g=de.p;de.p=g!==0&&8>g?g:8;var S=O.T,M={};O.T=M,Op(i,!1,a,l);try{var U=p(),G=O.S;if(G!==null&&G(M,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ne=_D(U,u);Yc(i,a,ne,Qn(i))}else Yc(i,a,u,Qn(i))}catch(le){Yc(i,a,{then:function(){},status:"rejected",reason:le},Qn())}finally{de.p=g,O.T=S}}function SD(){}function Dp(i,a,l,u){if(i.tag!==5)throw Error(r(476));var p=ow(i).queue;aw(i,p,a,Ce,l===null?SD:function(){return lw(i),l(u)})}function ow(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:Ce},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function lw(i){var a=ow(i).next.queue;Yc(i,a,{},Qn())}function Np(){return bn(mu)}function cw(){return Gt().memoizedState}function uw(){return Gt().memoizedState}function AD(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=Qn();i=Ps(l);var u=Ls(a,i,l);u!==null&&(On(u,a,l),Xc(u,a,l)),a={cache:mp()},i.payload=a;return}a=a.return}}function xD(i,a,l){var u=Qn();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},vf(i)?fw(a,l):(l=op(i,a,l,u),l!==null&&(On(l,i,u),hw(l,a,u)))}function dw(i,a,l){var u=Qn();Yc(i,a,l,u)}function Yc(i,a,l,u){var p={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(vf(i))fw(a,p);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var S=a.lastRenderedState,M=g(S,l);if(p.hasEagerState=!0,p.eagerState=M,Wn(M,S))return ef(i,a,p,0),yt===null&&Jd(),!1}catch{}finally{}if(l=op(i,a,p,u),l!==null)return On(l,i,u),hw(l,a,u),!0}return!1}function Op(i,a,l,u){if(u={lane:2,revertLane:Eg(),action:u,hasEagerState:!1,eagerState:null,next:null},vf(i)){if(a)throw Error(r(479))}else a=op(i,l,u,2),a!==null&&On(a,i,2)}function vf(i){var a=i.alternate;return i===Ge||a!==null&&a===Ge}function fw(i,a){ll=df=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function hw(i,a,l){if(l&4194176){var u=a.lanes;u&=i.pendingLanes,l|=u,a.lanes=l,vs(i,l)}}var Zr={readContext:bn,use:mf,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt};Zr.useCacheRefresh=Bt,Zr.useMemoCache=Bt,Zr.useHostTransitionStatus=Bt,Zr.useFormState=Bt,Zr.useActionState=Bt,Zr.useOptimistic=Bt;var Ka={readContext:bn,use:mf,useCallback:function(i,a){return jn().memoizedState=[i,a===void 0?null:a],i},useContext:bn,useEffect:Z0,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,gf(4194308,4,tw.bind(null,a,i),l)},useLayoutEffect:function(i,a){return gf(4194308,4,i,a)},useInsertionEffect:function(i,a){gf(4,2,i,a)},useMemo:function(i,a){var l=jn();a=a===void 0?null:a;var u=i();if(Ya){Dt(!0);try{i()}finally{Dt(!1)}}return l.memoizedState=[u,a],u},useReducer:function(i,a,l){var u=jn();if(l!==void 0){var p=l(a);if(Ya){Dt(!0);try{l(a)}finally{Dt(!1)}}}else p=a;return u.memoizedState=u.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},u.queue=i,i=i.dispatch=xD.bind(null,Ge,i),[u.memoizedState,i]},useRef:function(i){var a=jn();return i={current:i},a.memoizedState=i},useState:function(i){i=Ap(i);var a=i.queue,l=dw.bind(null,Ge,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:Cp,useDeferredValue:function(i,a){var l=jn();return Ip(l,i,a)},useTransition:function(){var i=Ap(!1);return i=aw.bind(null,Ge,i.queue,!0,!1),jn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var u=Ge,p=jn();if(st){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),yt===null)throw Error(r(349));nt&60||L0(u,a,l)}p.memoizedState=l;var g={value:l,getSnapshot:a};return p.queue=g,Z0(j0.bind(null,u,g,i),[i]),u.flags|=2048,ul(9,V0.bind(null,u,g,l,a),{destroy:void 0},null),l},useId:function(){var i=jn(),a=yt.identifierPrefix;if(st){var l=Li,u=Pi;l=(u&~(1<<32-Ht(u)-1)).toString(32)+l,a=":"+a+"R"+l,l=ff++,0<l&&(a+="H"+l.toString(32)),a+=":"}else l=wD++,a=":"+a+"r"+l.toString(32)+":";return i.memoizedState=a},useCacheRefresh:function(){return jn().memoizedState=AD.bind(null,Ge)}};Ka.useMemoCache=bp,Ka.useHostTransitionStatus=Np,Ka.useFormState=$0,Ka.useActionState=$0,Ka.useOptimistic=function(i){var a=jn();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Op.bind(null,Ge,!0,l),l.dispatch=a,[i,a]};var Os={readContext:bn,use:mf,useCallback:rw,useContext:bn,useEffect:Rp,useImperativeHandle:nw,useInsertionEffect:J0,useLayoutEffect:ew,useMemo:iw,useReducer:pf,useRef:X0,useState:function(){return pf(ji)},useDebugValue:Cp,useDeferredValue:function(i,a){var l=Gt();return sw(l,ht.memoizedState,i,a)},useTransition:function(){var i=pf(ji)[0],a=Gt().memoizedState;return[typeof i=="boolean"?i:$c(i),a]},useSyncExternalStore:P0,useId:cw};Os.useCacheRefresh=uw,Os.useMemoCache=bp,Os.useHostTransitionStatus=Np,Os.useFormState=Y0,Os.useActionState=Y0,Os.useOptimistic=function(i,a){var l=Gt();return z0(l,ht,i,a)};var Qa={readContext:bn,use:mf,useCallback:rw,useContext:bn,useEffect:Rp,useImperativeHandle:nw,useInsertionEffect:J0,useLayoutEffect:ew,useMemo:iw,useReducer:Sp,useRef:X0,useState:function(){return Sp(ji)},useDebugValue:Cp,useDeferredValue:function(i,a){var l=Gt();return ht===null?Ip(l,i,a):sw(l,ht.memoizedState,i,a)},useTransition:function(){var i=Sp(ji)[0],a=Gt().memoizedState;return[typeof i=="boolean"?i:$c(i),a]},useSyncExternalStore:P0,useId:cw};Qa.useCacheRefresh=uw,Qa.useMemoCache=bp,Qa.useHostTransitionStatus=Np,Qa.useFormState=Q0,Qa.useActionState=Q0,Qa.useOptimistic=function(i,a){var l=Gt();return ht!==null?z0(l,ht,i,a):(l.baseState=i,[i,l.queue.dispatch])};function Mp(i,a,l,u){a=i.memoizedState,l=l(u,a),l=l==null?a:L({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var kp={isMounted:function(i){return(i=i._reactInternals)?ie(i)===i:!1},enqueueSetState:function(i,a,l){i=i._reactInternals;var u=Qn(),p=Ps(u);p.payload=a,l!=null&&(p.callback=l),a=Ls(i,p,u),a!==null&&(On(a,i,u),Xc(a,i,u))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var u=Qn(),p=Ps(u);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=Ls(i,p,u),a!==null&&(On(a,i,u),Xc(a,i,u))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=Qn(),u=Ps(l);u.tag=2,a!=null&&(u.callback=a),a=Ls(i,u,l),a!==null&&(On(a,i,l),Xc(a,i,l))}};function mw(i,a,l,u,p,g,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,S):a.prototype&&a.prototype.isPureReactComponent?!Pc(l,u)||!Pc(p,g):!0}function pw(i,a,l,u){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==i&&kp.enqueueReplaceState(a,a.state,null)}function Xa(i,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(i=i.defaultProps){l===a&&(l=L({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}var _f=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function gw(i){_f(i)}function yw(i){console.error(i)}function vw(i){_f(i)}function wf(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function _w(i,a,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Pp(i,a,l){return l=Ps(l),l.tag=3,l.payload={element:null},l.callback=function(){wf(i,a)},l}function ww(i){return i=Ps(i),i.tag=3,i}function Ew(i,a,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var g=u.value;i.payload=function(){return p(g)},i.callback=function(){_w(a,l,u)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){_w(a,l,u),typeof p!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var M=u.stack;this.componentDidCatch(u.value,{componentStack:M!==null?M:""})})}function RD(i,a,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&Qc(a,l,p,!0),l=hr.current,l!==null){switch(l.tag){case 13:return Xr===null?gg():l.alternate===null&&kt===0&&(kt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===dp?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),vg(i,u,p)),!1;case 22:return l.flags|=65536,u===dp?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),vg(i,u,p)),!1}throw Error(r(435,l.tag))}return vg(i,u,p),gg(),!1}if(st)return a=hr.current,a!==null?(!(a.flags&65536)&&(a.flags|=256),a.flags|=65536,a.lanes=p,u!==up&&(i=Error(r(422),{cause:u}),Uc(ur(i,l)))):(u!==up&&(a=Error(r(423),{cause:u}),Uc(ur(a,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,u=ur(u,l),p=Pp(i.stateNode,u,p),Qp(i,p),kt!==4&&(kt=2)),!1;var g=Error(r(520),{cause:u});if(g=ur(g,l),su===null?su=[g]:su.push(g),kt!==4&&(kt=2),a===null)return!0;u=ur(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=Pp(l.stateNode,u,i),Qp(l,i),!1;case 1:if(a=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Fs===null||!Fs.has(g))))return l.flags|=65536,p&=-p,l.lanes|=p,p=ww(p),Ew(p,i,l,u),Qp(l,p),!1}l=l.return}while(l!==null);return!1}var bw=Error(r(461)),sn=!1;function hn(i,a,l,u){a.child=i===null?R0(a,null,l,u):Wa(a,i.child,l,u)}function Tw(i,a,l,u,p){l=l.render;var g=a.ref;if("ref"in u){var S={};for(var M in u)M!=="ref"&&(S[M]=u[M])}else S=u;return Ja(a),u=vp(i,a,l,S,g,p),M=_p(),i!==null&&!sn?(wp(i,a,p),Ui(i,a,p)):(st&&M&&lp(a),a.flags|=1,hn(i,a,u,p),a.child)}function Sw(i,a,l,u,p){if(i===null){var g=l.type;return typeof g=="function"&&!ig(g)&&g.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=g,Aw(i,a,g,u,p)):(i=Af(l.type,null,u,a,a.mode,p),i.ref=a.ref,i.return=a,a.child=i)}if(g=i.child,!qp(i,p)){var S=g.memoizedProps;if(l=l.compare,l=l!==null?l:Pc,l(S,u)&&i.ref===a.ref)return Ui(i,a,p)}return a.flags|=1,i=Bs(g,u),i.ref=a.ref,i.return=a,a.child=i}function Aw(i,a,l,u,p){if(i!==null){var g=i.memoizedProps;if(Pc(g,u)&&i.ref===a.ref)if(sn=!1,a.pendingProps=u=g,qp(i,p))i.flags&131072&&(sn=!0);else return a.lanes=i.lanes,Ui(i,a,p)}return Lp(i,a,l,u,p)}function xw(i,a,l){var u=a.pendingProps,p=u.children,g=(a.stateNode._pendingVisibility&2)!==0,S=i!==null?i.memoizedState:null;if(Kc(i,a),u.mode==="hidden"||g){if(a.flags&128){if(u=S!==null?S.baseLanes|l:l,i!==null){for(p=a.child=i.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;a.childLanes=g&~u}else a.childLanes=0,a.child=null;return Rw(i,a,u,l)}if(l&536870912)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&uf(a,S!==null?S.cachePool:null),S!==null?C0(a,S):fp(),I0(a);else return a.lanes=a.childLanes=536870912,Rw(i,a,S!==null?S.baseLanes|l:l,l)}else S!==null?(uf(a,S.cachePool),C0(a,S),Ds(),a.memoizedState=null):(i!==null&&uf(a,null),fp(),Ds());return hn(i,a,p,l),a.child}function Rw(i,a,l,u){var p=gp();return p=p===null?null:{parent:Jt._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},i!==null&&uf(a,null),fp(),I0(a),i!==null&&Qc(i,a,u,!0),null}function Kc(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=2097664)}}function Lp(i,a,l,u,p){return Ja(a),l=vp(i,a,l,u,void 0,p),u=_p(),i!==null&&!sn?(wp(i,a,p),Ui(i,a,p)):(st&&u&&lp(a),a.flags|=1,hn(i,a,l,p),a.child)}function Cw(i,a,l,u,p,g){return Ja(a),a.updateQueue=null,l=k0(a,u,l,p),M0(i),u=_p(),i!==null&&!sn?(wp(i,a,g),Ui(i,a,g)):(st&&u&&lp(a),a.flags|=1,hn(i,a,l,g),a.child)}function Iw(i,a,l,u,p){if(Ja(a),a.stateNode===null){var g=tl,S=l.contextType;typeof S=="object"&&S!==null&&(g=bn(S)),g=new l(u,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=kp,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=u,g.state=a.memoizedState,g.refs={},Yp(a),S=l.contextType,g.context=typeof S=="object"&&S!==null?bn(S):tl,g.state=a.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Mp(a,l,S,u),g.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&kp.enqueueReplaceState(g,g.state,null),Jc(a,u,g,p),Zc(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(i===null){g=a.stateNode;var M=a.memoizedProps,U=Xa(l,M);g.props=U;var G=g.context,ne=l.contextType;S=tl,typeof ne=="object"&&ne!==null&&(S=bn(ne));var le=l.getDerivedStateFromProps;ne=typeof le=="function"||typeof g.getSnapshotBeforeUpdate=="function",M=a.pendingProps!==M,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(M||G!==S)&&pw(a,g,u,S),ks=!1;var Q=a.memoizedState;g.state=Q,Jc(a,u,g,p),Zc(),G=a.memoizedState,M||Q!==G||ks?(typeof le=="function"&&(Mp(a,l,le,u),G=a.memoizedState),(U=ks||mw(a,l,U,u,Q,G,S))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=G),g.props=u,g.state=G,g.context=S,u=U):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{g=a.stateNode,Kp(i,a),S=a.memoizedProps,ne=Xa(l,S),g.props=ne,le=a.pendingProps,Q=g.context,G=l.contextType,U=tl,typeof G=="object"&&G!==null&&(U=bn(G)),M=l.getDerivedStateFromProps,(G=typeof M=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==le||Q!==U)&&pw(a,g,u,U),ks=!1,Q=a.memoizedState,g.state=Q,Jc(a,u,g,p),Zc();var te=a.memoizedState;S!==le||Q!==te||ks||i!==null&&i.dependencies!==null&&Ef(i.dependencies)?(typeof M=="function"&&(Mp(a,l,M,u),te=a.memoizedState),(ne=ks||mw(a,l,ne,u,Q,te,U)||i!==null&&i.dependencies!==null&&Ef(i.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,te,U),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,te,U)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===i.memoizedProps&&Q===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&Q===i.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=te),g.props=u,g.state=te,g.context=U,u=ne):(typeof g.componentDidUpdate!="function"||S===i.memoizedProps&&Q===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&Q===i.memoizedState||(a.flags|=1024),u=!1)}return g=u,Kc(i,a),u=(a.flags&128)!==0,g||u?(g=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,i!==null&&u?(a.child=Wa(a,i.child,null,p),a.child=Wa(a,null,l,p)):hn(i,a,l,p),a.memoizedState=g.state,i=a.child):i=Ui(i,a,p),i}function Dw(i,a,l,u){return jc(),a.flags|=256,hn(i,a,l,u),a.child}var Vp={dehydrated:null,treeContext:null,retryLane:0};function jp(i){return{baseLanes:i,cachePool:O0()}}function Up(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=yr),i}function Nw(i,a,l){var u=a.pendingProps,p=!1,g=(a.flags&128)!==0,S;if((S=g)||(S=i!==null&&i.memoizedState===null?!1:(Zt.current&2)!==0),S&&(p=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,i===null){if(st){if(p?Is(a):Ds(),st){var M=fn,U;if(U=M){e:{for(U=M,M=Qr;U.nodeType!==8;){if(!M){M=null;break e}if(U=Rr(U.nextSibling),U===null){M=null;break e}}M=U}M!==null?(a.memoizedState={dehydrated:M,treeContext:Ha!==null?{id:Pi,overflow:Li}:null,retryLane:536870912},U=gr(18,null,null,0),U.stateNode=M,U.return=a,a.child=U,Nn=a,fn=null,U=!0):U=!1}U||Ga(a)}if(M=a.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return M.data==="$!"?a.lanes=16:a.lanes=536870912,null;Vi(a)}return M=u.children,u=u.fallback,p?(Ds(),p=a.mode,M=zp({mode:"hidden",children:M},p),u=to(u,p,l,null),M.return=a,u.return=a,M.sibling=u,a.child=M,p=a.child,p.memoizedState=jp(l),p.childLanes=Up(i,S,l),a.memoizedState=Vp,u):(Is(a),Bp(a,M))}if(U=i.memoizedState,U!==null&&(M=U.dehydrated,M!==null)){if(g)a.flags&256?(Is(a),a.flags&=-257,a=Fp(i,a,l)):a.memoizedState!==null?(Ds(),a.child=i.child,a.flags|=128,a=null):(Ds(),p=u.fallback,M=a.mode,u=zp({mode:"visible",children:u.children},M),p=to(p,M,l,null),p.flags|=2,u.return=a,p.return=a,u.sibling=p,a.child=u,Wa(a,i.child,null,l),u=a.child,u.memoizedState=jp(l),u.childLanes=Up(i,S,l),a.memoizedState=Vp,a=p);else if(Is(a),M.data==="$!"){if(S=M.nextSibling&&M.nextSibling.dataset,S)var G=S.dgst;S=G,u=Error(r(419)),u.stack="",u.digest=S,Uc({value:u,source:null,stack:null}),a=Fp(i,a,l)}else if(sn||Qc(i,a,l,!1),S=(l&i.childLanes)!==0,sn||S){if(S=yt,S!==null){if(u=l&-l,u&42)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=u&(S.suspendedLanes|l)?0:u,u!==0&&u!==U.retryLane)throw U.retryLane=u,Cs(i,u),On(S,i,u),bw}M.data==="$?"||gg(),a=Fp(i,a,l)}else M.data==="$?"?(a.flags|=128,a.child=i.child,a=FD.bind(null,i),M._reactRetry=a,a=null):(i=U.treeContext,fn=Rr(M.nextSibling),Nn=a,st=!0,Ar=null,Qr=!1,i!==null&&(dr[fr++]=Pi,dr[fr++]=Li,dr[fr++]=Ha,Pi=i.id,Li=i.overflow,Ha=a),a=Bp(a,u.children),a.flags|=4096);return a}return p?(Ds(),p=u.fallback,M=a.mode,U=i.child,G=U.sibling,u=Bs(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&31457280,G!==null?p=Bs(G,p):(p=to(p,M,l,null),p.flags|=2),p.return=a,u.return=a,u.sibling=p,a.child=u,u=p,p=a.child,M=i.child.memoizedState,M===null?M=jp(l):(U=M.cachePool,U!==null?(G=Jt._currentValue,U=U.parent!==G?{parent:G,pool:G}:U):U=O0(),M={baseLanes:M.baseLanes|l,cachePool:U}),p.memoizedState=M,p.childLanes=Up(i,S,l),a.memoizedState=Vp,u):(Is(a),l=i.child,i=l.sibling,l=Bs(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,i!==null&&(S=a.deletions,S===null?(a.deletions=[i],a.flags|=16):S.push(i)),a.child=l,a.memoizedState=null,l)}function Bp(i,a){return a=zp({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function zp(i,a){return rE(i,a,0,null)}function Fp(i,a,l){return Wa(a,i.child,null,l),i=Bp(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function Ow(i,a,l){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a),Wp(i.return,a,l)}function Hp(i,a,l,u,p){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=l,g.tailMode=p)}function Mw(i,a,l){var u=a.pendingProps,p=u.revealOrder,g=u.tail;if(hn(i,a,u.children,l),u=Zt.current,u&2)u=u&1|2,a.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ow(i,l,a);else if(i.tag===19)Ow(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(be(Zt,u),p){case"forwards":for(l=a.child,p=null;l!==null;)i=l.alternate,i!==null&&cf(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),Hp(a,!1,p,l,g);break;case"backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(i=p.alternate,i!==null&&cf(i)===null){a.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}Hp(a,!0,l,null,g);break;case"together":Hp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ui(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),zs|=a.lanes,!(l&a.childLanes))if(i!==null){if(Qc(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=Bs(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=Bs(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function qp(i,a){return i.lanes&a?!0:(i=i.dependencies,!!(i!==null&&Ef(i)))}function CD(i,a,l){switch(a.tag){case 3:_n(a,a.stateNode.containerInfo),Ms(a,Jt,i.memoizedState.cache),jc();break;case 27:case 5:Pn(a);break;case 4:_n(a,a.stateNode.containerInfo);break;case 10:Ms(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Is(a),a.flags|=128,null):l&a.child.childLanes?Nw(i,a,l):(Is(a),i=Ui(i,a,l),i!==null?i.sibling:null);Is(a);break;case 19:var p=(i.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(Qc(i,a,l,!1),u=(l&a.childLanes)!==0),p){if(u)return Mw(i,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),be(Zt,Zt.current),u)break;return null;case 22:case 23:return a.lanes=0,xw(i,a,l);case 24:Ms(a,Jt,i.memoizedState.cache)}return Ui(i,a,l)}function kw(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)sn=!0;else{if(!qp(i,l)&&!(a.flags&128))return sn=!1,CD(i,a,l);sn=!!(i.flags&131072)}else sn=!1,st&&a.flags&1048576&&v0(a,rf,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var u=a.elementType,p=u._init;if(u=p(u._payload),a.type=u,typeof u=="function")ig(u)?(i=Xa(u,i),a.tag=1,a=Iw(null,a,u,i,l)):(a.tag=0,a=Lp(null,a,u,i,l));else{if(u!=null){if(p=u.$$typeof,p===x){a.tag=11,a=Tw(null,a,u,i,l);break e}else if(p===I){a.tag=14,a=Sw(null,a,u,i,l);break e}}throw a=N(u)||u,Error(r(306,a,""))}}return a;case 0:return Lp(i,a,a.type,a.pendingProps,l);case 1:return u=a.type,p=Xa(u,a.pendingProps),Iw(i,a,u,p,l);case 3:e:{if(_n(a,a.stateNode.containerInfo),i===null)throw Error(r(387));var g=a.pendingProps;p=a.memoizedState,u=p.element,Kp(i,a),Jc(a,g,null,l);var S=a.memoizedState;if(g=S.cache,Ms(a,Jt,g),g!==p.cache&&$p(a,[Jt],l,!0),Zc(),g=S.element,p.isDehydrated)if(p={element:g,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=Dw(i,a,g,l);break e}else if(g!==u){u=ur(Error(r(424)),a),Uc(u),a=Dw(i,a,g,l);break e}else for(fn=Rr(a.stateNode.containerInfo.firstChild),Nn=a,st=!0,Ar=null,Qr=!0,l=R0(a,null,g,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(jc(),g===u){a=Ui(i,a,l);break e}hn(i,a,g,l)}a=a.child}return a;case 26:return Kc(i,a),i===null?(l=VE(a.type,null,a.pendingProps,null))?a.memoizedState=l:st||(l=a.type,i=a.pendingProps,u=Vf(ft.current).createElement(l),u[tn]=a,u[Kt]=i,mn(u,l,i),St(u),a.stateNode=u):a.memoizedState=VE(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Pn(a),i===null&&st&&(u=a.stateNode=kE(a.type,a.pendingProps,ft.current),Nn=a,Qr=!0,fn=Rr(u.firstChild)),u=a.pendingProps.children,i!==null||st?hn(i,a,u,l):a.child=Wa(a,null,u,l),Kc(i,a),a.child;case 5:return i===null&&st&&((p=u=fn)&&(u=iN(u,a.type,a.pendingProps,Qr),u!==null?(a.stateNode=u,Nn=a,fn=Rr(u.firstChild),Qr=!1,p=!0):p=!1),p||Ga(a)),Pn(a),p=a.type,g=a.pendingProps,S=i!==null?i.memoizedProps:null,u=g.children,Dg(p,g)?u=null:S!==null&&Dg(p,S)&&(a.flags|=32),a.memoizedState!==null&&(p=vp(i,a,ED,null,null,l),mu._currentValue=p),Kc(i,a),hn(i,a,u,l),a.child;case 6:return i===null&&st&&((i=l=fn)&&(l=sN(l,a.pendingProps,Qr),l!==null?(a.stateNode=l,Nn=a,fn=null,i=!0):i=!1),i||Ga(a)),null;case 13:return Nw(i,a,l);case 4:return _n(a,a.stateNode.containerInfo),u=a.pendingProps,i===null?a.child=Wa(a,null,u,l):hn(i,a,u,l),a.child;case 11:return Tw(i,a,a.type,a.pendingProps,l);case 7:return hn(i,a,a.pendingProps,l),a.child;case 8:return hn(i,a,a.pendingProps.children,l),a.child;case 12:return hn(i,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Ms(a,a.type,u.value),hn(i,a,u.children,l),a.child;case 9:return p=a.type._context,u=a.pendingProps.children,Ja(a),p=bn(p),u=u(p),a.flags|=1,hn(i,a,u,l),a.child;case 14:return Sw(i,a,a.type,a.pendingProps,l);case 15:return Aw(i,a,a.type,a.pendingProps,l);case 19:return Mw(i,a,l);case 22:return xw(i,a,l);case 24:return Ja(a),u=bn(Jt),i===null?(p=gp(),p===null&&(p=yt,g=mp(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=l),p=g),a.memoizedState={parent:u,cache:p},Yp(a),Ms(a,Jt,p)):(i.lanes&l&&(Kp(i,a),Jc(a,null,null,l),Zc()),p=i.memoizedState,g=a.memoizedState,p.parent!==u?(p={parent:u,cache:u},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Ms(a,Jt,u)):(u=g.cache,Ms(a,Jt,u),u!==p.cache&&$p(a,[Jt],l,!0))),hn(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}var Gp=_e(null),Za=null,Bi=null;function Ms(i,a,l){be(Gp,a._currentValue),a._currentValue=l}function zi(i){i._currentValue=Gp.current,Ie(Gp)}function Wp(i,a,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),i===l)break;i=i.return}}function $p(i,a,l,u){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var g=p.dependencies;if(g!==null){var S=p.child;g=g.firstContext;e:for(;g!==null;){var M=g;g=p;for(var U=0;U<a.length;U++)if(M.context===a[U]){g.lanes|=l,M=g.alternate,M!==null&&(M.lanes|=l),Wp(g.return,l,i),u||(S=null);break e}g=M.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(r(341));S.lanes|=l,g=S.alternate,g!==null&&(g.lanes|=l),Wp(S,l,i),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===i){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function Qc(i,a,l,u){i=null;for(var p=a,g=!1;p!==null;){if(!g){if(p.flags&524288)g=!0;else if(p.flags&262144)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var M=p.type;Wn(p.pendingProps.value,S.value)||(i!==null?i.push(M):i=[M])}}else if(p===Vt.current){if(S=p.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(mu):i=[mu])}p=p.return}i!==null&&$p(a,i,l,u),a.flags|=262144}function Ef(i){for(i=i.firstContext;i!==null;){if(!Wn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ja(i){Za=i,Bi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function bn(i){return Pw(Za,i)}function bf(i,a){return Za===null&&Ja(i),Pw(i,a)}function Pw(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Bi===null){if(i===null)throw Error(r(308));Bi=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Bi=Bi.next=a;return l}var ks=!1;function Yp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kp(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ps(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ls(i,a,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,xt&2){var p=u.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),u.pending=a,a=tf(i),g0(i,null,l),a}return ef(i,u,a,l),tf(i)}function Xc(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194176)!==0)){var u=a.lanes;u&=i.pendingLanes,l|=u,a.lanes=l,vs(i,l)}}function Qp(i,a){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?p=g=S:g=g.next=S,l=l.next}while(l!==null);g===null?p=g=a:g=g.next=a}else p=g=a;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var Xp=!1;function Zc(){if(Xp){var i=ol;if(i!==null)throw i}}function Jc(i,a,l,u){Xp=!1;var p=i.updateQueue;ks=!1;var g=p.firstBaseUpdate,S=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var U=M,G=U.next;U.next=null,S===null?g=G:S.next=G,S=U;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,M=ne.lastBaseUpdate,M!==S&&(M===null?ne.firstBaseUpdate=G:M.next=G,ne.lastBaseUpdate=U))}if(g!==null){var le=p.baseState;S=0,ne=G=U=null,M=g;do{var Q=M.lane&-536870913,te=Q!==M.lane;if(te?(nt&Q)===Q:(u&Q)===Q){Q!==0&&Q===al&&(Xp=!0),ne!==null&&(ne=ne.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Se=i,Le=M;Q=a;var Pt=l;switch(Le.tag){case 1:if(Se=Le.payload,typeof Se=="function"){le=Se.call(Pt,le,Q);break e}le=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Le.payload,Q=typeof Se=="function"?Se.call(Pt,le,Q):Se,Q==null)break e;le=L({},le,Q);break e;case 2:ks=!0}}Q=M.callback,Q!==null&&(i.flags|=64,te&&(i.flags|=8192),te=p.callbacks,te===null?p.callbacks=[Q]:te.push(Q))}else te={lane:Q,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ne===null?(G=ne=te,U=le):ne=ne.next=te,S|=Q;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;te=M,M=te.next,te.next=null,p.lastBaseUpdate=te,p.shared.pending=null}}while(!0);ne===null&&(U=le),p.baseState=U,p.firstBaseUpdate=G,p.lastBaseUpdate=ne,g===null&&(p.shared.lanes=0),zs|=S,i.lanes=S,i.memoizedState=le}}function Lw(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function Vw(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Lw(l[i],a)}function eu(i,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&i)===i){u=void 0;var g=l.create,S=l.inst;u=g(),S.destroy=u}l=l.next}while(l!==p)}}catch(M){gt(a,a.return,M)}}function Vs(i,a,l){try{var u=a.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var g=p.next;u=g;do{if((u.tag&i)===i){var S=u.inst,M=S.destroy;if(M!==void 0){S.destroy=void 0,p=a;var U=l;try{M()}catch(G){gt(p,U,G)}}}u=u.next}while(u!==g)}}catch(G){gt(a,a.return,G)}}function jw(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{Vw(a,l)}catch(u){gt(i,i.return,u)}}}function Uw(i,a,l){l.props=Xa(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){gt(i,a,u)}}function eo(i,a){try{var l=i.ref;if(l!==null){var u=i.stateNode;switch(i.tag){case 26:case 27:case 5:var p=u;break;default:p=u}typeof l=="function"?i.refCleanup=l(p):l.current=p}}catch(g){gt(i,a,g)}}function $n(i,a){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){gt(i,a,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){gt(i,a,p)}else l.current=null}function Bw(i){var a=i.type,l=i.memoizedProps,u=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){gt(i,i.return,p)}}function zw(i,a,l){try{var u=i.stateNode;JD(u,i.type,l,a),u[Kt]=a}catch(p){gt(i,i.return,p)}}function Fw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Zp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Fw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Jp(i,a,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?l.nodeType===8?l.parentNode.insertBefore(i,a):l.insertBefore(i,a):(l.nodeType===8?(a=l.parentNode,a.insertBefore(i,l)):(a=l,a.appendChild(i)),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Lf));else if(u!==4&&u!==27&&(i=i.child,i!==null))for(Jp(i,a,l),i=i.sibling;i!==null;)Jp(i,a,l),i=i.sibling}function Tf(i,a,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(u!==4&&u!==27&&(i=i.child,i!==null))for(Tf(i,a,l),i=i.sibling;i!==null;)Tf(i,a,l),i=i.sibling}var Fi=!1,Mt=!1,eg=!1,Hw=typeof WeakSet=="function"?WeakSet:Set,an=null,qw=!1;function ID(i,a){if(i=i.containerInfo,Cg=Hf,i=o0(i),np(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var S=0,M=-1,U=-1,G=0,ne=0,le=i,Q=null;t:for(;;){for(var te;le!==l||p!==0&&le.nodeType!==3||(M=S+p),le!==g||u!==0&&le.nodeType!==3||(U=S+u),le.nodeType===3&&(S+=le.nodeValue.length),(te=le.firstChild)!==null;)Q=le,le=te;for(;;){if(le===i)break t;if(Q===l&&++G===p&&(M=S),Q===g&&++ne===u&&(U=S),(te=le.nextSibling)!==null)break;le=Q,Q=le.parentNode}le=te}l=M===-1||U===-1?null:{start:M,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ig={focusedElem:i,selectionRange:l},Hf=!1,an=a;an!==null;)if(a=an,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,an=i;else for(;an!==null;){switch(a=an,g=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if(i&1024&&g!==null){i=void 0,l=a,p=g.memoizedProps,g=g.memoizedState,u=l.stateNode;try{var Se=Xa(l.type,p,l.elementType===l.type);i=u.getSnapshotBeforeUpdate(Se,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Le){gt(l,l.return,Le)}}break;case 3:if(i&1024){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)Mg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Mg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(i&1024)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,an=i;break}an=a.return}return Se=qw,qw=!1,Se}function Gw(i,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:qi(i,l),u&4&&eu(5,l);break;case 1:if(qi(i,l),u&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(M){gt(l,l.return,M)}else{var p=Xa(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(p,a,i.__reactInternalSnapshotBeforeUpdate)}catch(M){gt(l,l.return,M)}}u&64&&jw(l),u&512&&eo(l,l.return);break;case 3:if(qi(i,l),u&64&&(u=l.updateQueue,u!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Vw(u,i)}catch(M){gt(l,l.return,M)}}break;case 26:qi(i,l),u&512&&eo(l,l.return);break;case 27:case 5:qi(i,l),a===null&&u&4&&Bw(l),u&512&&eo(l,l.return);break;case 12:qi(i,l);break;case 13:qi(i,l),u&4&&Yw(i,l);break;case 22:if(p=l.memoizedState!==null||Fi,!p){a=a!==null&&a.memoizedState!==null||Mt;var g=Fi,S=Mt;Fi=p,(Mt=a)&&!S?js(i,l,(l.subtreeFlags&8772)!==0):qi(i,l),Fi=g,Mt=S}u&512&&(l.memoizedProps.mode==="manual"?eo(l,l.return):$n(l,l.return));break;default:qi(i,l)}}function Ww(i){var a=i.alternate;a!==null&&(i.alternate=null,Ww(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Da(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Wt=null,Yn=!1;function Hi(i,a,l){for(l=l.child;l!==null;)$w(i,a,l),l=l.sibling}function $w(i,a,l){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(ot,l)}catch{}switch(l.tag){case 26:Mt||$n(l,a),Hi(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Mt||$n(l,a);var u=Wt,p=Yn;for(Wt=l.stateNode,Hi(i,a,l),l=l.stateNode,a=l.attributes;a.length;)l.removeAttributeNode(a[0]);Da(l),Wt=u,Yn=p;break;case 5:Mt||$n(l,a);case 6:p=Wt;var g=Yn;if(Wt=null,Hi(i,a,l),Wt=p,Yn=g,Wt!==null)if(Yn)try{i=Wt,u=l.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)}catch(S){gt(l,a,S)}else try{Wt.removeChild(l.stateNode)}catch(S){gt(l,a,S)}break;case 18:Wt!==null&&(Yn?(a=Wt,l=l.stateNode,a.nodeType===8?Og(a.parentNode,l):a.nodeType===1&&Og(a,l),vu(a)):Og(Wt,l.stateNode));break;case 4:u=Wt,p=Yn,Wt=l.stateNode.containerInfo,Yn=!0,Hi(i,a,l),Wt=u,Yn=p;break;case 0:case 11:case 14:case 15:Mt||Vs(2,l,a),Mt||Vs(4,l,a),Hi(i,a,l);break;case 1:Mt||($n(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Uw(l,a,u)),Hi(i,a,l);break;case 21:Hi(i,a,l);break;case 22:Mt||$n(l,a),Mt=(u=Mt)||l.memoizedState!==null,Hi(i,a,l),Mt=u;break;default:Hi(i,a,l)}}function Yw(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{vu(i)}catch(l){gt(a,a.return,l)}}function DD(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new Hw),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new Hw),a;default:throw Error(r(435,i.tag))}}function tg(i,a){var l=DD(i);a.forEach(function(u){var p=HD.bind(null,i,u);l.has(u)||(l.add(u),u.then(p,p))})}function mr(i,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],g=i,S=a,M=S;e:for(;M!==null;){switch(M.tag){case 27:case 5:Wt=M.stateNode,Yn=!1;break e;case 3:Wt=M.stateNode.containerInfo,Yn=!0;break e;case 4:Wt=M.stateNode.containerInfo,Yn=!0;break e}M=M.return}if(Wt===null)throw Error(r(160));$w(g,S,p),Wt=null,Yn=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Kw(a,i),a=a.sibling}var xr=null;function Kw(i,a){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:mr(a,i),pr(i),u&4&&(Vs(3,i,i.return),eu(3,i),Vs(5,i,i.return));break;case 1:mr(a,i),pr(i),u&512&&(Mt||l===null||$n(l,l.return)),u&64&&Fi&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=xr;if(mr(a,i),pr(i),u&512&&(Mt||l===null||$n(l,l.return)),u&4){var g=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){e:{u=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":g=p.getElementsByTagName("title")[0],(!g||g[ws]||g[tn]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(u),p.head.insertBefore(g,p.querySelector("head > title"))),mn(g,u,l),g[tn]=i,St(g),u=g;break e;case"link":var S=BE("link","href",p).get(u+(l.href||""));if(S){for(var M=0;M<S.length;M++)if(g=S[M],g.getAttribute("href")===(l.href==null?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(M,1);break t}}g=p.createElement(u),mn(g,u,l),p.head.appendChild(g);break;case"meta":if(S=BE("meta","content",p).get(u+(l.content||""))){for(M=0;M<S.length;M++)if(g=S[M],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(M,1);break t}}g=p.createElement(u),mn(g,u,l),p.head.appendChild(g);break;default:throw Error(r(468,u))}g[tn]=i,St(g),u=g}i.stateNode=u}else zE(p,i.type,i.stateNode);else i.stateNode=UE(p,u,i.memoizedProps);else g!==u?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,u===null?zE(p,i.type,i.stateNode):UE(p,u,i.memoizedProps)):u===null&&i.stateNode!==null&&zw(i,i.memoizedProps,l.memoizedProps)}break;case 27:if(u&4&&i.alternate===null){p=i.stateNode,g=i.memoizedProps;try{for(var U=p.firstChild;U;){var G=U.nextSibling,ne=U.nodeName;U[ws]||ne==="HEAD"||ne==="BODY"||ne==="SCRIPT"||ne==="STYLE"||ne==="LINK"&&U.rel.toLowerCase()==="stylesheet"||p.removeChild(U),U=G}for(var le=i.type,Q=p.attributes;Q.length;)p.removeAttributeNode(Q[0]);mn(p,le,g),p[tn]=i,p[Kt]=g}catch(Se){gt(i,i.return,Se)}}case 5:if(mr(a,i),pr(i),u&512&&(Mt||l===null||$n(l,l.return)),i.flags&32){p=i.stateNode;try{sr(p,"")}catch(Se){gt(i,i.return,Se)}}u&4&&i.stateNode!=null&&(p=i.memoizedProps,zw(i,p,l!==null?l.memoizedProps:p)),u&1024&&(eg=!0);break;case 6:if(mr(a,i),pr(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(Se){gt(i,i.return,Se)}}break;case 3:if(Bf=null,p=xr,xr=jf(a.containerInfo),mr(a,i),xr=p,pr(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{vu(a.containerInfo)}catch(Se){gt(i,i.return,Se)}eg&&(eg=!1,Qw(i));break;case 4:u=xr,xr=jf(i.stateNode.containerInfo),mr(a,i),pr(i),xr=u;break;case 12:mr(a,i),pr(i);break;case 13:mr(a,i),pr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ug=wn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,tg(i,u)));break;case 22:if(u&512&&(Mt||l===null||$n(l,l.return)),U=i.memoizedState!==null,G=l!==null&&l.memoizedState!==null,ne=Fi,le=Mt,Fi=ne||U,Mt=le||G,mr(a,i),Mt=le,Fi=ne,pr(i),a=i.stateNode,a._current=i,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,u&8192&&(a._visibility=U?a._visibility&-2:a._visibility|1,U&&(a=Fi||Mt,l===null||G||a||dl(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(l=null,a=i;;){if(a.tag===5||a.tag===26||a.tag===27){if(l===null){G=l=a;try{if(p=G.stateNode,U)g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{S=G.stateNode,M=G.memoizedProps.style;var te=M!=null&&M.hasOwnProperty("display")?M.display:null;S.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Se){gt(G,G.return,Se)}}}else if(a.tag===6){if(l===null){G=a;try{G.stateNode.nodeValue=U?"":G.memoizedProps}catch(Se){gt(G,G.return,Se)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,tg(i,l))));break;case 19:mr(a,i),pr(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,tg(i,u)));break;case 21:break;default:mr(a,i),pr(i)}}function pr(i){var a=i.flags;if(a&2){try{if(i.tag!==27){e:{for(var l=i.return;l!==null;){if(Fw(l)){var u=l;break e}l=l.return}throw Error(r(160))}switch(u.tag){case 27:var p=u.stateNode,g=Zp(i);Tf(i,g,p);break;case 5:var S=u.stateNode;u.flags&32&&(sr(S,""),u.flags&=-33);var M=Zp(i);Tf(i,M,S);break;case 3:case 4:var U=u.stateNode.containerInfo,G=Zp(i);Jp(i,G,U);break;default:throw Error(r(161))}}}catch(ne){gt(i,i.return,ne)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Qw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;Qw(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function qi(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Gw(i,a.alternate,a),a=a.sibling}function dl(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Vs(4,a,a.return),dl(a);break;case 1:$n(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Uw(a,a.return,l),dl(a);break;case 26:case 27:case 5:$n(a,a.return),dl(a);break;case 22:$n(a,a.return),a.memoizedState===null&&dl(a);break;default:dl(a)}i=i.sibling}}function js(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,p=i,g=a,S=g.flags;switch(g.tag){case 0:case 11:case 15:js(p,g,l),eu(4,g);break;case 1:if(js(p,g,l),u=g,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(G){gt(u,u.return,G)}if(u=g,p=u.updateQueue,p!==null){var M=u.stateNode;try{var U=p.shared.hiddenCallbacks;if(U!==null)for(p.shared.hiddenCallbacks=null,p=0;p<U.length;p++)Lw(U[p],M)}catch(G){gt(u,u.return,G)}}l&&S&64&&jw(g),eo(g,g.return);break;case 26:case 27:case 5:js(p,g,l),l&&u===null&&S&4&&Bw(g),eo(g,g.return);break;case 12:js(p,g,l);break;case 13:js(p,g,l),l&&S&4&&Yw(p,g);break;case 22:g.memoizedState===null&&js(p,g,l),eo(g,g.return);break;default:js(p,g,l)}a=a.sibling}}function ng(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&qc(l))}function rg(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&qc(i))}function Us(i,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Xw(i,a,l,u),a=a.sibling}function Xw(i,a,l,u){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Us(i,a,l,u),p&2048&&eu(9,a);break;case 3:Us(i,a,l,u),p&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&qc(i)));break;case 12:if(p&2048){Us(i,a,l,u),i=a.stateNode;try{var g=a.memoizedProps,S=g.id,M=g.onPostCommit;typeof M=="function"&&M(S,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(U){gt(a,a.return,U)}}else Us(i,a,l,u);break;case 23:break;case 22:g=a.stateNode,a.memoizedState!==null?g._visibility&4?Us(i,a,l,u):tu(i,a):g._visibility&4?Us(i,a,l,u):(g._visibility|=4,fl(i,a,l,u,(a.subtreeFlags&10256)!==0)),p&2048&&ng(a.alternate,a);break;case 24:Us(i,a,l,u),p&2048&&rg(a.alternate,a);break;default:Us(i,a,l,u)}}function fl(i,a,l,u,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=i,S=a,M=l,U=u,G=S.flags;switch(S.tag){case 0:case 11:case 15:fl(g,S,M,U,p),eu(8,S);break;case 23:break;case 22:var ne=S.stateNode;S.memoizedState!==null?ne._visibility&4?fl(g,S,M,U,p):tu(g,S):(ne._visibility|=4,fl(g,S,M,U,p)),p&&G&2048&&ng(S.alternate,S);break;case 24:fl(g,S,M,U,p),p&&G&2048&&rg(S.alternate,S);break;default:fl(g,S,M,U,p)}a=a.sibling}}function tu(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,u=a,p=u.flags;switch(u.tag){case 22:tu(l,u),p&2048&&ng(u.alternate,u);break;case 24:tu(l,u),p&2048&&rg(u.alternate,u);break;default:tu(l,u)}a=a.sibling}}var nu=8192;function hl(i){if(i.subtreeFlags&nu)for(i=i.child;i!==null;)Zw(i),i=i.sibling}function Zw(i){switch(i.tag){case 26:hl(i),i.flags&nu&&i.memoizedState!==null&&vN(xr,i.memoizedState,i.memoizedProps);break;case 5:hl(i);break;case 3:case 4:var a=xr;xr=jf(i.stateNode.containerInfo),hl(i),xr=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=nu,nu=16777216,hl(i),nu=a):hl(i));break;default:hl(i)}}function Jw(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function ru(i){var a=i.deletions;if(i.flags&16){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];an=u,tE(u,i)}Jw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)eE(i),i=i.sibling}function eE(i){switch(i.tag){case 0:case 11:case 15:ru(i),i.flags&2048&&Vs(9,i,i.return);break;case 3:ru(i);break;case 12:ru(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&4&&(i.return===null||i.return.tag!==13)?(a._visibility&=-5,Sf(i)):ru(i);break;default:ru(i)}}function Sf(i){var a=i.deletions;if(i.flags&16){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];an=u,tE(u,i)}Jw(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Vs(8,a,a.return),Sf(a);break;case 22:l=a.stateNode,l._visibility&4&&(l._visibility&=-5,Sf(a));break;default:Sf(a)}i=i.sibling}}function tE(i,a){for(;an!==null;){var l=an;switch(l.tag){case 0:case 11:case 15:Vs(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:qc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,an=u;else e:for(l=i;an!==null;){u=an;var p=u.sibling,g=u.return;if(Ww(u),u===l){an=null;break e}if(p!==null){p.return=g,an=p;break e}an=g}}}function ND(i,a,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(i,a,l,u){return new ND(i,a,l,u)}function ig(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Bs(i,a){var l=i.alternate;return l===null?(l=gr(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&31457280,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function nE(i,a){i.flags&=31457282;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Af(i,a,l,u,p,g){var S=0;if(u=i,typeof i=="function")ig(i)&&(S=1);else if(typeof i=="string")S=gN(i,l,ke.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case f:return to(l.children,p,g,a);case m:S=8,p|=24;break;case y:return i=gr(12,l,a,p|2),i.elementType=y,i.lanes=g,i;case R:return i=gr(13,l,a,p),i.elementType=R,i.lanes=g,i;case C:return i=gr(19,l,a,p),i.elementType=C,i.lanes=g,i;case j:return rE(l,p,g,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case v:case A:S=10;break e;case b:S=9;break e;case x:S=11;break e;case I:S=14;break e;case D:S=16,u=null;break e}S=29,l=Error(r(130,i===null?"null":typeof i,"")),u=null}return a=gr(S,l,a,p),a.elementType=i,a.type=u,a.lanes=g,a}function to(i,a,l,u){return i=gr(7,i,u,a),i.lanes=l,i}function rE(i,a,l,u){i=gr(22,i,u,a),i.elementType=j,i.lanes=l;var p={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=p._current;if(g===null)throw Error(r(456));if(!(p._pendingVisibility&2)){var S=Cs(g,2);S!==null&&(p._pendingVisibility|=2,On(S,g,2))}},attach:function(){var g=p._current;if(g===null)throw Error(r(456));if(p._pendingVisibility&2){var S=Cs(g,2);S!==null&&(p._pendingVisibility&=-3,On(S,g,2))}}};return i.stateNode=p,i}function sg(i,a,l){return i=gr(6,i,null,a),i.lanes=l,i}function ag(i,a,l){return a=gr(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function Gi(i){i.flags|=4}function iE(i,a){if(a.type!=="stylesheet"||a.state.loading&4)i.flags&=-16777217;else if(i.flags|=16777216,!FE(a)){if(a=hr.current,a!==null&&((nt&4194176)===nt?Xr!==null:(nt&62914560)!==nt&&!(nt&536870912)||a!==Xr))throw zc=dp,E0;i.flags|=8192}}function xf(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?gs():536870912,i.lanes|=a,pl|=a)}function iu(i,a){if(!st)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function At(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(a)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&31457280,u|=p.flags&31457280,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=u,i.childLanes=l,a}function OD(i,a,l){var u=a.pendingProps;switch(cp(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(a),null;case 1:return At(a),null;case 3:return l=a.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),zi(Jt),un(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Vc(a)?Gi(a):i===null||i.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Ar!==null&&(mg(Ar),Ar=null))),At(a),null;case 26:return l=a.memoizedState,i===null?(Gi(a),l!==null?(At(a),iE(a,l)):(At(a),a.flags&=-16777217)):l?l!==i.memoizedState?(Gi(a),At(a),iE(a,l)):(At(a),a.flags&=-16777217):(i.memoizedProps!==u&&Gi(a),At(a),a.flags&=-16777217),null;case 27:Ur(a),l=ft.current;var p=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==u&&Gi(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return At(a),null}i=ke.current,Vc(a)?_0(a):(i=kE(p,u,l),a.stateNode=i,Gi(a))}return At(a),null;case 5:if(Ur(a),l=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==u&&Gi(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return At(a),null}if(i=ke.current,Vc(a))_0(a);else{switch(p=Vf(ft.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?p.createElement(l,{is:u.is}):p.createElement(l)}}i[tn]=a,i[Kt]=u;e:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break e;for(;p.sibling===null;){if(p.return===null||p.return===a)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=i;e:switch(mn(i,l,u),l){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Gi(a)}}return At(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==u&&Gi(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(r(166));if(i=ft.current,Vc(a)){if(i=a.stateNode,l=a.memoizedProps,u=null,p=Nn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}i[tn]=a,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||CE(i.nodeValue,l)),i||Ga(a)}else i=Vf(i).createTextNode(u),i[tn]=a,a.stateNode=i}return At(a),null;case 13:if(u=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Vc(a),u!==null&&u.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[tn]=a}else jc(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;At(a),p=!1}else Ar!==null&&(mg(Ar),Ar=null),p=!0;if(!p)return a.flags&256?(Vi(a),a):(Vi(a),null)}if(Vi(a),a.flags&128)return a.lanes=l,a;if(l=u!==null,i=i!==null&&i.memoizedState!==null,l){u=a.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==p&&(u.flags|=2048)}return l!==i&&l&&(a.child.flags|=8192),xf(a,a.updateQueue),At(a),null;case 4:return un(),i===null&&Ag(a.stateNode.containerInfo),At(a),null;case 10:return zi(a.type),At(a),null;case 19:if(Ie(Zt),p=a.memoizedState,p===null)return At(a),null;if(u=(a.flags&128)!==0,g=p.rendering,g===null)if(u)iu(p,!1);else{if(kt!==0||i!==null&&i.flags&128)for(i=a.child;i!==null;){if(g=cf(i),g!==null){for(a.flags|=128,iu(p,!1),i=g.updateQueue,a.updateQueue=i,xf(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)nE(l,i),l=l.sibling;return be(Zt,Zt.current&1|2),a.child}i=i.sibling}p.tail!==null&&wn()>Rf&&(a.flags|=128,u=!0,iu(p,!1),a.lanes=4194304)}else{if(!u)if(i=cf(g),i!==null){if(a.flags|=128,u=!0,i=i.updateQueue,a.updateQueue=i,xf(a,i),iu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!st)return At(a),null}else 2*wn()-p.renderingStartTime>Rf&&l!==536870912&&(a.flags|=128,u=!0,iu(p,!1),a.lanes=4194304);p.isBackwards?(g.sibling=a.child,a.child=g):(i=p.last,i!==null?i.sibling=g:a.child=g,p.last=g)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=wn(),a.sibling=null,i=Zt.current,be(Zt,u?i&1|2:i&1),a):(At(a),null);case 22:case 23:return Vi(a),hp(),u=a.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?l&536870912&&!(a.flags&128)&&(At(a),a.subtreeFlags&6&&(a.flags|=8192)):At(a),l=a.updateQueue,l!==null&&xf(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),i!==null&&Ie($a),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),zi(Jt),At(a),null;case 25:return null}throw Error(r(156,a.tag))}function MD(i,a){switch(cp(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return zi(Jt),un(),i=a.flags,i&65536&&!(i&128)?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Ur(a),null;case 13:if(Vi(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));jc()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return Ie(Zt),null;case 4:return un(),null;case 10:return zi(a.type),null;case 22:case 23:return Vi(a),hp(),i!==null&&Ie($a),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return zi(Jt),null;case 25:return null;default:return null}}function sE(i,a){switch(cp(a),a.tag){case 3:zi(Jt),un();break;case 26:case 27:case 5:Ur(a);break;case 4:un();break;case 13:Vi(a);break;case 19:Ie(Zt);break;case 10:zi(a.type);break;case 22:case 23:Vi(a),hp(),i!==null&&Ie($a);break;case 24:zi(Jt)}}var kD={getCacheForType:function(i){var a=bn(Jt),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l}},PD=typeof WeakMap=="function"?WeakMap:Map,xt=0,yt=null,$e=null,nt=0,vt=0,Kn=null,Wi=!1,ml=!1,og=!1,$i=0,kt=0,zs=0,no=0,lg=0,yr=0,pl=0,su=null,Jr=null,cg=!1,ug=0,Rf=1/0,Cf=null,Fs=null,If=!1,ro=null,au=0,dg=0,fg=null,ou=0,hg=null;function Qn(){if(xt&2&&nt!==0)return nt&-nt;if(O.T!==null){var i=al;return i!==0?i:Eg()}return kd()}function aE(){yr===0&&(yr=!(nt&536870912)||st?_c():536870912);var i=hr.current;return i!==null&&(i.flags|=32),yr}function On(i,a,l){(i===yt&&vt===2||i.cancelPendingCommit!==null)&&(gl(i,0),Yi(i,nt,yr,!1)),Ut(i,l),(!(xt&2)||i!==yt)&&(i===yt&&(!(xt&2)&&(no|=l),kt===4&&Yi(i,nt,yr,!1)),ei(i))}function oE(i,a,l){if(xt&6)throw Error(r(327));var u=!l&&(a&60)===0&&(a&i.expiredLanes)===0||rr(i,a),p=u?jD(i,a):yg(i,a,!0),g=u;do{if(p===0){ml&&!u&&Yi(i,a,0,!1);break}else if(p===6)Yi(i,a,0,!Wi);else{if(l=i.current.alternate,g&&!LD(l)){p=yg(i,a,!1),g=!1;continue}if(p===2){if(g=a,i.errorRecoveryDisabledLanes&g)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;e:{var M=i;p=su;var U=M.current.memoizedState.isDehydrated;if(U&&(gl(M,S).flags|=256),S=yg(M,S,!1),S!==2){if(og&&!U){M.errorRecoveryDisabledLanes|=g,no|=g,p=4;break e}g=Jr,Jr=p,g!==null&&mg(g)}p=S}if(g=!1,p!==2)continue}}if(p===1){gl(i,0),Yi(i,a,0,!0);break}e:{switch(u=i,p){case 0:case 1:throw Error(r(345));case 4:if((a&4194176)===a){Yi(u,a,yr,!Wi);break e}break;case 2:Jr=null;break;case 3:case 5:break;default:throw Error(r(329))}if(u.finishedWork=l,u.finishedLanes=a,(a&62914560)===a&&(g=ug+300-wn(),10<g)){if(Yi(u,a,yr,!Wi),En(u,0)!==0)break e;u.timeoutHandle=NE(lE.bind(null,u,l,Jr,Cf,cg,a,yr,no,pl,Wi,2,-0,0),g);break e}lE(u,l,Jr,Cf,cg,a,yr,no,pl,Wi,0,-0,0)}}break}while(!0);ei(i)}function mg(i){Jr===null?Jr=i:Jr.push.apply(Jr,i)}function lE(i,a,l,u,p,g,S,M,U,G,ne,le,Q){var te=a.subtreeFlags;if((te&8192||(te&16785408)===16785408)&&(hu={stylesheets:null,count:0,unsuspend:yN},Zw(a),a=_N(),a!==null)){i.cancelPendingCommit=a(pE.bind(null,i,l,u,p,S,M,U,1,le,Q)),Yi(i,g,S,!G);return}pE(i,l,u,p,S,M,U,ne,le,Q)}function LD(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],g=p.getSnapshot;p=p.value;try{if(!Wn(g(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Yi(i,a,l,u){a&=~lg,a&=~no,i.suspendedLanes|=a,i.pingedLanes&=~a,u&&(i.warmLanes|=a),u=i.expirationTimes;for(var p=a;0<p;){var g=31-Ht(p),S=1<<g;u[g]=-1,p&=~S}l!==0&&ys(i,l,a)}function Df(){return xt&6?!0:(lu(0),!1)}function pg(){if($e!==null){if(vt===0)var i=$e.return;else i=$e,Bi=Za=null,Ep(i),il=null,Fc=0,i=$e;for(;i!==null;)sE(i.alternate,i),i=i.return;$e=null}}function gl(i,a){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,tN(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),pg(),yt=i,$e=l=Bs(i.current,null),nt=a,vt=0,Kn=null,Wi=!1,ml=rr(i,a),og=!1,pl=yr=lg=no=zs=kt=0,Jr=su=null,cg=!1,a&8&&(a|=a&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=a;0<u;){var p=31-Ht(u),g=1<<p;a|=i[p],u&=~g}return $i=a,Jd(),l}function cE(i,a){Ge=null,O.H=Zr,a===Bc?(a=S0(),vt=3):a===E0?(a=S0(),vt=4):vt=a===bw?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Kn=a,$e===null&&(kt=1,wf(i,ur(a,i.current)))}function uE(){var i=O.H;return O.H=Zr,i===null?Zr:i}function dE(){var i=O.A;return O.A=kD,i}function gg(){kt=4,Wi||(nt&4194176)!==nt&&hr.current!==null||(ml=!0),!(zs&134217727)&&!(no&134217727)||yt===null||Yi(yt,nt,yr,!1)}function yg(i,a,l){var u=xt;xt|=2;var p=uE(),g=dE();(yt!==i||nt!==a)&&(Cf=null,gl(i,a)),a=!1;var S=kt;e:do try{if(vt!==0&&$e!==null){var M=$e,U=Kn;switch(vt){case 8:pg(),S=6;break e;case 3:case 2:case 6:hr.current===null&&(a=!0);var G=vt;if(vt=0,Kn=null,yl(i,M,U,G),l&&ml){S=0;break e}break;default:G=vt,vt=0,Kn=null,yl(i,M,U,G)}}VD(),S=kt;break}catch(ne){cE(i,ne)}while(!0);return a&&i.shellSuspendCounter++,Bi=Za=null,xt=u,O.H=p,O.A=g,$e===null&&(yt=null,nt=0,Jd()),S}function VD(){for(;$e!==null;)fE($e)}function jD(i,a){var l=xt;xt|=2;var u=uE(),p=dE();yt!==i||nt!==a?(Cf=null,Rf=wn()+500,gl(i,a)):ml=rr(i,a);e:do try{if(vt!==0&&$e!==null){a=$e;var g=Kn;t:switch(vt){case 1:vt=0,Kn=null,yl(i,a,g,1);break;case 2:if(b0(g)){vt=0,Kn=null,hE(a);break}a=function(){vt===2&&yt===i&&(vt=7),ei(i)},g.then(a,a);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:b0(g)?(vt=0,Kn=null,hE(a)):(vt=0,Kn=null,yl(i,a,g,7));break;case 5:var S=null;switch($e.tag){case 26:S=$e.memoizedState;case 5:case 27:var M=$e;if(!S||FE(S)){vt=0,Kn=null;var U=M.sibling;if(U!==null)$e=U;else{var G=M.return;G!==null?($e=G,Nf(G)):$e=null}break t}}vt=0,Kn=null,yl(i,a,g,5);break;case 6:vt=0,Kn=null,yl(i,a,g,6);break;case 8:pg(),kt=6;break e;default:throw Error(r(462))}}UD();break}catch(ne){cE(i,ne)}while(!0);return Bi=Za=null,O.H=u,O.A=p,xt=l,$e!==null?0:(yt=null,nt=0,Jd(),kt)}function UD(){for(;$e!==null&&!yc();)fE($e)}function fE(i){var a=kw(i.alternate,i,$i);i.memoizedProps=i.pendingProps,a===null?Nf(i):$e=a}function hE(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=Cw(l,a,a.pendingProps,a.type,void 0,nt);break;case 11:a=Cw(l,a,a.pendingProps,a.type.render,a.ref,nt);break;case 5:Ep(a);default:sE(l,a),a=$e=nE(a,$i),a=kw(l,a,$i)}i.memoizedProps=i.pendingProps,a===null?Nf(i):$e=a}function yl(i,a,l,u){Bi=Za=null,Ep(a),il=null,Fc=0;var p=a.return;try{if(RD(i,p,a,l,nt)){kt=1,wf(i,ur(l,i.current)),$e=null;return}}catch(g){if(p!==null)throw $e=p,g;kt=1,wf(i,ur(l,i.current)),$e=null;return}a.flags&32768?(st||u===1?i=!0:ml||nt&536870912?i=!1:(Wi=i=!0,(u===2||u===3||u===6)&&(u=hr.current,u!==null&&u.tag===13&&(u.flags|=16384))),mE(a,i)):Nf(a)}function Nf(i){var a=i;do{if(a.flags&32768){mE(a,Wi);return}i=a.return;var l=OD(a.alternate,a,$i);if(l!==null){$e=l;return}if(a=a.sibling,a!==null){$e=a;return}$e=a=i}while(a!==null);kt===0&&(kt=5)}function mE(i,a){do{var l=MD(i.alternate,i);if(l!==null){l.flags&=32767,$e=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){$e=i;return}$e=i=l}while(i!==null);kt=6,$e=null}function pE(i,a,l,u,p,g,S,M,U,G){var ne=O.T,le=de.p;try{de.p=2,O.T=null,BD(i,a,l,u,le,p,g,S,M,U,G)}finally{O.T=ne,de.p=le}}function BD(i,a,l,u,p,g,S,M){do vl();while(ro!==null);if(xt&6)throw Error(r(327));var U=i.finishedWork;if(u=i.finishedLanes,U===null)return null;if(i.finishedWork=null,i.finishedLanes=0,U===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var G=U.lanes|U.childLanes;if(G|=ap,Od(i,u,G,g,S,M),i===yt&&($e=yt=null,nt=0),!(U.subtreeFlags&10256)&&!(U.flags&10256)||If||(If=!0,dg=G,fg=l,qD(br,function(){return vl(),null})),l=(U.flags&15990)!==0,U.subtreeFlags&15990||l?(l=O.T,O.T=null,g=de.p,de.p=2,S=xt,xt|=4,ID(i,U),Kw(U,i),uD(Ig,i.containerInfo),Hf=!!Cg,Ig=Cg=null,i.current=U,Gw(i,U.alternate,U),Ra(),xt=S,de.p=g,O.T=l):i.current=U,If?(If=!1,ro=i,au=u):gE(i,G),G=i.pendingLanes,G===0&&(Fs=null),Ln(U.stateNode),ei(i),a!==null)for(p=i.onRecoverableError,U=0;U<a.length;U++)G=a[U],p(G.value,{componentStack:G.stack});return au&3&&vl(),G=i.pendingLanes,u&4194218&&G&42?i===hg?ou++:(ou=0,hg=i):ou=0,lu(0),null}function gE(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,qc(a)))}function vl(){if(ro!==null){var i=ro,a=dg;dg=0;var l=Md(au),u=O.T,p=de.p;try{if(de.p=32>l?32:l,O.T=null,ro===null)var g=!1;else{l=fg,fg=null;var S=ro,M=au;if(ro=null,au=0,xt&6)throw Error(r(331));var U=xt;if(xt|=4,eE(S.current),Xw(S,S.current,M,l),xt=U,lu(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(ot,S)}catch{}g=!0}return g}finally{de.p=p,O.T=u,gE(i,a)}}return!1}function yE(i,a,l){a=ur(l,a),a=Pp(i.stateNode,a,2),i=Ls(i,a,2),i!==null&&(Ut(i,2),ei(i))}function gt(i,a,l){if(i.tag===3)yE(i,i,l);else for(;a!==null;){if(a.tag===3){yE(a,i,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Fs===null||!Fs.has(u))){i=ur(l,i),l=ww(2),u=Ls(a,l,2),u!==null&&(Ew(l,u,a,i),Ut(u,2),ei(u));break}}a=a.return}}function vg(i,a,l){var u=i.pingCache;if(u===null){u=i.pingCache=new PD;var p=new Set;u.set(a,p)}else p=u.get(a),p===void 0&&(p=new Set,u.set(a,p));p.has(l)||(og=!0,p.add(l),i=zD.bind(null,i,a,l),a.then(i,i))}function zD(i,a,l){var u=i.pingCache;u!==null&&u.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,yt===i&&(nt&l)===l&&(kt===4||kt===3&&(nt&62914560)===nt&&300>wn()-ug?!(xt&2)&&gl(i,0):lg|=l,pl===nt&&(pl=0)),ei(i)}function vE(i,a){a===0&&(a=gs()),i=Cs(i,a),i!==null&&(Ut(i,a),ei(i))}function FD(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),vE(i,l)}function HD(i,a){var l=0;switch(i.tag){case 13:var u=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(a),vE(i,l)}function qD(i,a){return Ai(i,a)}var Of=null,_l=null,_g=!1,Mf=!1,wg=!1,io=0;function ei(i){i!==_l&&i.next===null&&(_l===null?Of=_l=i:_l=_l.next=i),Mf=!0,_g||(_g=!0,WD(GD))}function lu(i,a){if(!wg&&Mf){wg=!0;do for(var l=!1,u=Of;u!==null;){if(i!==0){var p=u.pendingLanes;if(p===0)var g=0;else{var S=u.suspendedLanes,M=u.pingedLanes;g=(1<<31-Ht(42|i)+1)-1,g&=p&~(S&~M),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(l=!0,EE(u,g))}else g=nt,g=En(u,u===yt?g:0),!(g&3)||rr(u,g)||(l=!0,EE(u,g));u=u.next}while(l);wg=!1}}function GD(){Mf=_g=!1;var i=0;io!==0&&(eN()&&(i=io),io=0);for(var a=wn(),l=null,u=Of;u!==null;){var p=u.next,g=_E(u,a);g===0?(u.next=null,l===null?Of=p:l.next=p,p===null&&(_l=l)):(l=u,(i!==0||g&3)&&(Mf=!0)),u=p}lu(i)}function _E(i,a){for(var l=i.suspendedLanes,u=i.pingedLanes,p=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var S=31-Ht(g),M=1<<S,U=p[S];U===-1?(!(M&l)||M&u)&&(p[S]=Vo(M,a)):U<=a&&(i.expiredLanes|=M),g&=~M}if(a=yt,l=nt,l=En(i,i===a?l:0),u=i.callbackNode,l===0||i===a&&vt===2||i.cancelPendingCommit!==null)return u!==null&&u!==null&&ps(u),i.callbackNode=null,i.callbackPriority=0;if(!(l&3)||rr(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(u!==null&&ps(u),Md(l)){case 2:case 8:l=Ft;break;case 32:l=br;break;case 268435456:l=Ca;break;default:l=br}return u=wE.bind(null,i),l=Ai(l,u),i.callbackPriority=a,i.callbackNode=l,a}return u!==null&&u!==null&&ps(u),i.callbackPriority=2,i.callbackNode=null,2}function wE(i,a){var l=i.callbackNode;if(vl()&&i.callbackNode!==l)return null;var u=nt;return u=En(i,i===yt?u:0),u===0?null:(oE(i,u,a),_E(i,wn()),i.callbackNode!=null&&i.callbackNode===l?wE.bind(null,i):null)}function EE(i,a){if(vl())return null;oE(i,a,!0)}function WD(i){nN(function(){xt&6?Ai(jt,i):i()})}function Eg(){return io===0&&(io=_c()),io}function bE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Hr(""+i)}function TE(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function $D(i,a,l,u,p){if(a==="submit"&&l&&l.stateNode===p){var g=bE((p[Kt]||null).action),S=u.submitter;S&&(a=(a=S[Kt]||null)?bE(a.formAction):S.getAttribute("formAction"),a!==null&&(g=a,S=null));var M=new qo("action","action",null,u,p);i.push({event:M,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(io!==0){var U=S?TE(p,S):new FormData(p);Dp(l,{pending:!0,data:U,method:p.method,action:g},null,U)}}else typeof g=="function"&&(M.preventDefault(),U=S?TE(p,S):new FormData(p),Dp(l,{pending:!0,data:U,method:p.method,action:g},g,U))},currentTarget:p}]})}}for(var bg=0;bg<p0.length;bg++){var Tg=p0[bg],YD=Tg.toLowerCase(),KD=Tg[0].toUpperCase()+Tg.slice(1);Sr(YD,"on"+KD)}Sr(u0,"onAnimationEnd"),Sr(d0,"onAnimationIteration"),Sr(f0,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(fD,"onTransitionRun"),Sr(hD,"onTransitionStart"),Sr(mD,"onTransitionCancel"),Sr(h0,"onTransitionEnd"),Vn("onMouseEnter",["mouseout","mouseover"]),Vn("onMouseLeave",["mouseout","mouseover"]),Vn("onPointerEnter",["pointerout","pointerover"]),Vn("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cu));function SE(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],p=u.event;u=u.listeners;e:{var g=void 0;if(a)for(var S=u.length-1;0<=S;S--){var M=u[S],U=M.instance,G=M.currentTarget;if(M=M.listener,U!==g&&p.isPropagationStopped())break e;g=M,p.currentTarget=G;try{g(p)}catch(ne){_f(ne)}p.currentTarget=null,g=U}else for(S=0;S<u.length;S++){if(M=u[S],U=M.instance,G=M.currentTarget,M=M.listener,U!==g&&p.isPropagationStopped())break e;g=M,p.currentTarget=G;try{g(p)}catch(ne){_f(ne)}p.currentTarget=null,g=U}}}}function Ze(i,a){var l=a[Ia];l===void 0&&(l=a[Ia]=new Set);var u=i+"__bubble";l.has(u)||(AE(a,i,2,!1),l.add(u))}function Sg(i,a,l){var u=0;a&&(u|=4),AE(l,i,u,a)}var kf="_reactListening"+Math.random().toString(36).slice(2);function Ag(i){if(!i[kf]){i[kf]=!0,Ec.forEach(function(l){l!=="selectionchange"&&(QD.has(l)||Sg(l,!1,i),Sg(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[kf]||(a[kf]=!0,Sg("selectionchange",!1,a))}}function AE(i,a,l,u){switch(YE(a)){case 2:var p=bN;break;case 8:p=TN;break;default:p=jg}l=p.bind(null,a,l,i),p=void 0,!or||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),u?p!==void 0?i.addEventListener(a,l,{capture:!0,passive:p}):i.addEventListener(a,l,!0):p!==void 0?i.addEventListener(a,l,{passive:p}):i.addEventListener(a,l,!1)}function xg(i,a,l,u,p){var g=u;if(!(a&1)&&!(a&2)&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var M=u.stateNode.containerInfo;if(M===p||M.nodeType===8&&M.parentNode===p)break;if(S===4)for(S=u.return;S!==null;){var U=S.tag;if((U===3||U===4)&&(U=S.stateNode.containerInfo,U===p||U.nodeType===8&&U.parentNode===p))return;S=S.return}for(;M!==null;){if(S=Tr(M),S===null)return;if(U=S.tag,U===5||U===6||U===26||U===27){u=g=S;continue e}M=M.parentNode}}u=u.return}jd(function(){var G=g,ne=Ho(l),le=[];e:{var Q=m0.get(i);if(Q!==void 0){var te=qo,Se=i;switch(i){case"keypress":if(Gr(l)===0)break e;case"keydown":case"keyup":te=Qo;break;case"focusin":Se="focus",te=$o;break;case"focusout":Se="blur",te=$o;break;case"beforeblur":case"afterblur":te=$o;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Zm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Wd;break;case u0:case d0:case f0:te=Yo;break;case h0:te=Yd;break;case"scroll":case"scrollend":te=Ud;break;case"wheel":te=Xo;break;case"copy":case"cut":case"paste":te=Ko;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Mc;break;case"toggle":case"beforetoggle":te=Qd}var Le=(a&4)!==0,Pt=!Le&&(i==="scroll"||i==="scrollend"),W=Le?Q!==null?Q+"Capture":null:Q;Le=[];for(var q=G,K;q!==null;){var re=q;if(K=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||K===null||W===null||(re=ka(q,W),re!=null&&Le.push(uu(q,re,K))),Pt)break;q=q.return}0<Le.length&&(Q=new te(Q,Se,null,l,ne),le.push({event:Q,listeners:Le}))}}if(!(a&7)){e:{if(Q=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",Q&&l!==ar&&(Se=l.relatedTarget||l.fromElement)&&(Tr(Se)||Se[xi]))break e;if((te||Q)&&(Q=ne.window===ne?ne:(Q=ne.ownerDocument)?Q.defaultView||Q.parentWindow:window,te?(Se=l.relatedTarget||l.toElement,te=G,Se=Se?Tr(Se):null,Se!==null&&(Pt=ie(Se),Le=Se.tag,Se!==Pt||Le!==5&&Le!==27&&Le!==6)&&(Se=null)):(te=null,Se=G),te!==Se)){if(Le=lr,re="onMouseLeave",W="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&(Le=Mc,re="onPointerLeave",W="onPointerEnter",q="pointer"),Pt=te==null?Q:Es(te),K=Se==null?Q:Es(Se),Q=new Le(re,q+"leave",te,l,ne),Q.target=Pt,Q.relatedTarget=K,re=null,Tr(ne)===G&&(Le=new Le(W,q+"enter",Se,l,ne),Le.target=K,Le.relatedTarget=Pt,re=Le),Pt=re,te&&Se)t:{for(Le=te,W=Se,q=0,K=Le;K;K=wl(K))q++;for(K=0,re=W;re;re=wl(re))K++;for(;0<q-K;)Le=wl(Le),q--;for(;0<K-q;)W=wl(W),K--;for(;q--;){if(Le===W||W!==null&&Le===W.alternate)break t;Le=wl(Le),W=wl(W)}Le=null}else Le=null;te!==null&&xE(le,Q,te,Le,!1),Se!==null&&Pt!==null&&xE(le,Pt,Se,Le,!0)}}e:{if(Q=G?Es(G):window,te=Q.nodeName&&Q.nodeName.toLowerCase(),te==="select"||te==="input"&&Q.type==="file")var ve=J_;else if(Xt(Q))if(e0)ve=lD;else{ve=aD;var We=sD}else te=Q.nodeName,!te||te.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?G&&xc(G.elementType)&&(ve=J_):ve=oD;if(ve&&(ve=ve(i,G))){ki(le,ve,l,ne);break e}We&&We(i,Q,G),i==="focusout"&&G&&Q.type==="number"&&G.memoizedProps.value!=null&&Fo(Q,"number",Q.value)}switch(We=G?Es(G):window,i){case"focusin":(Xt(We)||We.contentEditable==="true")&&(Zo=We,rp=G,Lc=null);break;case"focusout":Lc=rp=Zo=null;break;case"mousedown":ip=!0;break;case"contextmenu":case"mouseup":case"dragend":ip=!1,l0(le,l,ne);break;case"selectionchange":if(dD)break;case"keydown":case"keyup":l0(le,l,ne)}var xe;if(Yr)e:{switch(i){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else et?X(i,l)&&(De="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(De="onCompositionStart");De&&(T&&l.locale!=="ko"&&(et||De!=="onCompositionStart"?De==="onCompositionEnd"&&et&&(xe=Cc()):(qr=ne,Rs="value"in qr?qr.value:qr.textContent,et=!0)),We=Pf(G,De),0<We.length&&(De=new Nc(De,i,null,l,ne),le.push({event:De,listeners:We}),xe?De.data=xe:(xe=ue(l),xe!==null&&(De.data=xe)))),(xe=w?Qt(i,l):tt(i,l))&&(De=Pf(G,"onBeforeInput"),0<De.length&&(We=new Nc("onBeforeInput","beforeinput",null,l,ne),le.push({event:We,listeners:De}),We.data=xe)),$D(le,i,G,l,ne)}SE(le,a)})}function uu(i,a,l){return{instance:i,listener:a,currentTarget:l}}function Pf(i,a){for(var l=a+"Capture",u=[];i!==null;){var p=i,g=p.stateNode;p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=ka(i,l),p!=null&&u.unshift(uu(i,p,g)),p=ka(i,a),p!=null&&u.push(uu(i,p,g))),i=i.return}return u}function wl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function xE(i,a,l,u,p){for(var g=a._reactName,S=[];l!==null&&l!==u;){var M=l,U=M.alternate,G=M.stateNode;if(M=M.tag,U!==null&&U===u)break;M!==5&&M!==26&&M!==27||G===null||(U=G,p?(G=ka(l,g),G!=null&&S.unshift(uu(l,G,U))):p||(G=ka(l,g),G!=null&&S.push(uu(l,G,U)))),l=l.return}S.length!==0&&i.push({event:a,listeners:S})}var XD=/\r\n?/g,ZD=/\u0000|\uFFFD/g;function RE(i){return(typeof i=="string"?i:""+i).replace(XD,`
`).replace(ZD,"")}function CE(i,a){return a=RE(a),RE(i)===a}function Lf(){}function mt(i,a,l,u,p,g){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||sr(i,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&sr(i,""+u);break;case"className":Ss(i,"class",u);break;case"tabIndex":Ss(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ss(i,l,u);break;case"style":Vd(i,u,g);break;case"data":if(a!=="object"){Ss(i,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Hr(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(a!=="input"&&mt(i,a,"name",p.name,p,null),mt(i,a,"formEncType",p.formEncType,p,null),mt(i,a,"formMethod",p.formMethod,p,null),mt(i,a,"formTarget",p.formTarget,p,null)):(mt(i,a,"encType",p.encType,p,null),mt(i,a,"method",p.method,p,null),mt(i,a,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Hr(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=Lf);break;case"onScroll":u!=null&&Ze("scroll",i);break;case"onScrollEnd":u!=null&&Ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=Hr(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":Ze("beforetoggle",i),Ze("toggle",i),Ts(i,"popover",u);break;case"xlinkActuate":ir(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ir(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ir(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ir(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ir(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ir(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ir(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ir(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ir(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ts(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Qm.get(l)||l,Ts(i,l,u))}}function Rg(i,a,l,u,p,g){switch(l){case"style":Vd(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof u=="string"?sr(i,u):(typeof u=="number"||typeof u=="bigint")&&sr(i,""+u);break;case"onScroll":u!=null&&Ze("scroll",i);break;case"onScrollEnd":u!=null&&Ze("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Lf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),g=i[Kt]||null,g=g!=null?g[l]:null,typeof g=="function"&&i.removeEventListener(a,g,p),typeof u=="function")){typeof g!="function"&&g!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,u,p);break e}l in i?i[l]=u:u===!0?i.setAttribute(l,""):Ts(i,l,u)}}}function mn(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",i),Ze("load",i);var u=!1,p=!1,g;for(g in l)if(l.hasOwnProperty(g)){var S=l[g];if(S!=null)switch(g){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:mt(i,a,g,S,l,null)}}p&&mt(i,a,"srcSet",l.srcSet,l,null),u&&mt(i,a,"src",l.src,l,null);return;case"input":Ze("invalid",i);var M=g=S=p=null,U=null,G=null;for(u in l)if(l.hasOwnProperty(u)){var ne=l[u];if(ne!=null)switch(u){case"name":p=ne;break;case"type":S=ne;break;case"checked":U=ne;break;case"defaultChecked":G=ne;break;case"value":g=ne;break;case"defaultValue":M=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,a));break;default:mt(i,a,u,ne,l,null)}}Oa(i,g,M,U,G,S,p,!1),Na(i);return;case"select":Ze("invalid",i),u=S=g=null;for(p in l)if(l.hasOwnProperty(p)&&(M=l[p],M!=null))switch(p){case"value":g=M;break;case"defaultValue":S=M;break;case"multiple":u=M;default:mt(i,a,p,M,l,null)}a=g,l=S,i.multiple=!!u,a!=null?it(i,!!u,a,!1):l!=null&&it(i,!!u,l,!0);return;case"textarea":Ze("invalid",i),g=p=u=null;for(S in l)if(l.hasOwnProperty(S)&&(M=l[S],M!=null))switch(S){case"value":u=M;break;case"defaultValue":p=M;break;case"children":g=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:mt(i,a,S,M,l,null)}xs(i,u,p,g),Na(i);return;case"option":for(U in l)if(l.hasOwnProperty(U)&&(u=l[U],u!=null))switch(U){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:mt(i,a,U,u,l,null)}return;case"dialog":Ze("cancel",i),Ze("close",i);break;case"iframe":case"object":Ze("load",i);break;case"video":case"audio":for(u=0;u<cu.length;u++)Ze(cu[u],i);break;case"image":Ze("error",i),Ze("load",i);break;case"details":Ze("toggle",i);break;case"embed":case"source":case"link":Ze("error",i),Ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(u=l[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:mt(i,a,G,u,l,null)}return;default:if(xc(a)){for(ne in l)l.hasOwnProperty(ne)&&(u=l[ne],u!==void 0&&Rg(i,a,ne,u,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(u=l[M],u!=null&&mt(i,a,M,u,l,null))}function JD(i,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,S=null,M=null,U=null,G=null,ne=null;for(te in l){var le=l[te];if(l.hasOwnProperty(te)&&le!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":U=le;default:u.hasOwnProperty(te)||mt(i,a,te,null,u,le)}}for(var Q in u){var te=u[Q];if(le=l[Q],u.hasOwnProperty(Q)&&(te!=null||le!=null))switch(Q){case"type":g=te;break;case"name":p=te;break;case"checked":G=te;break;case"defaultChecked":ne=te;break;case"value":S=te;break;case"defaultValue":M=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:te!==le&&mt(i,a,Q,te,u,le)}}As(i,S,M,U,G,ne,g,p);return;case"select":te=S=M=Q=null;for(g in l)if(U=l[g],l.hasOwnProperty(g)&&U!=null)switch(g){case"value":break;case"multiple":te=U;default:u.hasOwnProperty(g)||mt(i,a,g,null,u,U)}for(p in u)if(g=u[p],U=l[p],u.hasOwnProperty(p)&&(g!=null||U!=null))switch(p){case"value":Q=g;break;case"defaultValue":M=g;break;case"multiple":S=g;default:g!==U&&mt(i,a,p,g,u,U)}a=M,l=S,u=te,Q!=null?it(i,!!l,Q,!1):!!u!=!!l&&(a!=null?it(i,!!l,a,!0):it(i,!!l,l?[]:"",!1));return;case"textarea":te=Q=null;for(M in l)if(p=l[M],l.hasOwnProperty(M)&&p!=null&&!u.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:mt(i,a,M,null,u,p)}for(S in u)if(p=u[S],g=l[S],u.hasOwnProperty(S)&&(p!=null||g!=null))switch(S){case"value":Q=p;break;case"defaultValue":te=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==g&&mt(i,a,S,p,u,g)}Ma(i,Q,te);return;case"option":for(var Se in l)if(Q=l[Se],l.hasOwnProperty(Se)&&Q!=null&&!u.hasOwnProperty(Se))switch(Se){case"selected":i.selected=!1;break;default:mt(i,a,Se,null,u,Q)}for(U in u)if(Q=u[U],te=l[U],u.hasOwnProperty(U)&&Q!==te&&(Q!=null||te!=null))switch(U){case"selected":i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:mt(i,a,U,Q,u,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in l)Q=l[Le],l.hasOwnProperty(Le)&&Q!=null&&!u.hasOwnProperty(Le)&&mt(i,a,Le,null,u,Q);for(G in u)if(Q=u[G],te=l[G],u.hasOwnProperty(G)&&Q!==te&&(Q!=null||te!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,a));break;default:mt(i,a,G,Q,u,te)}return;default:if(xc(a)){for(var Pt in l)Q=l[Pt],l.hasOwnProperty(Pt)&&Q!==void 0&&!u.hasOwnProperty(Pt)&&Rg(i,a,Pt,void 0,u,Q);for(ne in u)Q=u[ne],te=l[ne],!u.hasOwnProperty(ne)||Q===te||Q===void 0&&te===void 0||Rg(i,a,ne,Q,u,te);return}}for(var W in l)Q=l[W],l.hasOwnProperty(W)&&Q!=null&&!u.hasOwnProperty(W)&&mt(i,a,W,null,u,Q);for(le in u)Q=u[le],te=l[le],!u.hasOwnProperty(le)||Q===te||Q==null&&te==null||mt(i,a,le,Q,u,te)}var Cg=null,Ig=null;function Vf(i){return i.nodeType===9?i:i.ownerDocument}function IE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function DE(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Dg(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ng=null;function eN(){var i=window.event;return i&&i.type==="popstate"?i===Ng?!1:(Ng=i,!0):(Ng=null,!1)}var NE=typeof setTimeout=="function"?setTimeout:void 0,tN=typeof clearTimeout=="function"?clearTimeout:void 0,OE=typeof Promise=="function"?Promise:void 0,nN=typeof queueMicrotask=="function"?queueMicrotask:typeof OE<"u"?function(i){return OE.resolve(null).then(i).catch(rN)}:NE;function rN(i){setTimeout(function(){throw i})}function Og(i,a){var l=a,u=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(u===0){i.removeChild(p),vu(a);return}u--}else l!=="$"&&l!=="$?"&&l!=="$!"||u++;l=p}while(l);vu(a)}function Mg(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Mg(l),Da(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function iN(i,a,l,u){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[ws])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==p.rel||i.getAttribute("href")!==(p.href==null?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Rr(i.nextSibling),i===null)break}return null}function sN(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Rr(i.nextSibling),i===null))return null;return i}function Rr(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}function ME(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return i;a--}else l==="/$"&&a++}i=i.previousSibling}return null}function kE(i,a,l){switch(a=Vf(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var vr=new Map,PE=new Set;function jf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Ki=de.d;de.d={f:aN,r:oN,D:lN,C:cN,L:uN,m:dN,X:hN,S:fN,M:mN};function aN(){var i=Ki.f(),a=Df();return i||a}function oN(i){var a=Ri(i);a!==null&&a.tag===5&&a.type==="form"?lw(a):Ki.r(i)}var El=typeof document>"u"?null:document;function LE(i,a,l){var u=El;if(u&&typeof a=="string"&&a){var p=Ot(a);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),PE.has(p)||(PE.add(p),i={rel:i,crossOrigin:l,href:a},u.querySelector(p)===null&&(a=u.createElement("link"),mn(a,"link",i),St(a),u.head.appendChild(a)))}}function lN(i){Ki.D(i),LE("dns-prefetch",i,null)}function cN(i,a){Ki.C(i,a),LE("preconnect",i,a)}function uN(i,a,l){Ki.L(i,a,l);var u=El;if(u&&i&&a){var p='link[rel="preload"][as="'+Ot(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Ot(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Ot(l.imageSizes)+'"]')):p+='[href="'+Ot(i)+'"]';var g=p;switch(a){case"style":g=bl(i);break;case"script":g=Tl(i)}vr.has(g)||(i=L({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),vr.set(g,i),u.querySelector(p)!==null||a==="style"&&u.querySelector(du(g))||a==="script"&&u.querySelector(fu(g))||(a=u.createElement("link"),mn(a,"link",i),St(a),u.head.appendChild(a)))}}function dN(i,a){Ki.m(i,a);var l=El;if(l&&i){var u=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+Ot(u)+'"][href="'+Ot(i)+'"]',g=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Tl(i)}if(!vr.has(g)&&(i=L({rel:"modulepreload",href:i},a),vr.set(g,i),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(fu(g)))return}u=l.createElement("link"),mn(u,"link",i),St(u),l.head.appendChild(u)}}}function fN(i,a,l){Ki.S(i,a,l);var u=El;if(u&&i){var p=bs(u).hoistableStyles,g=bl(i);a=a||"default";var S=p.get(g);if(!S){var M={loading:0,preload:null};if(S=u.querySelector(du(g)))M.loading=5;else{i=L({rel:"stylesheet",href:i,"data-precedence":a},l),(l=vr.get(g))&&kg(i,l);var U=S=u.createElement("link");St(U),mn(U,"link",i),U._p=new Promise(function(G,ne){U.onload=G,U.onerror=ne}),U.addEventListener("load",function(){M.loading|=1}),U.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Uf(S,a,u)}S={type:"stylesheet",instance:S,count:1,state:M},p.set(g,S)}}}function hN(i,a){Ki.X(i,a);var l=El;if(l&&i){var u=bs(l).hoistableScripts,p=Tl(i),g=u.get(p);g||(g=l.querySelector(fu(p)),g||(i=L({src:i,async:!0},a),(a=vr.get(p))&&Pg(i,a),g=l.createElement("script"),St(g),mn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function mN(i,a){Ki.M(i,a);var l=El;if(l&&i){var u=bs(l).hoistableScripts,p=Tl(i),g=u.get(p);g||(g=l.querySelector(fu(p)),g||(i=L({src:i,async:!0,type:"module"},a),(a=vr.get(p))&&Pg(i,a),g=l.createElement("script"),St(g),mn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function VE(i,a,l,u){var p=(p=ft.current)?jf(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=bl(l.href),l=bs(p).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=bl(l.href);var g=bs(p).hoistableStyles,S=g.get(i);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,S),(g=p.querySelector(du(i)))&&!g._p&&(S.instance=g,S.state.loading=5),vr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},vr.set(i,l),g||pN(p,i,l,S.state))),a&&u===null)throw Error(r(528,""));return S}if(a&&u!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Tl(l),l=bs(p).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function bl(i){return'href="'+Ot(i)+'"'}function du(i){return'link[rel="stylesheet"]['+i+"]"}function jE(i){return L({},i,{"data-precedence":i.precedence,precedence:null})}function pN(i,a,l,u){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=i.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),mn(a,"link",l),St(a),i.head.appendChild(a))}function Tl(i){return'[src="'+Ot(i)+'"]'}function fu(i){return"script[async]"+i}function UE(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=i.querySelector('style[data-href~="'+Ot(l.href)+'"]');if(u)return a.instance=u,St(u),u;var p=L({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),St(u),mn(u,"style",p),Uf(u,l.precedence,i),a.instance=u;case"stylesheet":p=bl(l.href);var g=i.querySelector(du(p));if(g)return a.state.loading|=4,a.instance=g,St(g),g;u=jE(l),(p=vr.get(p))&&kg(u,p),g=(i.ownerDocument||i).createElement("link"),St(g);var S=g;return S._p=new Promise(function(M,U){S.onload=M,S.onerror=U}),mn(g,"link",u),a.state.loading|=4,Uf(g,l.precedence,i),a.instance=g;case"script":return g=Tl(l.src),(p=i.querySelector(fu(g)))?(a.instance=p,St(p),p):(u=l,(p=vr.get(g))&&(u=L({},l),Pg(u,p)),i=i.ownerDocument||i,p=i.createElement("script"),St(p),mn(p,"link",u),i.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&!(a.state.loading&4)&&(u=a.instance,a.state.loading|=4,Uf(u,l.precedence,i));return a.instance}function Uf(i,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,g=p,S=0;S<u.length;S++){var M=u[S];if(M.dataset.precedence===a)g=M;else if(g!==p)break}g?g.parentNode.insertBefore(i,g.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function kg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Pg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Bf=null;function BE(i,a,l){if(Bf===null){var u=new Map,p=Bf=new Map;p.set(l,u)}else p=Bf,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var g=l[p];if(!(g[ws]||g[tn]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(a)||"";S=i+S;var M=u.get(S);M?M.push(g):u.set(S,[g])}}return u}function zE(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function gN(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function FE(i){return!(i.type==="stylesheet"&&!(i.state.loading&3))}var hu=null;function yN(){}function vN(i,a,l){if(hu===null)throw Error(r(475));var u=hu;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var p=bl(l.href),g=i.querySelector(du(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=zf.bind(u),i.then(u,u)),a.state.loading|=4,a.instance=g,St(g);return}g=i.ownerDocument||i,l=jE(l),(p=vr.get(p))&&kg(l,p),g=g.createElement("link"),St(g);var S=g;S._p=new Promise(function(M,U){S.onload=M,S.onerror=U}),mn(g,"link",l),a.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,i),(i=a.state.preload)&&!(a.state.loading&3)&&(u.count++,a=zf.bind(u),i.addEventListener("load",a),i.addEventListener("error",a))}}function _N(){if(hu===null)throw Error(r(475));var i=hu;return i.stylesheets&&i.count===0&&Lg(i,i.stylesheets),0<i.count?function(a){var l=setTimeout(function(){if(i.stylesheets&&Lg(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l)}}:null}function zf(){if(this.count--,this.count===0){if(this.stylesheets)Lg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ff=null;function Lg(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ff=new Map,a.forEach(wN,i),Ff=null,zf.call(i))}function wN(i,a){if(!(a.state.loading&4)){var l=Ff.get(i);if(l)var u=l.get(null);else{l=new Map,Ff.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var S=p[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),u=S)}u&&l.set(null,u)}p=a.instance,S=p.getAttribute("data-precedence"),g=l.get(S)||u,g===u&&l.set(null,p),l.set(S,p),this.count++,u=zf.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),g?g.parentNode.insertBefore(p,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),a.state.loading|=4}}var mu={$$typeof:A,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function EN(i,a,l,u,p,g,S,M){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jo(0),this.hiddenUpdates=jo(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function HE(i,a,l,u,p,g,S,M,U,G,ne,le){return i=new EN(i,a,l,S,M,U,G,le),a=1,g===!0&&(a|=24),g=gr(3,null,null,a),i.current=g,g.stateNode=i,a=mp(),a.refCount++,i.pooledCache=a,a.refCount++,g.memoizedState={element:u,isDehydrated:l,cache:a},Yp(g),i}function qE(i){return i?(i=tl,i):tl}function GE(i,a,l,u,p,g){p=qE(p),u.context===null?u.context=p:u.pendingContext=p,u=Ps(a),u.payload={element:l},g=g===void 0?null:g,g!==null&&(u.callback=g),l=Ls(i,u,a),l!==null&&(On(l,i,a),Xc(l,i,a))}function WE(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function Vg(i,a){WE(i,a),(i=i.alternate)&&WE(i,a)}function $E(i){if(i.tag===13){var a=Cs(i,67108864);a!==null&&On(a,i,67108864),Vg(i,67108864)}}var Hf=!0;function bN(i,a,l,u){var p=O.T;O.T=null;var g=de.p;try{de.p=2,jg(i,a,l,u)}finally{de.p=g,O.T=p}}function TN(i,a,l,u){var p=O.T;O.T=null;var g=de.p;try{de.p=8,jg(i,a,l,u)}finally{de.p=g,O.T=p}}function jg(i,a,l,u){if(Hf){var p=Ug(u);if(p===null)xg(i,a,u,qf,l),KE(i,u);else if(AN(p,i,a,l,u))u.stopPropagation();else if(KE(i,u),a&4&&-1<SN.indexOf(i)){for(;p!==null;){var g=Ri(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=Hn(g.pendingLanes);if(S!==0){var M=g;for(M.pendingLanes|=2,M.entangledLanes|=2;S;){var U=1<<31-Ht(S);M.entanglements[1]|=U,S&=~U}ei(g),!(xt&6)&&(Rf=wn()+500,lu(0))}}break;case 13:M=Cs(g,2),M!==null&&On(M,g,2),Df(),Vg(g,2)}if(g=Ug(u),g===null&&xg(i,a,u,qf,l),g===p)break;p=g}p!==null&&u.stopPropagation()}else xg(i,a,u,null,l)}}function Ug(i){return i=Ho(i),Bg(i)}var qf=null;function Bg(i){if(qf=null,i=Tr(i),i!==null){var a=ie(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=ae(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return qf=i,null}function YE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Po()){case jt:return 2;case Ft:return 8;case br:case Lo:return 32;case Ca:return 268435456;default:return 32}default:return 32}}var zg=!1,Hs=null,qs=null,Gs=null,pu=new Map,gu=new Map,Ws=[],SN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function KE(i,a){switch(i){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":pu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":gu.delete(a.pointerId)}}function yu(i,a,l,u,p,g){return i===null||i.nativeEvent!==g?(i={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:g,targetContainers:[p]},a!==null&&(a=Ri(a),a!==null&&$E(a)),i):(i.eventSystemFlags|=u,a=i.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),i)}function AN(i,a,l,u,p){switch(a){case"focusin":return Hs=yu(Hs,i,a,l,u,p),!0;case"dragenter":return qs=yu(qs,i,a,l,u,p),!0;case"mouseover":return Gs=yu(Gs,i,a,l,u,p),!0;case"pointerover":var g=p.pointerId;return pu.set(g,yu(pu.get(g)||null,i,a,l,u,p)),!0;case"gotpointercapture":return g=p.pointerId,gu.set(g,yu(gu.get(g)||null,i,a,l,u,p)),!0}return!1}function QE(i){var a=Tr(i.target);if(a!==null){var l=ie(a);if(l!==null){if(a=l.tag,a===13){if(a=ae(l),a!==null){i.blockedOn=a,_s(i.priority,function(){if(l.tag===13){var u=Qn(),p=Cs(l,u);p!==null&&On(p,l,u),Vg(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Gf(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=Ug(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);ar=u,l.target.dispatchEvent(u),ar=null}else return a=Ri(l),a!==null&&$E(a),i.blockedOn=l,!1;a.shift()}return!0}function XE(i,a,l){Gf(i)&&l.delete(a)}function xN(){zg=!1,Hs!==null&&Gf(Hs)&&(Hs=null),qs!==null&&Gf(qs)&&(qs=null),Gs!==null&&Gf(Gs)&&(Gs=null),pu.forEach(XE),gu.forEach(XE)}function Wf(i,a){i.blockedOn===a&&(i.blockedOn=null,zg||(zg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,xN)))}var $f=null;function ZE(i){$f!==i&&($f=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){$f===i&&($f=null);for(var a=0;a<i.length;a+=3){var l=i[a],u=i[a+1],p=i[a+2];if(typeof u!="function"){if(Bg(u||l)===null)continue;break}var g=Ri(l);g!==null&&(i.splice(a,3),a-=3,Dp(g,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function vu(i){function a(U){return Wf(U,i)}Hs!==null&&Wf(Hs,i),qs!==null&&Wf(qs,i),Gs!==null&&Wf(Gs,i),pu.forEach(a),gu.forEach(a);for(var l=0;l<Ws.length;l++){var u=Ws[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Ws.length&&(l=Ws[0],l.blockedOn===null);)QE(l),l.blockedOn===null&&Ws.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],g=l[u+1],S=p[Kt]||null;if(typeof g=="function")S||ZE(l);else if(S){var M=null;if(g&&g.hasAttribute("formAction")){if(p=g,S=g[Kt]||null)M=S.formAction;else if(Bg(p)!==null)continue}else M=S.action;typeof M=="function"?l[u+1]=M:(l.splice(u,3),u-=3),ZE(l)}}}function Fg(i){this._internalRoot=i}Yf.prototype.render=Fg.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,u=Qn();GE(l,u,i,a,null,null)},Yf.prototype.unmount=Fg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;i.tag===0&&vl(),GE(i.current,2,null,i,null,null),Df(),a[xi]=null}};function Yf(i){this._internalRoot=i}Yf.prototype.unstable_scheduleHydration=function(i){if(i){var a=kd();i={blockedOn:null,target:i,priority:a};for(var l=0;l<Ws.length&&a!==0&&a<Ws[l].priority;l++);Ws.splice(l,0,i),l===0&&QE(i)}};var JE=e.version;if(JE!=="19.0.0")throw Error(r(527,JE,"19.0.0"));de.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=ee(a),i=i!==null?he(i):null,i=i===null?null:i.stateNode,i};var RN={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:O,findFiberByHostInstance:Tr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kf.isDisabled&&Kf.supportsFiber)try{ot=Kf.inject(RN),je=Kf}catch{}}return wu.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,u="",p=gw,g=yw,S=vw,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(M=a.unstable_transitionCallbacks)),a=HE(i,1,!1,null,null,l,u,p,g,S,M,null),i[xi]=a.current,Ag(i.nodeType===8?i.parentNode:i),new Fg(a)},wu.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var u=!1,p="",g=gw,S=yw,M=vw,U=null,G=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(U=l.unstable_transitionCallbacks),l.formState!==void 0&&(G=l.formState)),a=HE(i,1,!0,a,l??null,u,p,g,S,M,U,G),a.context=qE(null),l=a.current,u=Qn(),p=Ps(u),p.callback=null,Ls(l,p,u),a.current.lanes=u,Ut(a,u),ei(a),i[xi]=a.current,Ag(i),new Yf(a)},wu.version="19.0.0",wu}var cb;function jN(){if(cb)return Gg.exports;cb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gg.exports=VN(),Gg.exports}var UN=jN();const BN=dv(UN);var Eu={},ub;function zN(){if(ub)return Eu;ub=1,Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.parse=c,Eu.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,A){const x=new o,R=b.length;if(R<2)return x;const C=(A==null?void 0:A.decode)||y;let I=0;do{const D=b.indexOf("=",I);if(D===-1)break;const j=b.indexOf(";",I),H=j===-1?R:j;if(D>H){I=b.lastIndexOf(";",D-1)+1;continue}const $=d(b,I,D),Z=f(b,D,$),k=b.slice($,Z);if(x[k]===void 0){let N=d(b,D+1,H),O=f(b,H,N);const L=C(b.slice(N,O));x[k]=L}I=H+1}while(I<R);return x}function d(b,A,x){do{const R=b.charCodeAt(A);if(R!==32&&R!==9)return A}while(++A<x);return x}function f(b,A,x){for(;A>x;){const R=b.charCodeAt(--A);if(R!==32&&R!==9)return A+1}return x}function m(b,A,x){const R=(x==null?void 0:x.encode)||encodeURIComponent;if(!t.test(b))throw new TypeError(`argument name is invalid: ${b}`);const C=R(A);if(!e.test(C))throw new TypeError(`argument val is invalid: ${A}`);let I=b+"="+C;if(!x)return I;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);I+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);I+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);I+="; Path="+x.path}if(x.expires){if(!v(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);I+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(I+="; HttpOnly"),x.secure&&(I+="; Secure"),x.partitioned&&(I+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":I+="; Priority=Low";break;case"medium":I+="; Priority=Medium";break;case"high":I+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":I+="; SameSite=Strict";break;case"lax":I+="; SameSite=Lax";break;case"none":I+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return I}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return s.call(b)==="[object Date]"}return Eu}zN();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var db="popstate";function FN(t={}){function e(r,s){let{pathname:o,search:c,hash:d}=r.location;return by("",{pathname:o,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Fu(s)}return qN(e,n,null,t)}function Rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HN(){return Math.random().toString(36).substring(2,10)}function fb(t,e){return{usr:t.state,key:t.key,idx:e}}function by(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?tc(e):e,state:n,key:e&&e.key||r||HN()}}function Fu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function tc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function qN(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,c=s.history,d="POP",f=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function v(){d="POP";let C=y(),I=C==null?null:C-m;m=C,f&&f({action:d,location:R.location,delta:I})}function b(C,I){d="PUSH";let D=by(R.location,C,I);m=y()+1;let j=fb(D,m),H=R.createHref(D);try{c.pushState(j,"",H)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;s.location.assign(H)}o&&f&&f({action:d,location:R.location,delta:1})}function A(C,I){d="REPLACE";let D=by(R.location,C,I);m=y();let j=fb(D,m),H=R.createHref(D);c.replaceState(j,"",H),o&&f&&f({action:d,location:R.location,delta:0})}function x(C){let I=s.location.origin!=="null"?s.location.origin:s.location.href,D=typeof C=="string"?C:Fu(C);return D=D.replace(/ $/,"%20"),Rt(I,`No window.location.(origin|href) available to create URL for href: ${D}`),new URL(D,I)}let R={get action(){return d},get location(){return t(s,c)},listen(C){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(db,v),f=C,()=>{s.removeEventListener(db,v),f=null}},createHref(C){return e(s,C)},createURL:x,encodeLocation(C){let I=x(C);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:b,replace:A,go(C){return c.go(C)}};return R}function DS(t,e,n="/"){return GN(t,e,n,!1)}function GN(t,e,n,r){let s=typeof e=="string"?tc(e):e,o=ca(s.pathname||"/",n);if(o==null)return null;let c=NS(t);WN(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let m=rO(o);d=tO(c[f],m,r)}return d}function NS(t,e=[],n=[],r=""){let s=(o,c,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(Rt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let m=rs([r,f.relativePath]),y=n.concat(f);o.children&&o.children.length>0&&(Rt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),NS(o.children,e,y,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:JN(m,o.index),routesMeta:y})};return t.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))s(o,c);else for(let f of OS(o.path))s(o,c,f)}),e}function OS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let c=OS(r.join("/")),d=[];return d.push(...c.map(f=>f===""?o:[o,f].join("/"))),s&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function WN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var $N=/^:[\w-]+$/,YN=3,KN=2,QN=1,XN=10,ZN=-2,hb=t=>t==="*";function JN(t,e){let n=t.split("/"),r=n.length;return n.some(hb)&&(r+=ZN),e&&(r+=KN),n.filter(s=>!hb(s)).reduce((s,o)=>s+($N.test(o)?YN:o===""?QN:XN),r)}function eO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function tO(t,e,n=!1){let{routesMeta:r}=t,s={},o="/",c=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",v=xh({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),b=f.route;if(!v&&m&&n&&!r[r.length-1].route.index&&(v=xh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!v)return null;Object.assign(s,v.params),c.push({params:s,pathname:rs([o,v.pathname]),pathnameBase:oO(rs([o,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(o=rs([o,v.pathnameBase]))}return c}function xh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nO(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((m,{paramName:y,isOptional:v},b)=>{if(y==="*"){let x=d[b]||"";c=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const A=d[b];return v&&!A?m[y]=void 0:m[y]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:t}}function nO(t,e=!1,n=!0){pi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function rO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pi(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ca(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function iO(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?tc(t):t;return{pathname:n?n.startsWith("/")?n:sO(n,e):e,search:lO(r),hash:cO(s)}}function sO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Kg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function MS(t){let e=aO(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function kS(t,e,n,r=!1){let s;typeof t=="string"?s=tc(t):(s={...t},Rt(!s.pathname||!s.pathname.includes("?"),Kg("?","pathname","search",s)),Rt(!s.pathname||!s.pathname.includes("#"),Kg("#","pathname","hash",s)),Rt(!s.search||!s.search.includes("#"),Kg("#","search","hash",s)));let o=t===""||s.pathname==="",c=o?"/":s.pathname,d;if(c==null)d=n;else{let v=e.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),v-=1;s.pathname=b.join("/")}d=v>=0?e[v]:"/"}let f=iO(s,d),m=c&&c!=="/"&&c.endsWith("/"),y=(o||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}var rs=t=>t.join("/").replace(/\/\/+/g,"/"),oO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var PS=["POST","PUT","PATCH","DELETE"];new Set(PS);var dO=["GET",...PS];new Set(dO);var nc=E.createContext(null);nc.displayName="DataRouter";var nm=E.createContext(null);nm.displayName="DataRouterState";var LS=E.createContext({isTransitioning:!1});LS.displayName="ViewTransition";var fO=E.createContext(new Map);fO.displayName="Fetchers";var hO=E.createContext(null);hO.displayName="Await";var wi=E.createContext(null);wi.displayName="Navigation";var id=E.createContext(null);id.displayName="Location";var ds=E.createContext({outlet:null,matches:[],isDataRoute:!1});ds.displayName="Route";var hv=E.createContext(null);hv.displayName="RouteError";function mO(t,{relative:e}={}){Rt(sd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(wi),{hash:s,pathname:o,search:c}=ad(t,{relative:e}),d=o;return n!=="/"&&(d=o==="/"?n:rs([n,o])),r.createHref({pathname:d,search:c,hash:s})}function sd(){return E.useContext(id)!=null}function Ro(){return Rt(sd(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(id).location}var VS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jS(t){E.useContext(wi).static||E.useLayoutEffect(t)}function pO(){let{isDataRoute:t}=E.useContext(ds);return t?CO():gO()}function gO(){Rt(sd(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(nc),{basename:e,navigator:n}=E.useContext(wi),{matches:r}=E.useContext(ds),{pathname:s}=Ro(),o=JSON.stringify(MS(r)),c=E.useRef(!1);return jS(()=>{c.current=!0}),E.useCallback((f,m={})=>{if(pi(c.current,VS),!c.current)return;if(typeof f=="number"){n.go(f);return}let y=kS(f,JSON.parse(o),s,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:rs([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,o,s,t])}E.createContext(null);function ad(t,{relative:e}={}){let{matches:n}=E.useContext(ds),{pathname:r}=Ro(),s=JSON.stringify(MS(n));return E.useMemo(()=>kS(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function yO(t,e){return US(t,e)}function US(t,e,n,r){var I;Rt(sd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=E.useContext(wi),{matches:o}=E.useContext(ds),c=o[o.length-1],d=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",y=c&&c.route;{let D=y&&y.path||"";BS(f,!y||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let v=Ro(),b;if(e){let D=typeof e=="string"?tc(e):e;Rt(m==="/"||((I=D.pathname)==null?void 0:I.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${D.pathname}" was given in the \`location\` prop.`),b=D}else b=v;let A=b.pathname||"/",x=A;if(m!=="/"){let D=m.replace(/^\//,"").split("/");x="/"+A.replace(/^\//,"").split("/").slice(D.length).join("/")}let R=DS(t,{pathname:x});pi(y||R!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),pi(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=bO(R&&R.map(D=>Object.assign({},D,{params:Object.assign({},d,D.params),pathname:rs([m,s.encodeLocation?s.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?m:rs([m,s.encodeLocation?s.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),o,n,r);return e&&C?E.createElement(id.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},C):C}function vO(){let t=RO(),e=uO(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:o},"ErrorBoundary")," or"," ",E.createElement("code",{style:o},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:s},n):null,c)}var _O=E.createElement(vO,null),wO=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?E.createElement(ds.Provider,{value:this.props.routeContext},E.createElement(hv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function EO({routeContext:t,match:e,children:n}){let r=E.useContext(nc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(ds.Provider,{value:t},n)}function bO(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let f=s.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);Rt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let c=!1,d=-1;if(n)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:y,errors:v}=n,b=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||b){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,m,y)=>{let v,b=!1,A=null,x=null;n&&(v=o&&m.route.id?o[m.route.id]:void 0,A=m.route.errorElement||_O,c&&(d<0&&y===0?(BS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,x=null):d===y&&(b=!0,x=m.route.hydrateFallbackElement||null)));let R=e.concat(s.slice(0,y+1)),C=()=>{let I;return v?I=A:b?I=x:m.route.Component?I=E.createElement(m.route.Component,null):m.route.element?I=m.route.element:I=f,E.createElement(EO,{match:m,routeContext:{outlet:f,matches:R,isDataRoute:n!=null},children:I})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?E.createElement(wO,{location:n.location,revalidation:n.revalidation,component:A,error:v,children:C(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):C()},null)}function mv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TO(t){let e=E.useContext(nc);return Rt(e,mv(t)),e}function SO(t){let e=E.useContext(nm);return Rt(e,mv(t)),e}function AO(t){let e=E.useContext(ds);return Rt(e,mv(t)),e}function pv(t){let e=AO(t),n=e.matches[e.matches.length-1];return Rt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function xO(){return pv("useRouteId")}function RO(){var r;let t=E.useContext(hv),e=SO("useRouteError"),n=pv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function CO(){let{router:t}=TO("useNavigate"),e=pv("useNavigate"),n=E.useRef(!1);return jS(()=>{n.current=!0}),E.useCallback(async(s,o={})=>{pi(n.current,VS),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var mb={};function BS(t,e,n){!e&&!mb[t]&&(mb[t]=!0,pi(!1,n))}E.memo(IO);function IO({routes:t,future:e,state:n}){return US(t,void 0,n,e)}function Ty(t){Rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DO({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){Rt(!sd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=E.useMemo(()=>({basename:c,navigator:s,static:o,future:{}}),[c,s,o]);typeof n=="string"&&(n=tc(n));let{pathname:f="/",search:m="",hash:y="",state:v=null,key:b="default"}=n,A=E.useMemo(()=>{let x=ca(f,c);return x==null?null:{location:{pathname:x,search:m,hash:y,state:v,key:b},navigationType:r}},[c,f,m,y,v,b,r]);return pi(A!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:E.createElement(wi.Provider,{value:d},E.createElement(id.Provider,{children:e,value:A}))}function NO({children:t,location:e}){return yO(Sy(t),e)}function Sy(t,e=[]){let n=[];return E.Children.forEach(t,(r,s)=>{if(!E.isValidElement(r))return;let o=[...e,s];if(r.type===E.Fragment){n.push.apply(n,Sy(r.props.children,o));return}Rt(r.type===Ty,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Sy(r.props.children,o)),n.push(c)}),n}var dh="get",fh="application/x-www-form-urlencoded";function rm(t){return t!=null&&typeof t.tagName=="string"}function OO(t){return rm(t)&&t.tagName.toLowerCase()==="button"}function MO(t){return rm(t)&&t.tagName.toLowerCase()==="form"}function kO(t){return rm(t)&&t.tagName.toLowerCase()==="input"}function PO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LO(t,e){return t.button===0&&(!e||e==="_self")&&!PO(t)}var Qf=null;function VO(){if(Qf===null)try{new FormData(document.createElement("form"),0),Qf=!1}catch{Qf=!0}return Qf}var jO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qg(t){return t!=null&&!jO.has(t)?(pi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):t}function UO(t,e){let n,r,s,o,c;if(MO(t)){let d=t.getAttribute("action");r=d?ca(d,e):null,n=t.getAttribute("method")||dh,s=Qg(t.getAttribute("enctype"))||fh,o=new FormData(t)}else if(OO(t)||kO(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(r=f?ca(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||dh,s=Qg(t.getAttribute("formenctype"))||Qg(d.getAttribute("enctype"))||fh,o=new FormData(d,t),!VO()){let{name:m,type:y,value:v}=t;if(y==="image"){let b=m?`${m}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else m&&o.append(m,v)}}else{if(rm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dh,r=null,s=fh,c=t}return o&&s==="text/plain"&&(c=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:c}}function gv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function BO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function FO(t,e,n){let r=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let c=await BO(o,n);return c.links?c.links():[]}return[]}));return WO(r.flat(1).filter(zO).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function pb(t,e,n,r,s,o){let c=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,d=(f,m)=>{var y;return n[m].pathname!==f.pathname||((y=n[m].route.path)==null?void 0:y.endsWith("*"))&&n[m].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,m)=>c(f,m)||d(f,m)):o==="data"?e.filter((f,m)=>{var v;let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(c(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function HO(t,e){return qO(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function qO(t){return[...new Set(t)]}function GO(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function WO(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let o=JSON.stringify(GO(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function $O(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function YO(){let t=E.useContext(nc);return gv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function KO(){let t=E.useContext(nm);return gv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var yv=E.createContext(void 0);yv.displayName="FrameworkContext";function zS(){let t=E.useContext(yv);return gv(t,"You must render this element inside a <HydratedRouter> element"),t}function QO(t,e){let n=E.useContext(yv),[r,s]=E.useState(!1),[o,c]=E.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=e,b=E.useRef(null);E.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let R=I=>{I.forEach(D=>{c(D.isIntersecting)})},C=new IntersectionObserver(R,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[t]),E.useEffect(()=>{if(r){let R=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(R)}}},[r]);let A=()=>{s(!0)},x=()=>{s(!1),c(!1)};return n?t!=="intent"?[o,b,{}]:[o,b,{onFocus:bu(d,A),onBlur:bu(f,x),onMouseEnter:bu(m,A),onMouseLeave:bu(y,x),onTouchStart:bu(v,A)}]:[!1,b,{}]}function bu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function XO({page:t,...e}){let{router:n}=YO(),r=E.useMemo(()=>DS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?E.createElement(JO,{page:t,matches:r,...e}):(console.warn(`Tried to prefetch ${t} but no routes matched.`),null)}function ZO(t){let{manifest:e,routeModules:n}=zS(),[r,s]=E.useState([]);return E.useEffect(()=>{let o=!1;return FO(t,e,n).then(c=>{o||s(c)}),()=>{o=!0}},[t,e,n]),r}function JO({page:t,matches:e,...n}){let r=Ro(),{manifest:s,routeModules:o}=zS(),{loaderData:c,matches:d}=KO(),f=E.useMemo(()=>pb(t,e,d,s,r,"data"),[t,e,d,s,r]),m=E.useMemo(()=>pb(t,e,d,s,r,"assets"),[t,e,d,s,r]),y=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,x=!1;if(e.forEach(C=>{var D;let I=s.routes[C.route.id];!I||!I.hasLoader||(!f.some(j=>j.route.id===C.route.id)&&C.route.id in c&&((D=o[C.route.id])!=null&&D.shouldRevalidate)||I.hasClientLoader?x=!0:A.add(C.route.id))}),A.size===0)return[];let R=$O(t);return x&&A.size>0&&R.searchParams.set("_routes",e.filter(C=>A.has(C.route.id)).map(C=>C.route.id).join(",")),[R.pathname+R.search]},[c,r,s,f,e,t,o]),v=E.useMemo(()=>HO(m,s),[m,s]),b=ZO(m);return E.createElement(E.Fragment,null,y.map(A=>E.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),v.map(A=>E.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),b.map(({key:A,link:x})=>E.createElement("link",{key:A,...x})))}function eM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var FS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FS&&(window.__reactRouterVersion="7.0.2")}catch{}function tM({basename:t,children:e,window:n}){let r=E.useRef();r.current==null&&(r.current=FN({window:n,v5Compat:!0}));let s=r.current,[o,c]=E.useState({action:s.action,location:s.location}),d=E.useCallback(f=>{E.startTransition(()=>c(f))},[c]);return E.useLayoutEffect(()=>s.listen(d),[s,d]),E.createElement(DO,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}var HS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vv=E.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:c,state:d,target:f,to:m,preventScrollReset:y,viewTransition:v,...b},A){let{basename:x}=E.useContext(wi),R=typeof m=="string"&&HS.test(m),C,I=!1;if(typeof m=="string"&&R&&(C=m,FS))try{let O=new URL(window.location.href),L=m.startsWith("//")?new URL(O.protocol+m):new URL(m),z=ca(L.pathname,x);L.origin===O.origin&&z!=null?m=z+L.search+L.hash:I=!0}catch{pi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=mO(m,{relative:s}),[j,H,$]=QO(r,b),Z=sM(m,{replace:c,state:d,target:f,preventScrollReset:y,relative:s,viewTransition:v});function k(O){e&&e(O),O.defaultPrevented||Z(O)}let N=E.createElement("a",{...b,...$,href:C||D,onClick:I||o?e:k,ref:eM(A,H),target:f,"data-discover":!R&&n==="render"?"true":void 0});return j&&!R?E.createElement(E.Fragment,null,N,E.createElement(XO,{page:D})):N});vv.displayName="Link";var nM=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:c,viewTransition:d,children:f,...m},y){let v=ad(c,{relative:m.relative}),b=Ro(),A=E.useContext(nm),{navigator:x,basename:R}=E.useContext(wi),C=A!=null&&uM(v)&&d===!0,I=x.encodeLocation?x.encodeLocation(v).pathname:v.pathname,D=b.pathname,j=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(D=D.toLowerCase(),j=j?j.toLowerCase():null,I=I.toLowerCase()),j&&R&&(j=ca(j,R)||j);const H=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let $=D===I||!s&&D.startsWith(I)&&D.charAt(H)==="/",Z=j!=null&&(j===I||!s&&j.startsWith(I)&&j.charAt(I.length)==="/"),k={isActive:$,isPending:Z,isTransitioning:C},N=$?e:void 0,O;typeof r=="function"?O=r(k):O=[r,$?"active":null,Z?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(k):o;return E.createElement(vv,{...m,"aria-current":N,className:O,ref:y,style:L,to:c,viewTransition:d},typeof f=="function"?f(k):f)});nM.displayName="NavLink";var rM=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:o,method:c=dh,action:d,onSubmit:f,relative:m,preventScrollReset:y,viewTransition:v,...b},A)=>{let x=lM(),R=cM(d,{relative:m}),C=c.toLowerCase()==="get"?"get":"post",I=typeof d=="string"&&HS.test(d),D=j=>{if(f&&f(j),j.defaultPrevented)return;j.preventDefault();let H=j.nativeEvent.submitter,$=(H==null?void 0:H.getAttribute("formmethod"))||c;x(H||j.currentTarget,{fetcherKey:e,method:$,navigate:n,replace:s,state:o,relative:m,preventScrollReset:y,viewTransition:v})};return E.createElement("form",{ref:A,method:C,action:R,onSubmit:r?f:D,...b,"data-discover":!I&&t==="render"?"true":void 0})});rM.displayName="Form";function iM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qS(t){let e=E.useContext(nc);return Rt(e,iM(t)),e}function sM(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:c}={}){let d=pO(),f=Ro(),m=ad(t,{relative:o});return E.useCallback(y=>{if(LO(y,e)){y.preventDefault();let v=n!==void 0?n:Fu(f)===Fu(m);d(t,{replace:v,state:r,preventScrollReset:s,relative:o,viewTransition:c})}},[f,d,m,n,r,e,t,s,o,c])}var aM=0,oM=()=>`__${String(++aM)}__`;function lM(){let{router:t}=qS("useSubmit"),{basename:e}=E.useContext(wi),n=xO();return E.useCallback(async(r,s={})=>{let{action:o,method:c,encType:d,formData:f,body:m}=UO(r,e);if(s.navigate===!1){let y=s.fetcherKey||oM();await t.fetch(y,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function cM(t,{relative:e}={}){let{basename:n}=E.useContext(wi),r=E.useContext(ds);Rt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...ad(t||".",{relative:e})},c=Ro();if(t==null){o.search=c.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(y=>y==="")){d.delete("index"),f.filter(v=>v).forEach(v=>d.append("index",v));let y=d.toString();o.search=y?`?${y}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:rs([n,o.pathname])),Fu(o)}function uM(t,e={}){let n=E.useContext(LS);Rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=qS("useViewTransitionState"),s=ad(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=ca(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=ca(n.nextLocation.pathname,r)||n.nextLocation.pathname;return xh(s.pathname,c)!=null||xh(s.pathname,o)!=null}new TextEncoder;var od=IS();const dM=dv(od);var gb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},fM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],c=t[n++],d=t[n++],f=((s&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},WS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],c=s+1<t.length,d=c?t[s+1]:0,f=s+2<t.length,m=f?t[s+2]:0,y=o>>2,v=(o&3)<<4|d>>4;let b=(d&15)<<2|m>>6,A=m&63;f||(A=64,c||(b=64)),r.push(n[y],n[v],n[b],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(GS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],d=s<t.length?n[t.charAt(s)]:0;++s;const m=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||d==null||m==null||v==null)throw new hM;const b=o<<2|d>>4;if(r.push(b),m!==64){const A=d<<4&240|m>>2;if(r.push(A),v!==64){const x=m<<6&192|v;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mM=function(t){const e=GS(t);return WS.encodeByteArray(e,!0)},Rh=function(t){return mM(t).replace(/\./g,"")},$S=function(t){try{return WS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=()=>pM().__FIREBASE_DEFAULTS__,yM=()=>{if(typeof process>"u"||typeof gb>"u")return;const t=gb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$S(t[1]);return e&&JSON.parse(e)},im=()=>{try{return gM()||yM()||vM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},YS=t=>{var e,n;return(n=(e=im())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},KS=t=>{const e=YS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},QS=()=>{var t;return(t=im())===null||t===void 0?void 0:t.config},XS=t=>{var e;return(e=im())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rh(JSON.stringify(n)),Rh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function EM(){var t;const e=(t=im())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function SM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AM(){const t=Rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xM(){return!EM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RM(){try{return typeof indexedDB=="object"}catch{return!1}}function CM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="FirebaseError";class Ei extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=IM,Object.setPrototypeOf(this,Ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ld.prototype.create)}}class ld{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?DM(o,r):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new Ei(s,d,r)}}function DM(t,e){return t.replace(NM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const NM=/\{\$([^}]+)}/g;function OM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],c=e[s];if(yb(o)&&yb(c)){if(!Hu(o,c))return!1}else if(o!==c)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function yb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Au(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function xu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function MM(t,e){const n=new kM(t,e);return n.subscribe.bind(n)}class kM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Xg),s.error===void 0&&(s.error=Xg),s.complete===void 0&&(s.complete=Xg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t){return t&&t._delegate?t._delegate:t}class ua{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _M;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jM(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&c.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VM(t){return t===so?void 0:t}function jM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const BM={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},zM=Ye.INFO,FM={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},HM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=FM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _v{constructor(e){this.name=e,this._logLevel=zM,this._logHandler=HM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const qM=(t,e)=>e.some(n=>t instanceof n);let vb,_b;function GM(){return vb||(vb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WM(){return _b||(_b=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JS=new WeakMap,Ay=new WeakMap,e1=new WeakMap,Zg=new WeakMap,wv=new WeakMap;function $M(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(ra(t.result)),s()},c=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&JS.set(n,t)}).catch(()=>{}),wv.set(e,t),e}function YM(t){if(Ay.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),s()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});Ay.set(t,e)}let xy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ay.get(t);if(e==="objectStoreNames")return t.objectStoreNames||e1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ra(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KM(t){xy=t(xy)}function QM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jg(this),e,...n);return e1.set(r,e.sort?e.sort():[e]),ra(r)}:WM().includes(t)?function(...e){return t.apply(Jg(this),e),ra(JS.get(this))}:function(...e){return ra(t.apply(Jg(this),e))}}function XM(t){return typeof t=="function"?QM(t):(t instanceof IDBTransaction&&YM(t),qM(t,GM())?new Proxy(t,xy):t)}function ra(t){if(t instanceof IDBRequest)return $M(t);if(Zg.has(t))return Zg.get(t);const e=XM(t);return e!==t&&(Zg.set(t,e),wv.set(e,t)),e}const Jg=t=>wv.get(t);function ZM(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const c=indexedDB.open(t,e),d=ra(c);return r&&c.addEventListener("upgradeneeded",f=>{r(ra(c.result),f.oldVersion,f.newVersion,ra(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const JM=["get","getKey","getAll","getAllKeys","count"],ek=["put","add","delete","clear"],ey=new Map;function wb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ey.get(e))return ey.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=ek.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||JM.includes(n)))return;const o=async function(c,...d){const f=this.transaction(c,s?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),s&&f.done]))[0]};return ey.set(e,o),o}KM(t=>({...t,get:(e,n,r)=>wb(e,n)||t.get(e,n,r),has:(e,n)=>!!wb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ry="@firebase/app",Eb="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new _v("@firebase/app"),rk="@firebase/app-compat",ik="@firebase/analytics-compat",sk="@firebase/analytics",ak="@firebase/app-check-compat",ok="@firebase/app-check",lk="@firebase/auth",ck="@firebase/auth-compat",uk="@firebase/database",dk="@firebase/data-connect",fk="@firebase/database-compat",hk="@firebase/functions",mk="@firebase/functions-compat",pk="@firebase/installations",gk="@firebase/installations-compat",yk="@firebase/messaging",vk="@firebase/messaging-compat",_k="@firebase/performance",wk="@firebase/performance-compat",Ek="@firebase/remote-config",bk="@firebase/remote-config-compat",Tk="@firebase/storage",Sk="@firebase/storage-compat",Ak="@firebase/firestore",xk="@firebase/vertexai",Rk="@firebase/firestore-compat",Ck="firebase",Ik="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="[DEFAULT]",Dk={[Ry]:"fire-core",[rk]:"fire-core-compat",[sk]:"fire-analytics",[ik]:"fire-analytics-compat",[ok]:"fire-app-check",[ak]:"fire-app-check-compat",[lk]:"fire-auth",[ck]:"fire-auth-compat",[uk]:"fire-rtdb",[dk]:"fire-data-connect",[fk]:"fire-rtdb-compat",[hk]:"fire-fn",[mk]:"fire-fn-compat",[pk]:"fire-iid",[gk]:"fire-iid-compat",[yk]:"fire-fcm",[vk]:"fire-fcm-compat",[_k]:"fire-perf",[wk]:"fire-perf-compat",[Ek]:"fire-rc",[bk]:"fire-rc-compat",[Tk]:"fire-gcs",[Sk]:"fire-gcs-compat",[Ak]:"fire-fst",[Rk]:"fire-fst-compat",[xk]:"fire-vertex","fire-js":"fire-js",[Ck]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Map,Nk=new Map,Iy=new Map;function bb(t,e){try{t.container.addComponent(e)}catch(n){is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function go(t){const e=t.name;if(Iy.has(e))return is.debug(`There were multiple attempts to register component ${e}.`),!1;Iy.set(e,t);for(const n of Ch.values())bb(n,t);for(const n of Nk.values())bb(n,t);return!0}function sm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _r(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ia=new ld("app","Firebase",Ok);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ia.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=Ik;function t1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Cy,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ia.create("bad-app-name",{appName:String(s)});if(n||(n=QS()),!n)throw ia.create("no-options");const o=Ch.get(s);if(o){if(Hu(n,o.options)&&Hu(r,o.config))return o;throw ia.create("duplicate-app",{appName:s})}const c=new UM(s);for(const f of Iy.values())c.addComponent(f);const d=new Mk(n,r,c);return Ch.set(s,d),d}function Ev(t=Cy){const e=Ch.get(t);if(!e&&t===Cy&&QS())return t1();if(!e)throw ia.create("no-app",{appName:t});return e}function oi(t,e,n){var r;let s=(r=Dk[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),is.warn(d.join(" "));return}go(new ua(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk="firebase-heartbeat-database",Pk=1,qu="firebase-heartbeat-store";let ty=null;function n1(){return ty||(ty=ZM(kk,Pk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ia.create("idb-open",{originalErrorMessage:t.message})})),ty}async function Lk(t){try{const n=(await n1()).transaction(qu),r=await n.objectStore(qu).get(r1(t));return await n.done,r}catch(e){if(e instanceof Ei)is.warn(e.message);else{const n=ia.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});is.warn(n.message)}}}async function Tb(t,e){try{const r=(await n1()).transaction(qu,"readwrite");await r.objectStore(qu).put(e,r1(t)),await r.done}catch(n){if(n instanceof Ei)is.warn(n.message);else{const r=ia.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});is.warn(r.message)}}}function r1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=1024,jk=30*24*60*60*1e3;class Uk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Sb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=jk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){is.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sb(),{heartbeatsToSend:r,unsentEntries:s}=Bk(this._heartbeatsCache.heartbeats),o=Rh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return is.warn(n),""}}}function Sb(){return new Date().toISOString().substring(0,10)}function Bk(t,e=Vk){const n=[];let r=t.slice();for(const s of t){const o=n.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),Ab(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ab(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RM()?CM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Lk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Tb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Tb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ab(t){return Rh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(t){go(new ua("platform-logger",e=>new tk(e),"PRIVATE")),go(new ua("heartbeat",e=>new Uk(e),"PRIVATE")),oi(Ry,Eb,t),oi(Ry,Eb,"esm2017"),oi("fire-js","")}Fk("");var ti=function(){return ti=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ti.apply(this,arguments)};function ud(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Hk(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function i1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qk=i1,s1=new ld("auth","Firebase",i1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new _v("@firebase/auth");function Gk(t,...e){Ih.logLevel<=Ye.WARN&&Ih.warn(`Auth (${Co}): ${t}`,...e)}function hh(t,...e){Ih.logLevel<=Ye.ERROR&&Ih.error(`Auth (${Co}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t,...e){throw Tv(t,...e)}function Nr(t,...e){return Tv(t,...e)}function bv(t,e,n){const r=Object.assign(Object.assign({},qk()),{[e]:n});return new ld("auth","Firebase",r).create(e,{appName:t.name})}function li(t){return bv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wk(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Er(t,"argument-error"),bv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return s1.create(t,...e)}function Oe(t,e,...n){if(!t)throw Tv(e,...n)}function Zi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hh(e),new Error(e)}function ss(t,e){t||Zi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $k(){return xb()==="http:"||xb()==="https:"}function xb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($k()||TM()||"connection"in navigator)?navigator.onLine:!0}function Kk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n){this.shortDelay=e,this.longDelay=n,ss(n>e,"Short delay should be less than long delay!"),this.isMobile=wM()||SM()}get(){return Yk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(t,e){ss(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=new dd(3e4,6e4);function fs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Lr(t,e,n,r,s={}){return o1(t,s,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const d=cd(Object.assign({key:t.config.apiKey},c)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:f},o);return bM()||(m.referrerPolicy="no-referrer"),a1.fetch()(l1(t,t.config.apiHost,n,d),m)})}async function o1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Qk),e);try{const s=new Jk(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Xf(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xf(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Xf(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw Xf(t,"user-disabled",c);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw bv(t,y,m);Er(t,y)}}catch(s){if(s instanceof Ei)throw s;Er(t,"network-request-failed",{message:String(s)})}}async function fd(t,e,n,r,s={}){const o=await Lr(t,e,n,r,s);return"mfaPendingCredential"in o&&Er(t,"multi-factor-auth-required",{_serverResponse:o}),o}function l1(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Sv(t.config,s):`${t.config.apiScheme}://${s}`}function Zk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Jk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Nr(this.auth,"network-request-failed")),Xk.get())})}}function Xf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Nr(t,e,r);return s.customData._tokenResponse=n,s}function Rb(t){return t!==void 0&&t.enterprise!==void 0}class eP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Zk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tP(t,e){return Lr(t,"GET","/v2/recaptchaConfig",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nP(t,e){return Lr(t,"POST","/v1/accounts:delete",e)}async function c1(t,e){return Lr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rP(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),s=Av(r);Oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:ku(ny(s.auth_time)),issuedAtTime:ku(ny(s.iat)),expirationTime:ku(ny(s.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ny(t){return Number(t)*1e3}function Av(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{const s=$S(n);return s?JSON.parse(s):(hh("Failed to decode base64 JWT payload"),null)}catch(s){return hh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Cb(t){const e=Av(t);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ei&&iP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function iP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ku(this.lastLoginAt),this.creationTime=ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await yo(t,c1(n,{idToken:r}));Oe(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?u1(o.providerUserInfo):[],d=oP(t.providerData,c),f=t.isAnonymous,m=!(t.email&&o.passwordHash)&&!(d!=null&&d.length),y=f?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Ny(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(t,v)}async function aP(t){const e=Ct(t);await Dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oP(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function u1(t){return t.map(e=>{var{providerId:n}=e,r=ud(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lP(t,e){const n=await o1(t,{},async()=>{const r=cd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,c=l1(t,s,"/v1/token",`key=${o}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",a1.fetch()(c,{method:"POST",headers:d,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cP(t,e){return Lr(t,"POST","/v2/accounts:revokeToken",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Cb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=Cb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await lP(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,c=new Ol;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),s&&(Oe(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),o&&(Oe(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ol,this.toJSON())}_performRefresh(){return Zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t,e){Oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ji{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=ud(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ny(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await yo(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rP(this,e)}reload(){return aP(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ji(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Dh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_r(this.auth.app))return Promise.reject(li(this.auth));const e=await this.getIdToken();return await yo(this,nP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,c,d,f,m,y;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,b=(s=n.email)!==null&&s!==void 0?s:void 0,A=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,x=(c=n.photoURL)!==null&&c!==void 0?c:void 0,R=(d=n.tenantId)!==null&&d!==void 0?d:void 0,C=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,I=(m=n.createdAt)!==null&&m!==void 0?m:void 0,D=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:j,emailVerified:H,isAnonymous:$,providerData:Z,stsTokenManager:k}=n;Oe(j&&k,e,"internal-error");const N=Ol.fromJSON(this.name,k);Oe(typeof j=="string",e,"internal-error"),Ys(v,e.name),Ys(b,e.name),Oe(typeof H=="boolean",e,"internal-error"),Oe(typeof $=="boolean",e,"internal-error"),Ys(A,e.name),Ys(x,e.name),Ys(R,e.name),Ys(C,e.name),Ys(I,e.name),Ys(D,e.name);const O=new Ji({uid:j,auth:e,email:b,emailVerified:H,displayName:v,isAnonymous:$,photoURL:x,phoneNumber:A,tenantId:R,stsTokenManager:N,createdAt:I,lastLoginAt:D});return Z&&Array.isArray(Z)&&(O.providerData=Z.map(L=>Object.assign({},L))),C&&(O._redirectEventId=C),O}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ol;s.updateFromServerResponse(n);const o=new Ji({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Dh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Oe(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?u1(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),d=new Ol;d.updateFromIdToken(r);const f=new Ji({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Ny(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=new Map;function es(t){ss(t instanceof Function,"Expected a class definition");let e=Ib.get(t);return e?(ss(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ib.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}d1.type="NONE";const Db=d1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ml{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=mh(this.userKey,s.apiKey,o),this.fullPersistenceKey=mh("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ji._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ml(es(Db),e,r);const s=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=s[0]||es(Db);const c=mh(r,e.config.apiKey,e.name);let d=null;for(const m of n)try{const y=await m._get(c);if(y){const v=Ji._fromJSON(e,y);m!==o&&(d=v),o=m;break}}catch{}const f=s.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Ml(o,e,r):(o=f[0],d&&await o._set(c,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new Ml(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(p1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(f1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(y1(e))return"Blackberry";if(v1(e))return"Webos";if(h1(e))return"Safari";if((e.includes("chrome/")||m1(e))&&!e.includes("edge/"))return"Chrome";if(g1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function f1(t=Rn()){return/firefox\//i.test(t)}function h1(t=Rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m1(t=Rn()){return/crios\//i.test(t)}function p1(t=Rn()){return/iemobile/i.test(t)}function g1(t=Rn()){return/android/i.test(t)}function y1(t=Rn()){return/blackberry/i.test(t)}function v1(t=Rn()){return/webos/i.test(t)}function xv(t=Rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uP(t=Rn()){var e;return xv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dP(){return AM()&&document.documentMode===10}function _1(t=Rn()){return xv(t)||g1(t)||v1(t)||y1(t)||/windows phone/i.test(t)||p1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t,e=[]){let n;switch(t){case"Browser":n=Nb(Rn());break;case"Worker":n=`${Nb(Rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Co}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((c,d)=>{try{const f=e(o);c(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hP(t,e={}){return Lr(t,"GET","/v2/passwordPolicy",fs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=6;class pP{constructor(e){var n,r,s,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:mP,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,o,c,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ob(this),this.idTokenSubscription=new Ob(this),this.beforeStateQueue=new fP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=es(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ml.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await c1(this,{idToken:e}),r=await Ji._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_r(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&(f!=null&&f.user)&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Kk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_r(this.app))return Promise.reject(li(this));const n=e?Ct(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _r(this.app)?Promise.reject(li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _r(this.app)?Promise.reject(li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hP(this),n=new pP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ld("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await cP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&es(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await Ml.create(this,[es(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,s);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=w1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Gk(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function hs(t){return Ct(t)}class Ob{constructor(e){this.auth=e,this.observer=null,this.addObserver=MM(n=>this.observer=n)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let am={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yP(t){am=t}function E1(t){return am.loadJS(t)}function vP(){return am.recaptchaEnterpriseScript}function _P(){return am.gapiScript}function wP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class EP{constructor(){this.enterprise=new bP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class bP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const TP="recaptcha-enterprise",b1="NO_RECAPTCHA";class SP{constructor(e){this.type=TP,this.auth=hs(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,d)=>{tP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new eP(f);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(f=>{d(f)})})}function s(o,c,d){const f=window.grecaptcha;Rb(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(m=>{c(m)}).catch(()=>{c(b1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new EP().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(d=>{if(!n&&Rb(window.grecaptcha))s(d,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=vP();f.length!==0&&(f+=d),E1(f).then(()=>{s(d,o,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function Mb(t,e,n,r=!1,s=!1){const o=new SP(t);let c;if(s)c=b1;else try{c=await o.verify(n)}catch{c=await o.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Nh(t,e,n,r,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Mb(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Mb(t,e,n,n==="getOobCode");return r(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(t,e){const n=sm(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Hu(o,e??{}))return s;Er(s,"already-initialized")}return n.initialize({options:e})}function xP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(es);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function RP(t,e,n){const r=hs(t);Oe(r._canInitEmulator,r,"emulator-config-failed"),Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=T1(e),{host:c,port:d}=CP(e),f=d===null?"":`:${d}`;r.config.emulator={url:`${o}//${c}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),IP()}function T1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function CP(t){const e=T1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:kb(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:kb(c)}}}function kb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function IP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zi("not implemented")}_getIdTokenResponse(e){return Zi("not implemented")}_linkToIdToken(e,n){return Zi("not implemented")}_getReauthenticationResolver(e){return Zi("not implemented")}}async function DP(t,e){return Lr(t,"POST","/v1/accounts:update",e)}async function NP(t,e){return Lr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OP(t,e){return fd(t,"POST","/v1/accounts:signInWithPassword",fs(t,e))}async function MP(t,e){return Lr(t,"POST","/v1/accounts:sendOobCode",fs(t,e))}async function kP(t,e){return MP(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(t,e){return fd(t,"POST","/v1/accounts:signInWithEmailLink",fs(t,e))}async function LP(t,e){return fd(t,"POST","/v1/accounts:signInWithEmailLink",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends Rv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Gu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Gu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nh(e,n,"signInWithPassword",OP);case"emailLink":return PP(e,{email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nh(e,r,"signUpPassword",NP);case"emailLink":return LP(e,{idToken:n,email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(t,e){return fd(t,"POST","/v1/accounts:signInWithIdp",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP="http://localhost";class vo extends Rv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=ud(n,["providerId","signInMethod"]);if(!r||!s)return null;const c=new vo(r,s);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return kl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,kl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,kl(e,n)}buildRequest(){const e={requestUri:VP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UP(t){const e=Au(xu(t)).link,n=e?Au(xu(e)).deep_link_id:null,r=Au(xu(t)).deep_link_id;return(r?Au(xu(r)).link:null)||r||n||e||t}class Cv{constructor(e){var n,r,s,o,c,d;const f=Au(xu(e)),m=(n=f.apiKey)!==null&&n!==void 0?n:null,y=(r=f.oobCode)!==null&&r!==void 0?r:null,v=jP((s=f.mode)!==null&&s!==void 0?s:null);Oe(m&&y&&v,"argument-error"),this.apiKey=m,this.operation=v,this.code=y,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=f.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=UP(e);try{return new Cv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this.providerId=rc.PROVIDER_ID}static credential(e,n){return Gu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Cv.parseLink(n);return Oe(r,"argument-error"),Gu._fromEmailAndCode(e,r.code,r.tenantId)}}rc.PROVIDER_ID="password";rc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends Iv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends hd{constructor(){super("facebook.com")}static credential(e){return vo._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends hd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vo._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ni.credential(n,r)}catch{return null}}}ni.GOOGLE_SIGN_IN_METHOD="google.com";ni.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends hd{constructor(){super("github.com")}static credential(e){return vo._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ea.credential(e.oauthAccessToken)}catch{return null}}}ea.GITHUB_SIGN_IN_METHOD="github.com";ea.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends hd{constructor(){super("twitter.com")}static credential(e,n){return vo._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ta.credential(n,r)}catch{return null}}}ta.TWITTER_SIGN_IN_METHOD="twitter.com";ta.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BP(t,e){return fd(t,"POST","/v1/accounts:signUp",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await Ji._fromIdTokenResponse(e,r,s),c=Pb(r);return new _o({user:o,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Pb(r);return new _o({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Pb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends Ei{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Oh(e,n,r,s)}}function S1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(t,o,e,r):o})}async function zP(t,e,n=!1){const r=await yo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _o._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FP(t,e,n=!1){const{auth:r}=t;if(_r(r.app))return Promise.reject(li(r));const s="reauthenticate";try{const o=await yo(t,S1(r,s,e,t),n);Oe(o.idToken,r,"internal-error");const c=Av(o.idToken);Oe(c,r,"internal-error");const{sub:d}=c;return Oe(t.uid===d,r,"user-mismatch"),_o._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Er(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(t,e,n=!1){if(_r(t.app))return Promise.reject(li(t));const r="signIn",s=await S1(t,r,e),o=await _o._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function HP(t,e){return A1(hs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(t){const e=hs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qP(t,e,n){const r=hs(t);await Nh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",kP)}async function GP(t,e,n){if(_r(t.app))return Promise.reject(li(t));const r=hs(t),c=await Nh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BP).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&x1(t),f}),d=await _o._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function WP(t,e,n){return _r(t.app)?Promise.reject(li(t)):HP(Ct(t),rc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&x1(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $P(t,e){return Lr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lb(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ct(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await yo(r,$P(r.auth,o));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const d=r.providerData.find(({providerId:f})=>f==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function YP(t,e){const n=Ct(t);return _r(n.auth.app)?Promise.reject(li(n.auth)):R1(n,e,null)}function KP(t,e){return R1(Ct(t),null,e)}async function R1(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const c=await yo(t,DP(r,o));await t._updateTokensIfNecessary(c,!0)}function QP(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function XP(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function ZP(t,e,n,r){return Ct(t).onAuthStateChanged(e,n,r)}function JP(t){return Ct(t).signOut()}const Mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mh,"1"),this.storage.removeItem(Mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=1e3,t2=10;class I1 extends C1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);dP()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,t2):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},e2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}I1.type="LOCAL";const n2=I1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1 extends C1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}D1.type="SESSION";const N1=D1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new om(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(c).map(async m=>m(n.origin,o)),f=await r2(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}om.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((d,f)=>{const m=Dv("",20);s.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:s,onMessage(v){const b=v;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(b.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function s2(t){ci().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function a2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function o2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function l2(){return O1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="firebaseLocalStorageDb",c2=1,kh="firebaseLocalStorage",k1="fbase_key";class md{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lm(t,e){return t.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function u2(){const t=indexedDB.deleteDatabase(M1);return new md(t).toPromise()}function Oy(){const t=indexedDB.open(M1,c2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kh,{keyPath:k1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(kh)?e(r):(r.close(),await u2(),e(await Oy()))})})}async function Vb(t,e,n){const r=lm(t,!0).put({[k1]:e,value:n});return new md(r).toPromise()}async function d2(t,e){const n=lm(t,!1).get(e),r=await new md(n).toPromise();return r===void 0?null:r.value}function jb(t,e){const n=lm(t,!0).delete(e);return new md(n).toPromise()}const f2=800,h2=3;class P1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Oy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>h2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return O1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=om._getInstance(l2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await a2(),!this.activeServiceWorker)return;this.sender=new i2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||o2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Oy();return await Vb(e,Mh,"1"),await jb(e,Mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Vb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>d2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=lm(s,!1).getAll();return new md(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),f2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}P1.type="LOCAL";const m2=P1;new dd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t,e){return e?es(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv extends Rv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return kl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function p2(t){return A1(t.auth,new Nv(t),t.bypassAuthState)}function g2(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),FP(n,new Nv(t),t.bypassAuthState)}async function y2(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),zP(n,new Nv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return p2;case"linkViaPopup":case"linkViaRedirect":return y2;case"reauthViaPopup":case"reauthViaRedirect":return g2;default:Er(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=new dd(2e3,1e4);async function j1(t,e,n){if(_r(t.app))return Promise.reject(Nr(t,"operation-not-supported-in-this-environment"));const r=hs(t);Wk(t,e,Iv);const s=L1(r,n);return new oo(r,"signInViaPopup",e,s).executeNotNull()}class oo extends V1{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const e=Dv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,v2.get())};e()}}oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="pendingRedirect",ph=new Map;class w2 extends V1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const r=await E2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function E2(t,e){const n=S2(e),r=T2(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function b2(t,e){ph.set(t._key(),e)}function T2(t){return es(t._redirectPersistence)}function S2(t){return mh(_2,t.config.apiKey,t.name)}async function A2(t,e,n=!1){if(_r(t.app))return Promise.reject(li(t));const r=hs(t),s=L1(r,e),c=await new w2(r,s,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=10*60*1e3;class R2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!C2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!U1(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Nr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=x2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ub(e))}saveEventToCache(e){this.cachedEventUids.add(Ub(e)),this.lastProcessedEventTime=Date.now()}}function Ub(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function U1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function C2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return U1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(t,e={}){return Lr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,N2=/^https?/;async function O2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await I2(t);for(const n of e)try{if(M2(n))return}catch{}Er(t,"unauthorized-domain")}function M2(t){const e=Dy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!N2.test(n))return!1;if(D2.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=new dd(3e4,6e4);function Bb(){const t=ci().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function P2(t){return new Promise((e,n)=>{var r,s,o;function c(){Bb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bb(),n(Nr(t,"network-request-failed"))},timeout:k2.get()})}if(!((s=(r=ci().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=ci().gapi)===null||o===void 0)&&o.load)c();else{const d=wP("iframefcb");return ci()[d]=()=>{gapi.load?c():n(Nr(t,"network-request-failed"))},E1(`${_P()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw gh=null,e})}let gh=null;function L2(t){return gh=gh||P2(t),gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=new dd(5e3,15e3),j2="__/auth/iframe",U2="emulator/auth/iframe",B2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F2(t){const e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Sv(e,U2):`https://${t.config.authDomain}/${j2}`,r={apiKey:e.apiKey,appName:t.name,v:Co},s=z2.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${cd(r).slice(1)}`}async function H2(t){const e=await L2(t),n=ci().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:F2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B2,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const c=Nr(t,"network-request-failed"),d=ci().setTimeout(()=>{o(c)},V2.get());function f(){ci().clearTimeout(d),s(r)}r.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G2=500,W2=600,$2="_blank",Y2="http://localhost";class zb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K2(t,e,n,r=G2,s=W2){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},q2),{width:r.toString(),height:s.toString(),top:o,left:c}),m=Rn().toLowerCase();n&&(d=m1(m)?$2:n),f1(m)&&(e=e||Y2,f.scrollbars="yes");const y=Object.entries(f).reduce((b,[A,x])=>`${b}${A}=${x},`,"");if(uP(m)&&d!=="_self")return Q2(e||"",d),new zb(null);const v=window.open(e||"",d,y);Oe(v,t,"popup-blocked");try{v.focus()}catch{}return new zb(v)}function Q2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="__/auth/handler",Z2="emulator/auth/handler",J2=encodeURIComponent("fac");async function Fb(t,e,n,r,s,o){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Co,eventId:s};if(e instanceof Iv){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",OM(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(e instanceof hd){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const f=await t._getAppCheckToken(),m=f?`#${J2}=${encodeURIComponent(f)}`:"";return`${eL(t)}?${cd(d).slice(1)}${m}`}function eL({config:t}){return t.emulator?Sv(t,Z2):`https://${t.authDomain}/${X2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="webStorageSupport";class tL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=N1,this._completeRedirectFn=A2,this._overrideRedirectResult=b2}async _openPopup(e,n,r,s){var o;ss((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await Fb(e,n,r,Dy(),s);return K2(e,c,Dv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await Fb(e,n,r,Dy(),s);return s2(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(ss(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await H2(e),r=new R2(e);return n.register("authEvent",s=>(Oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ry,{type:ry},s=>{var o;const c=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[ry];c!==void 0&&n(!!c),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=O2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _1()||h1()||xv()}}const nL=tL;var Hb="@firebase/auth",qb="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sL(t){go(new ua("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Oe(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:w1(t)},m=new gP(r,s,o,f);return xP(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),go(new ua("auth-internal",e=>{const n=hs(e.getProvider("auth").getImmediate());return(r=>new rL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),oi(Hb,qb,iL(t)),oi(Hb,qb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=5*60,oL=XS("authIdTokenMaxAge")||aL;let Gb=null;const lL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>oL)return;const s=n==null?void 0:n.token;Gb!==s&&(Gb=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function cL(t=Ev()){const e=sm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=AP(t,{popupRedirectResolver:nL,persistence:[m2,n2,N1]}),r=XS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=lL(o.toString());XP(n,c,()=>c(n.currentUser)),QP(n,d=>c(d))}}const s=YS("auth");return s&&RP(n,`http://${s}`),n}function uL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}yP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Nr("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",uL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sL("Browser");var dL="firebase",fL="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oi(dL,fL,"app");var Wb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var co,B1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,N){function O(){}O.prototype=N.prototype,k.D=N.prototype,k.prototype=new O,k.prototype.constructor=k,k.C=function(L,z,B){for(var V=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)V[ye-2]=arguments[ye];return N.prototype[z].apply(L,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,N,O){O||(O=0);var L=Array(16);if(typeof N=="string")for(var z=0;16>z;++z)L[z]=N.charCodeAt(O++)|N.charCodeAt(O++)<<8|N.charCodeAt(O++)<<16|N.charCodeAt(O++)<<24;else for(z=0;16>z;++z)L[z]=N[O++]|N[O++]<<8|N[O++]<<16|N[O++]<<24;N=k.g[0],O=k.g[1],z=k.g[2];var B=k.g[3],V=N+(B^O&(z^B))+L[0]+3614090360&4294967295;N=O+(V<<7&4294967295|V>>>25),V=B+(z^N&(O^z))+L[1]+3905402710&4294967295,B=N+(V<<12&4294967295|V>>>20),V=z+(O^B&(N^O))+L[2]+606105819&4294967295,z=B+(V<<17&4294967295|V>>>15),V=O+(N^z&(B^N))+L[3]+3250441966&4294967295,O=z+(V<<22&4294967295|V>>>10),V=N+(B^O&(z^B))+L[4]+4118548399&4294967295,N=O+(V<<7&4294967295|V>>>25),V=B+(z^N&(O^z))+L[5]+1200080426&4294967295,B=N+(V<<12&4294967295|V>>>20),V=z+(O^B&(N^O))+L[6]+2821735955&4294967295,z=B+(V<<17&4294967295|V>>>15),V=O+(N^z&(B^N))+L[7]+4249261313&4294967295,O=z+(V<<22&4294967295|V>>>10),V=N+(B^O&(z^B))+L[8]+1770035416&4294967295,N=O+(V<<7&4294967295|V>>>25),V=B+(z^N&(O^z))+L[9]+2336552879&4294967295,B=N+(V<<12&4294967295|V>>>20),V=z+(O^B&(N^O))+L[10]+4294925233&4294967295,z=B+(V<<17&4294967295|V>>>15),V=O+(N^z&(B^N))+L[11]+2304563134&4294967295,O=z+(V<<22&4294967295|V>>>10),V=N+(B^O&(z^B))+L[12]+1804603682&4294967295,N=O+(V<<7&4294967295|V>>>25),V=B+(z^N&(O^z))+L[13]+4254626195&4294967295,B=N+(V<<12&4294967295|V>>>20),V=z+(O^B&(N^O))+L[14]+2792965006&4294967295,z=B+(V<<17&4294967295|V>>>15),V=O+(N^z&(B^N))+L[15]+1236535329&4294967295,O=z+(V<<22&4294967295|V>>>10),V=N+(z^B&(O^z))+L[1]+4129170786&4294967295,N=O+(V<<5&4294967295|V>>>27),V=B+(O^z&(N^O))+L[6]+3225465664&4294967295,B=N+(V<<9&4294967295|V>>>23),V=z+(N^O&(B^N))+L[11]+643717713&4294967295,z=B+(V<<14&4294967295|V>>>18),V=O+(B^N&(z^B))+L[0]+3921069994&4294967295,O=z+(V<<20&4294967295|V>>>12),V=N+(z^B&(O^z))+L[5]+3593408605&4294967295,N=O+(V<<5&4294967295|V>>>27),V=B+(O^z&(N^O))+L[10]+38016083&4294967295,B=N+(V<<9&4294967295|V>>>23),V=z+(N^O&(B^N))+L[15]+3634488961&4294967295,z=B+(V<<14&4294967295|V>>>18),V=O+(B^N&(z^B))+L[4]+3889429448&4294967295,O=z+(V<<20&4294967295|V>>>12),V=N+(z^B&(O^z))+L[9]+568446438&4294967295,N=O+(V<<5&4294967295|V>>>27),V=B+(O^z&(N^O))+L[14]+3275163606&4294967295,B=N+(V<<9&4294967295|V>>>23),V=z+(N^O&(B^N))+L[3]+4107603335&4294967295,z=B+(V<<14&4294967295|V>>>18),V=O+(B^N&(z^B))+L[8]+1163531501&4294967295,O=z+(V<<20&4294967295|V>>>12),V=N+(z^B&(O^z))+L[13]+2850285829&4294967295,N=O+(V<<5&4294967295|V>>>27),V=B+(O^z&(N^O))+L[2]+4243563512&4294967295,B=N+(V<<9&4294967295|V>>>23),V=z+(N^O&(B^N))+L[7]+1735328473&4294967295,z=B+(V<<14&4294967295|V>>>18),V=O+(B^N&(z^B))+L[12]+2368359562&4294967295,O=z+(V<<20&4294967295|V>>>12),V=N+(O^z^B)+L[5]+4294588738&4294967295,N=O+(V<<4&4294967295|V>>>28),V=B+(N^O^z)+L[8]+2272392833&4294967295,B=N+(V<<11&4294967295|V>>>21),V=z+(B^N^O)+L[11]+1839030562&4294967295,z=B+(V<<16&4294967295|V>>>16),V=O+(z^B^N)+L[14]+4259657740&4294967295,O=z+(V<<23&4294967295|V>>>9),V=N+(O^z^B)+L[1]+2763975236&4294967295,N=O+(V<<4&4294967295|V>>>28),V=B+(N^O^z)+L[4]+1272893353&4294967295,B=N+(V<<11&4294967295|V>>>21),V=z+(B^N^O)+L[7]+4139469664&4294967295,z=B+(V<<16&4294967295|V>>>16),V=O+(z^B^N)+L[10]+3200236656&4294967295,O=z+(V<<23&4294967295|V>>>9),V=N+(O^z^B)+L[13]+681279174&4294967295,N=O+(V<<4&4294967295|V>>>28),V=B+(N^O^z)+L[0]+3936430074&4294967295,B=N+(V<<11&4294967295|V>>>21),V=z+(B^N^O)+L[3]+3572445317&4294967295,z=B+(V<<16&4294967295|V>>>16),V=O+(z^B^N)+L[6]+76029189&4294967295,O=z+(V<<23&4294967295|V>>>9),V=N+(O^z^B)+L[9]+3654602809&4294967295,N=O+(V<<4&4294967295|V>>>28),V=B+(N^O^z)+L[12]+3873151461&4294967295,B=N+(V<<11&4294967295|V>>>21),V=z+(B^N^O)+L[15]+530742520&4294967295,z=B+(V<<16&4294967295|V>>>16),V=O+(z^B^N)+L[2]+3299628645&4294967295,O=z+(V<<23&4294967295|V>>>9),V=N+(z^(O|~B))+L[0]+4096336452&4294967295,N=O+(V<<6&4294967295|V>>>26),V=B+(O^(N|~z))+L[7]+1126891415&4294967295,B=N+(V<<10&4294967295|V>>>22),V=z+(N^(B|~O))+L[14]+2878612391&4294967295,z=B+(V<<15&4294967295|V>>>17),V=O+(B^(z|~N))+L[5]+4237533241&4294967295,O=z+(V<<21&4294967295|V>>>11),V=N+(z^(O|~B))+L[12]+1700485571&4294967295,N=O+(V<<6&4294967295|V>>>26),V=B+(O^(N|~z))+L[3]+2399980690&4294967295,B=N+(V<<10&4294967295|V>>>22),V=z+(N^(B|~O))+L[10]+4293915773&4294967295,z=B+(V<<15&4294967295|V>>>17),V=O+(B^(z|~N))+L[1]+2240044497&4294967295,O=z+(V<<21&4294967295|V>>>11),V=N+(z^(O|~B))+L[8]+1873313359&4294967295,N=O+(V<<6&4294967295|V>>>26),V=B+(O^(N|~z))+L[15]+4264355552&4294967295,B=N+(V<<10&4294967295|V>>>22),V=z+(N^(B|~O))+L[6]+2734768916&4294967295,z=B+(V<<15&4294967295|V>>>17),V=O+(B^(z|~N))+L[13]+1309151649&4294967295,O=z+(V<<21&4294967295|V>>>11),V=N+(z^(O|~B))+L[4]+4149444226&4294967295,N=O+(V<<6&4294967295|V>>>26),V=B+(O^(N|~z))+L[11]+3174756917&4294967295,B=N+(V<<10&4294967295|V>>>22),V=z+(N^(B|~O))+L[2]+718787259&4294967295,z=B+(V<<15&4294967295|V>>>17),V=O+(B^(z|~N))+L[9]+3951481745&4294967295,k.g[0]=k.g[0]+N&4294967295,k.g[1]=k.g[1]+(z+(V<<21&4294967295|V>>>11))&4294967295,k.g[2]=k.g[2]+z&4294967295,k.g[3]=k.g[3]+B&4294967295}r.prototype.u=function(k,N){N===void 0&&(N=k.length);for(var O=N-this.blockSize,L=this.B,z=this.h,B=0;B<N;){if(z==0)for(;B<=O;)s(this,k,B),B+=this.blockSize;if(typeof k=="string"){for(;B<N;)if(L[z++]=k.charCodeAt(B++),z==this.blockSize){s(this,L),z=0;break}}else for(;B<N;)if(L[z++]=k[B++],z==this.blockSize){s(this,L),z=0;break}}this.h=z,this.o+=N},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var N=1;N<k.length-8;++N)k[N]=0;var O=8*this.o;for(N=k.length-8;N<k.length;++N)k[N]=O&255,O/=256;for(this.u(k),k=Array(16),N=O=0;4>N;++N)for(var L=0;32>L;L+=8)k[O++]=this.g[N]>>>L&255;return k};function o(k,N){var O=d;return Object.prototype.hasOwnProperty.call(O,k)?O[k]:O[k]=N(k)}function c(k,N){this.h=N;for(var O=[],L=!0,z=k.length-1;0<=z;z--){var B=k[z]|0;L&&B==N||(O[z]=B,L=!1)}this.g=O}var d={};function f(k){return-128<=k&&128>k?o(k,function(N){return new c([N|0],0>N?-1:0)}):new c([k|0],0>k?-1:0)}function m(k){if(isNaN(k)||!isFinite(k))return v;if(0>k)return C(m(-k));for(var N=[],O=1,L=0;k>=O;L++)N[L]=k/O|0,O*=4294967296;return new c(N,0)}function y(k,N){if(k.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(k.charAt(0)=="-")return C(y(k.substring(1),N));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=m(Math.pow(N,8)),L=v,z=0;z<k.length;z+=8){var B=Math.min(8,k.length-z),V=parseInt(k.substring(z,z+B),N);8>B?(B=m(Math.pow(N,B)),L=L.j(B).add(m(V))):(L=L.j(O),L=L.add(m(V)))}return L}var v=f(0),b=f(1),A=f(16777216);t=c.prototype,t.m=function(){if(R(this))return-C(this).m();for(var k=0,N=1,O=0;O<this.g.length;O++){var L=this.i(O);k+=(0<=L?L:4294967296+L)*N,N*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(x(this))return"0";if(R(this))return"-"+C(this).toString(k);for(var N=m(Math.pow(k,6)),O=this,L="";;){var z=H(O,N).g;O=I(O,z.j(N));var B=((0<O.g.length?O.g[0]:O.h)>>>0).toString(k);if(O=z,x(O))return B+L;for(;6>B.length;)B="0"+B;L=B+L}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function x(k){if(k.h!=0)return!1;for(var N=0;N<k.g.length;N++)if(k.g[N]!=0)return!1;return!0}function R(k){return k.h==-1}t.l=function(k){return k=I(this,k),R(k)?-1:x(k)?0:1};function C(k){for(var N=k.g.length,O=[],L=0;L<N;L++)O[L]=~k.g[L];return new c(O,~k.h).add(b)}t.abs=function(){return R(this)?C(this):this},t.add=function(k){for(var N=Math.max(this.g.length,k.g.length),O=[],L=0,z=0;z<=N;z++){var B=L+(this.i(z)&65535)+(k.i(z)&65535),V=(B>>>16)+(this.i(z)>>>16)+(k.i(z)>>>16);L=V>>>16,B&=65535,V&=65535,O[z]=V<<16|B}return new c(O,O[O.length-1]&-2147483648?-1:0)};function I(k,N){return k.add(C(N))}t.j=function(k){if(x(this)||x(k))return v;if(R(this))return R(k)?C(this).j(C(k)):C(C(this).j(k));if(R(k))return C(this.j(C(k)));if(0>this.l(A)&&0>k.l(A))return m(this.m()*k.m());for(var N=this.g.length+k.g.length,O=[],L=0;L<2*N;L++)O[L]=0;for(L=0;L<this.g.length;L++)for(var z=0;z<k.g.length;z++){var B=this.i(L)>>>16,V=this.i(L)&65535,ye=k.i(z)>>>16,Ae=k.i(z)&65535;O[2*L+2*z]+=V*Ae,D(O,2*L+2*z),O[2*L+2*z+1]+=B*Ae,D(O,2*L+2*z+1),O[2*L+2*z+1]+=V*ye,D(O,2*L+2*z+1),O[2*L+2*z+2]+=B*ye,D(O,2*L+2*z+2)}for(L=0;L<N;L++)O[L]=O[2*L+1]<<16|O[2*L];for(L=N;L<2*N;L++)O[L]=0;return new c(O,0)};function D(k,N){for(;(k[N]&65535)!=k[N];)k[N+1]+=k[N]>>>16,k[N]&=65535,N++}function j(k,N){this.g=k,this.h=N}function H(k,N){if(x(N))throw Error("division by zero");if(x(k))return new j(v,v);if(R(k))return N=H(C(k),N),new j(C(N.g),C(N.h));if(R(N))return N=H(k,C(N)),new j(C(N.g),N.h);if(30<k.g.length){if(R(k)||R(N))throw Error("slowDivide_ only works with positive integers.");for(var O=b,L=N;0>=L.l(k);)O=$(O),L=$(L);var z=Z(O,1),B=Z(L,1);for(L=Z(L,2),O=Z(O,2);!x(L);){var V=B.add(L);0>=V.l(k)&&(z=z.add(O),B=V),L=Z(L,1),O=Z(O,1)}return N=I(k,z.j(N)),new j(z,N)}for(z=v;0<=k.l(N);){for(O=Math.max(1,Math.floor(k.m()/N.m())),L=Math.ceil(Math.log(O)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),B=m(O),V=B.j(N);R(V)||0<V.l(k);)O-=L,B=m(O),V=B.j(N);x(B)&&(B=b),z=z.add(B),k=I(k,V)}return new j(z,k)}t.A=function(k){return H(this,k).h},t.and=function(k){for(var N=Math.max(this.g.length,k.g.length),O=[],L=0;L<N;L++)O[L]=this.i(L)&k.i(L);return new c(O,this.h&k.h)},t.or=function(k){for(var N=Math.max(this.g.length,k.g.length),O=[],L=0;L<N;L++)O[L]=this.i(L)|k.i(L);return new c(O,this.h|k.h)},t.xor=function(k){for(var N=Math.max(this.g.length,k.g.length),O=[],L=0;L<N;L++)O[L]=this.i(L)^k.i(L);return new c(O,this.h^k.h)};function $(k){for(var N=k.g.length+1,O=[],L=0;L<N;L++)O[L]=k.i(L)<<1|k.i(L-1)>>>31;return new c(O,k.h)}function Z(k,N){var O=N>>5;N%=32;for(var L=k.g.length-O,z=[],B=0;B<L;B++)z[B]=0<N?k.i(B+O)>>>N|k.i(B+O+1)<<32-N:k.i(B+O);return new c(z,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,B1=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,co=c}).apply(typeof Wb<"u"?Wb:typeof self<"u"?self:typeof window<"u"?window:{});var Zf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var z1,Ru,F1,yh,My,H1,q1,G1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,w,T){return h==Array.prototype||h==Object.prototype||(h[w]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zf=="object"&&Zf];for(var w=0;w<h.length;++w){var T=h[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(h,w){if(w)e:{var T=r;h=h.split(".");for(var P=0;P<h.length-1;P++){var Y=h[P];if(!(Y in T))break e;T=T[Y]}h=h[h.length-1],P=T[h],w=w(P),w!=P&&w!=null&&e(T,h,{configurable:!0,writable:!0,value:w})}}function o(h,w){h instanceof String&&(h+="");var T=0,P=!1,Y={next:function(){if(!P&&T<h.length){var X=T++;return{value:w(X,h[X]),done:!1}}return P=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}s("Array.prototype.values",function(h){return h||function(){return o(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function f(h){var w=typeof h;return w=w!="object"?w:h?Array.isArray(h)?"array":w:"null",w=="array"||w=="object"&&typeof h.length=="number"}function m(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function y(h,w,T){return h.call.apply(h.bind,arguments)}function v(h,w,T){if(!h)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,P),h.apply(w,Y)}}return function(){return h.apply(w,arguments)}}function b(h,w,T){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:v,b.apply(null,arguments)}function A(h,w){var T=Array.prototype.slice.call(arguments,1);return function(){var P=T.slice();return P.push.apply(P,arguments),h.apply(this,P)}}function x(h,w){function T(){}T.prototype=w.prototype,h.aa=w.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(P,Y,X){for(var ue=Array(arguments.length-2),et=2;et<arguments.length;et++)ue[et-2]=arguments[et];return w.prototype[Y].apply(P,ue)}}function R(h){const w=h.length;if(0<w){const T=Array(w);for(let P=0;P<w;P++)T[P]=h[P];return T}return[]}function C(h,w){for(let T=1;T<arguments.length;T++){const P=arguments[T];if(f(P)){const Y=h.length||0,X=P.length||0;h.length=Y+X;for(let ue=0;ue<X;ue++)h[Y+ue]=P[ue]}else h.push(P)}}class I{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function D(h){return/^[\s\xa0]*$/.test(h)}function j(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function H(h){return H[" "](h),h}H[" "]=function(){};var $=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function Z(h,w,T){for(const P in h)w.call(T,h[P],P,h)}function k(h,w){for(const T in h)w.call(void 0,h[T],T,h)}function N(h){const w={};for(const T in h)w[T]=h[T];return w}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,w){let T,P;for(let Y=1;Y<arguments.length;Y++){P=arguments[Y];for(T in P)h[T]=P[T];for(let X=0;X<O.length;X++)T=O[X],Object.prototype.hasOwnProperty.call(P,T)&&(h[T]=P[T])}}function z(h){var w=1;h=h.split(":");const T=[];for(;0<w&&h.length;)T.push(h.shift()),w--;return h.length&&T.push(h.join(":")),T}function B(h){d.setTimeout(()=>{throw h},0)}function V(){var h=ae;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class ye{constructor(){this.h=this.g=null}add(w,T){const P=Ae.get();P.set(w,T),this.h?this.h.next=P:this.g=P,this.h=P}}var Ae=new I(()=>new J,h=>h.reset());class J{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ie=!1,ae=new ye,F=()=>{const h=d.Promise.resolve(void 0);ce=()=>{h.then(ee)}};var ee=()=>{for(var h;h=V();){try{h.h.call(h.g)}catch(T){B(T)}var w=Ae;w.j(h),100>w.h&&(w.h++,h.next=w.g,w.g=h)}ie=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};d.addEventListener("test",T,w),d.removeEventListener("test",T,w)}catch{}return h}();function Ce(h,w){if(fe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,P=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget){if($){e:{try{H(w.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(w=null)}}else T=="mouseover"?w=h.fromElement:T=="mouseout"&&(w=h.toElement);this.relatedTarget=w,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Te[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ce.aa.h.call(this)}}x(Ce,fe);var Te={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),_e=0;function Ie(h,w,T,P,Y){this.listener=h,this.proxy=null,this.src=w,this.type=T,this.capture=!!P,this.ha=Y,this.key=++_e,this.da=this.fa=!1}function be(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ke(h){this.src=h,this.g={},this.h=0}ke.prototype.add=function(h,w,T,P,Y){var X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);var ue=ft(h,w,P,Y);return-1<ue?(w=h[ue],T||(w.fa=!1)):(w=new Ie(w,this.src,X,!!P,Y),w.fa=T,h.push(w)),w};function He(h,w){var T=w.type;if(T in h.g){var P=h.g[T],Y=Array.prototype.indexOf.call(P,w,void 0),X;(X=0<=Y)&&Array.prototype.splice.call(P,Y,1),X&&(be(w),h.g[T].length==0&&(delete h.g[T],h.h--))}}function ft(h,w,T,P){for(var Y=0;Y<h.length;++Y){var X=h[Y];if(!X.da&&X.listener==w&&X.capture==!!T&&X.ha==P)return Y}return-1}var Vt="closure_lm_"+(1e6*Math.random()|0),_n={};function un(h,w,T,P,Y){if(Array.isArray(w)){for(var X=0;X<w.length;X++)un(h,w[X],T,P,Y);return null}return T=Po(T),h&&h[me]?h.K(w,T,m(P)?!!P.capture:!!P,Y):Pn(h,w,T,!1,P,Y)}function Pn(h,w,T,P,Y,X){if(!w)throw Error("Invalid event type");var ue=m(Y)?!!Y.capture:!!Y,et=Ra(h);if(et||(h[Vt]=et=new ke(h)),T=et.add(w,T,P,ue,X),T.proxy)return T;if(P=Ur(),T.proxy=P,P.src=h,P.listener=T,h.addEventListener)de||(Y=ue),Y===void 0&&(Y=!1),h.addEventListener(w.toString(),P,Y);else if(h.attachEvent)h.attachEvent(ps(w.toString()),P);else if(h.addListener&&h.removeListener)h.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ur(){function h(T){return w.call(h.src,h.listener,T)}const w=yc;return h}function Fn(h,w,T,P,Y){if(Array.isArray(w))for(var X=0;X<w.length;X++)Fn(h,w[X],T,P,Y);else P=m(P)?!!P.capture:!!P,T=Po(T),h&&h[me]?(h=h.i,w=String(w).toString(),w in h.g&&(X=h.g[w],T=ft(X,T,P,Y),-1<T&&(be(X[T]),Array.prototype.splice.call(X,T,1),X.length==0&&(delete h.g[w],h.h--)))):h&&(h=Ra(h))&&(w=h.g[w.toString()],h=-1,w&&(h=ft(w,T,P,Y)),(T=-1<h?w[h]:null)&&Ai(T))}function Ai(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[me])He(w.i,h);else{var T=h.type,P=h.proxy;w.removeEventListener?w.removeEventListener(T,P,h.capture):w.detachEvent?w.detachEvent(ps(T),P):w.addListener&&w.removeListener&&w.removeListener(P),(T=Ra(w))?(He(T,h),T.h==0&&(T.src=null,w[Vt]=null)):be(h)}}}function ps(h){return h in _n?_n[h]:_n[h]="on"+h}function yc(h,w){if(h.da)h=!0;else{w=new Ce(w,this);var T=h.listener,P=h.ha||h.src;h.fa&&Ai(h),h=T.call(P,w)}return h}function Ra(h){return h=h[Vt],h instanceof ke?h:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Po(h){return typeof h=="function"?h:(h[wn]||(h[wn]=function(w){return h.handleEvent(w)}),h[wn])}function jt(){he.call(this),this.i=new ke(this),this.M=this,this.F=null}x(jt,he),jt.prototype[me]=!0,jt.prototype.removeEventListener=function(h,w,T,P){Fn(this,h,w,T,P)};function Ft(h,w){var T,P=h.F;if(P)for(T=[];P;P=P.F)T.push(P);if(h=h.M,P=w.type||w,typeof w=="string")w=new fe(w,h);else if(w instanceof fe)w.target=w.target||h;else{var Y=w;w=new fe(P,h),L(w,Y)}if(Y=!0,T)for(var X=T.length-1;0<=X;X--){var ue=w.g=T[X];Y=br(ue,P,!0,w)&&Y}if(ue=w.g=h,Y=br(ue,P,!0,w)&&Y,Y=br(ue,P,!1,w)&&Y,T)for(X=0;X<T.length;X++)ue=w.g=T[X],Y=br(ue,P,!1,w)&&Y}jt.prototype.N=function(){if(jt.aa.N.call(this),this.i){var h=this.i,w;for(w in h.g){for(var T=h.g[w],P=0;P<T.length;P++)be(T[P]);delete h.g[w],h.h--}}this.F=null},jt.prototype.K=function(h,w,T,P){return this.i.add(String(h),w,!1,T,P)},jt.prototype.L=function(h,w,T,P){return this.i.add(String(h),w,!0,T,P)};function br(h,w,T,P){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();for(var Y=!0,X=0;X<w.length;++X){var ue=w[X];if(ue&&!ue.da&&ue.capture==T){var et=ue.listener,Qt=ue.ha||ue.src;ue.fa&&He(h.i,ue),Y=et.call(Qt,P)!==!1&&Y}}return Y&&!P.defaultPrevented}function Lo(h,w,T){if(typeof h=="function")T&&(h=b(h,T));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:d.setTimeout(h,w||0)}function Ca(h){h.g=Lo(()=>{h.g=null,h.i&&(h.i=!1,Ca(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class vc extends he{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Ca(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ue(h){he.call(this),this.h=h,this.g={}}x(Ue,he);var ot=[];function je(h){Z(h.g,function(w,T){this.g.hasOwnProperty(T)&&Ai(w)},h),h.g={}}Ue.prototype.N=function(){Ue.aa.N.call(this),je(this)},Ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=d.JSON.stringify,Dt=d.JSON.parse,Ht=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Nt(){}Nt.prototype.h=null;function Cn(h){return h.h||(h.h=h.i())}function Xe(){}var nr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Br(){fe.call(this,"d")}x(Br,fe);function Hn(){fe.call(this,"c")}x(Hn,fe);var En={},rr=null;function Vo(){return rr=rr||new jt}En.La="serverreachability";function _c(h){fe.call(this,En.La,h)}x(_c,fe);function gs(h){const w=Vo();Ft(w,new _c(w))}En.STAT_EVENT="statevent";function jo(h,w){fe.call(this,En.STAT_EVENT,h),this.stat=w}x(jo,fe);function Ut(h){const w=Vo();Ft(w,new jo(w,h))}En.Ma="timingevent";function Od(h,w){fe.call(this,En.Ma,h),this.size=w}x(Od,fe);function ys(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},w)}function vs(){this.g=!0}vs.prototype.xa=function(){this.g=!1};function Md(h,w,T,P,Y,X){h.info(function(){if(h.g)if(X)for(var ue="",et=X.split("&"),Qt=0;Qt<et.length;Qt++){var tt=et[Qt].split("=");if(1<tt.length){var rn=tt[0];tt=tt[1];var Xt=rn.split("_");ue=2<=Xt.length&&Xt[1]=="type"?ue+(rn+"="+tt+"&"):ue+(rn+"=redacted&")}}else ue=null;else ue=X;return"XMLHTTP REQ ("+P+") [attempt "+Y+"]: "+w+`
`+T+`
`+ue})}function kd(h,w,T,P,Y,X,ue){h.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+Y+"]: "+w+`
`+T+`
`+X+" "+ue})}function _s(h,w,T,P){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+tn(h,T)+(P?" "+P:"")})}function zr(h,w){h.info(function(){return"TIMEOUT: "+w})}vs.prototype.info=function(){};function tn(h,w){if(!h.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var P=T[h];if(!(2>P.length)){var Y=P[1];if(Array.isArray(Y)&&!(1>Y.length)){var X=Y[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ue=1;ue<Y.length;ue++)Y[ue]=""}}}}return Ln(T)}catch{return w}}var Kt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ia;function Uo(){}x(Uo,Nt),Uo.prototype.g=function(){return new XMLHttpRequest},Uo.prototype.i=function(){return{}},Ia=new Uo;function Fr(h,w,T,P){this.j=h,this.i=w,this.l=T,this.R=P||1,this.U=new Ue(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wc}function wc(){this.i=null,this.g="",this.h=!1}var ws={},Da={};function Tr(h,w,T){h.L=1,h.v=Ma(Ot(w)),h.m=T,h.P=!0,Ri(h,null)}function Ri(h,w){h.F=Date.now(),St(h),h.A=Ot(h.v);var T=h.A,P=h.R;Array.isArray(P)||(P=[String(P)]),Di(T.i,"t",P),h.C=0,T=h.j.J,h.h=new wc,h.g=Yd(h.j,T?w:null,!h.m),0<h.O&&(h.M=new vc(b(h.Y,h,h.g),h.O)),w=h.U,T=h.g,P=h.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(ot[0]=Y.toString()),Y=ot);for(var X=0;X<Y.length;X++){var ue=un(T,Y[X],P||w.handleEvent,!1,w.h||w);if(!ue)break;w.g[ue.key]=ue}w=h.H?N(h.H):{},h.m?(h.u||(h.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,w)):(h.u="GET",h.g.ea(h.A,h.u,null,w)),gs(),Md(h.i,h.u,h.A,h.l,h.R,h.m)}Fr.prototype.ca=function(h){h=h.target;const w=this.M;w&&lr(h)==3?w.j():this.Y(h)},Fr.prototype.Y=function(h){try{if(h==this.g)e:{const Xt=lr(this.g);var w=this.g.Ba();const ki=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||Bd(this.g)))){this.J||Xt!=4||w==7||(w==8||0>=ki?gs(3):gs(2)),Bo(this);var T=this.g.Z();this.X=T;t:if(Es(this)){var P=Bd(this.g);h="";var Y=P.length,X=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vn(this),qn(this);var ue="";break t}this.h.i=new d.TextDecoder}for(w=0;w<Y;w++)this.h.h=!0,h+=this.h.i.decode(P[w],{stream:!(X&&w==Y-1)});P.length=0,this.h.g+=h,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=T==200,kd(this.i,this.u,this.A,this.l,this.R,Xt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var et,Qt=this.g;if((et=Qt.g?Qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(et)){var tt=et;break t}}tt=null}if(T=tt)_s(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gn(this,T);else{this.o=!1,this.s=3,Ut(12),Vn(this),qn(this);break e}}if(this.P){T=!0;let dn;for(;!this.J&&this.C<ue.length;)if(dn=bs(this,ue),dn==Da){Xt==4&&(this.s=4,Ut(14),T=!1),_s(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==ws){this.s=4,Ut(15),_s(this.i,this.l,ue,"[Invalid Chunk]"),T=!1;break}else _s(this.i,this.l,dn,null),Gn(this,dn);if(Es(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||ue.length!=0||this.h.h||(this.s=1,Ut(16),T=!1),this.o=this.o&&T,!T)_s(this.i,this.l,ue,"[Invalid Chunked Response]"),Vn(this),qn(this);else if(0<ue.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Ba(rn),rn.M=!0,Ut(11))}}else _s(this.i,this.l,ue,null),Gn(this,ue);Xt==4&&Vn(this),this.o&&!this.J&&(Xt==4?Gd(this.j,this):(this.o=!1,St(this)))}else Zm(this.g),T==400&&0<ue.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),Vn(this),qn(this)}}}catch{}finally{}};function Es(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function bs(h,w){var T=h.C,P=w.indexOf(`
`,T);return P==-1?Da:(T=Number(w.substring(T,P)),isNaN(T)?ws:(P+=1,P+T>w.length?Da:(w=w.slice(P,P+T),h.C=P+T,w)))}Fr.prototype.cancel=function(){this.J=!0,Vn(this)};function St(h){h.S=Date.now()+h.I,Ec(h,h.I)}function Ec(h,w){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ys(b(h.ba,h),w)}function Bo(h){h.B&&(d.clearTimeout(h.B),h.B=null)}Fr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(zr(this.i,this.A),this.L!=2&&(gs(),Ut(17)),Vn(this),this.s=2,qn(this)):Ec(this,this.S-h)};function qn(h){h.j.G==0||h.J||Gd(h.j,h)}function Vn(h){Bo(h);var w=h.M;w&&typeof w.ma=="function"&&w.ma(),h.M=null,je(h.U),h.g&&(w=h.g,h.g=null,w.abort(),w.ma())}function Gn(h,w){try{var T=h.j;if(T.G!=0&&(T.g==h||Ts(T.h,h))){if(!h.K&&Ts(T.h,h)&&T.G==3){try{var P=T.Da.g.parse(w)}catch{P=null}if(Array.isArray(P)&&P.length==3){var Y=P;if(Y[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)Qo(T),Yo(T);else break e;Oc(T),Ut(18)}}else T.za=Y[1],0<T.za-T.T&&37500>Y[2]&&T.F&&T.v==0&&!T.C&&(T.C=ys(b(T.Za,T),6e3));if(1>=Pd(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Mi(T,11)}else if((h.K||T.g==h)&&Qo(T),!D(w))for(Y=T.Da.g.parse(w),w=0;w<Y.length;w++){let tt=Y[w];if(T.T=tt[0],tt=tt[1],T.G==2)if(tt[0]=="c"){T.K=tt[1],T.ia=tt[2];const rn=tt[3];rn!=null&&(T.la=rn,T.j.info("VER="+T.la));const Xt=tt[4];Xt!=null&&(T.Aa=Xt,T.j.info("SVER="+T.Aa));const ki=tt[5];ki!=null&&typeof ki=="number"&&0<ki&&(P=1.5*ki,T.L=P,T.j.info("backChannelRequestTimeoutMs_="+P)),P=T;const dn=h.g;if(dn){const Kr=dn.g?dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kr){var X=P.h;X.g||Kr.indexOf("spdy")==-1&&Kr.indexOf("quic")==-1&&Kr.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ss(X,X.h),X.h=null))}if(P.D){const kc=dn.g?dn.g.getResponseHeader("X-HTTP-Session-Id"):null;kc&&(P.ya=kc,it(P.I,P.D,kc))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),P=T;var ue=h;if(P.qa=$d(P,P.J?P.ia:null,P.W),ue.K){ir(P.h,ue);var et=ue,Qt=P.L;Qt&&(et.I=Qt),et.B&&(Bo(et),St(et)),P.g=ue}else Hd(P);0<T.i.length&&Ko(T)}else tt[0]!="stop"&&tt[0]!="close"||Mi(T,7);else T.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Mi(T,7):Dc(T):tt[0]!="noop"&&T.l&&T.l.ta(tt),T.v=0)}}gs(4)}catch{}}var $m=class{constructor(h,w){this.g=h,this.map=w}};function bc(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tc(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Pd(h){return h.h?1:h.g?h.g.size:0}function Ts(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function Ss(h,w){h.g?h.g.add(w):h.h=w}function ir(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}bc.prototype.cancel=function(){if(this.i=In(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function In(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const T of h.g.values())w=w.concat(T.D);return w}return R(h.i)}function Ld(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(f(h)){for(var w=[],T=h.length,P=0;P<T;P++)w.push(h[P]);return w}w=[],T=0;for(P in h)w[T++]=h[P];return w}function Ym(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(f(h)||typeof h=="string"){var w=[];h=h.length;for(var T=0;T<h;T++)w.push(T);return w}w=[],T=0;for(const P in h)w[T++]=P;return w}}}function Na(h,w){if(h.forEach&&typeof h.forEach=="function")h.forEach(w,void 0);else if(f(h)||typeof h=="string")Array.prototype.forEach.call(h,w,void 0);else for(var T=Ym(h),P=Ld(h),Y=P.length,X=0;X<Y;X++)w.call(void 0,P[X],T&&T[X],h)}var Sc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zo(h,w){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var P=h[T].indexOf("="),Y=null;if(0<=P){var X=h[T].substring(0,P);Y=h[T].substring(P+1)}else X=h[T];w(X,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Ci(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ci){this.h=h.h,As(this,h.j),this.o=h.o,this.g=h.g,Oa(this,h.s),this.l=h.l;var w=h.i,T=new Hr;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),Fo(this,T),this.m=h.m}else h&&(w=String(h).match(Sc))?(this.h=!1,As(this,w[1]||"",!0),this.o=xs(w[2]||""),this.g=xs(w[3]||"",!0),Oa(this,w[4]),this.l=xs(w[5]||"",!0),Fo(this,w[6]||"",!0),this.m=xs(w[7]||"")):(this.h=!1,this.i=new Hr(null,this.h))}Ci.prototype.toString=function(){var h=[],w=this.j;w&&h.push(sr(w,Ac,!0),":");var T=this.g;return(T||w=="file")&&(h.push("//"),(w=this.o)&&h.push(sr(w,Ac,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(sr(T,T.charAt(0)=="/"?xc:Vd,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",sr(T,Xm)),h.join("")};function Ot(h){return new Ci(h)}function As(h,w,T){h.j=T?xs(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function Oa(h,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);h.s=w}else h.s=null}function Fo(h,w,T){w instanceof Hr?(h.i=w,Rc(h.i,h.h)):(T||(w=sr(w,Qm)),h.i=new Hr(w,h.h))}function it(h,w,T){h.i.set(w,T)}function Ma(h){return it(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function xs(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function sr(h,w,T){return typeof h=="string"?(h=encodeURI(h).replace(w,Km),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Km(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ac=/[#\/\?@]/g,Vd=/[#\?:]/g,xc=/[#\?]/g,Qm=/[#\?@]/g,Xm=/#/g;function Hr(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function ar(h){h.g||(h.g=new Map,h.h=0,h.i&&zo(h.i,function(w,T){h.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}t=Hr.prototype,t.add=function(h,w){ar(this),this.i=null,h=Ni(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(w),this.h+=1,this};function Ho(h,w){ar(h),w=Ni(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function Ii(h,w){return ar(h),w=Ni(h,w),h.g.has(w)}t.forEach=function(h,w){ar(this),this.g.forEach(function(T,P){T.forEach(function(Y){h.call(w,Y,P,this)},this)},this)},t.na=function(){ar(this);const h=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let P=0;P<w.length;P++){const Y=h[P];for(let X=0;X<Y.length;X++)T.push(w[P])}return T},t.V=function(h){ar(this);let w=[];if(typeof h=="string")Ii(this,h)&&(w=w.concat(this.g.get(Ni(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)w=w.concat(h[T])}return w},t.set=function(h,w){return ar(this),this.i=null,h=Ni(this,h),Ii(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},t.get=function(h,w){return h?(h=this.V(h),0<h.length?String(h[0]):w):w};function Di(h,w,T){Ho(h,w),0<T.length&&(h.i=null,h.g.set(Ni(h,w),R(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var P=w[T];const X=encodeURIComponent(String(P)),ue=this.V(P);for(P=0;P<ue.length;P++){var Y=X;ue[P]!==""&&(Y+="="+encodeURIComponent(String(ue[P]))),h.push(Y)}}return this.i=h.join("&")};function Ni(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function Rc(h,w){w&&!h.j&&(ar(h),h.i=null,h.g.forEach(function(T,P){var Y=P.toLowerCase();P!=Y&&(Ho(this,P),Di(this,Y,T))},h)),h.j=w}function jd(h,w){const T=new vs;if(d.Image){const P=new Image;P.onload=A(or,T,"TestLoadImage: loaded",!0,w,P),P.onerror=A(or,T,"TestLoadImage: error",!1,w,P),P.onabort=A(or,T,"TestLoadImage: abort",!1,w,P),P.ontimeout=A(or,T,"TestLoadImage: timeout",!1,w,P),d.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=h}else w(!1)}function ka(h,w){const T=new vs,P=new AbortController,Y=setTimeout(()=>{P.abort(),or(T,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:P.signal}).then(X=>{clearTimeout(Y),X.ok?or(T,"TestPingServer: ok",!0,w):or(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Y),or(T,"TestPingServer: error",!1,w)})}function or(h,w,T,P,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),P(T)}catch{}}function Pa(){this.g=new Ht}function qr(h,w,T){const P=T||"";try{Na(h,function(Y,X){let ue=Y;m(Y)&&(ue=Ln(Y)),w.push(P+X+"="+encodeURIComponent(ue))})}catch(Y){throw w.push(P+"type="+encodeURIComponent("_badmap")),Y}}function Rs(h){this.l=h.Ub||null,this.j=h.eb||!1}x(Rs,Nt),Rs.prototype.g=function(){return new Oi(this.l,this.j)},Rs.prototype.i=function(h){return function(){return h}}({});function Oi(h,w){jt.call(this),this.D=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Oi,jt),t=Oi.prototype,t.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=w,this.readyState=1,Wr(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(w.body=h),(this.D||d).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gr(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Wr(this)),this.g&&(this.readyState=3,Wr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cc(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cc(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?Gr(this):Wr(this),this.readyState==3&&Cc(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Gr(this))},t.Qa=function(h){this.g&&(this.response=h,Gr(this))},t.ga=function(){this.g&&Gr(this)};function Gr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Wr(h)}t.setRequestHeader=function(h,w){this.u.append(h,w)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=w.next();return h.join(`\r
`)};function Wr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ic(h){let w="";return Z(h,function(T,P){w+=P,w+=":",w+=T,w+=`\r
`}),w}function nn(h,w,T){e:{for(P in T){var P=!1;break e}P=!0}P||(T=Ic(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):it(h,w,T))}function lt(h){jt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(lt,jt);var qo=/^https?$/i,La=["POST","PUT"];t=lt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,w,T,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ia.g(),this.v=this.o?Cn(this.o):Cn(Ia),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(X){Ud(this,X);return}if(h=T||"",T=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var Y in P)T.set(Y,P[Y]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const X of P.keys())T.set(X,P.get(X));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),Y=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(La,w,void 0))||P||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of T)this.g.setRequestHeader(X,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Va(this),this.u=!0,this.g.send(h),this.u=!1}catch(X){Ud(this,X)}};function Ud(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.m=5,Go(h),$r(h)}function Go(h){h.A||(h.A=!0,Ft(h,"complete"),Ft(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ft(this,"complete"),Ft(this,"abort"),$r(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$r(this,!0)),lt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Wo(this):this.bb())},t.bb=function(){Wo(this)};function Wo(h){if(h.h&&typeof c<"u"&&(!h.v[1]||lr(h)!=4||h.Z()!=2)){if(h.u&&lr(h)==4)Lo(h.Ea,0,h);else if(Ft(h,"readystatechange"),lr(h)==4){h.h=!1;try{const ue=h.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var P;if(P=ue===0){var Y=String(h.D).match(Sc)[1]||null;!Y&&d.self&&d.self.location&&(Y=d.self.location.protocol.slice(0,-1)),P=!qo.test(Y?Y.toLowerCase():"")}T=P}if(T)Ft(h,"complete"),Ft(h,"success");else{h.m=6;try{var X=2<lr(h)?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.Z()+"]",Go(h)}}finally{$r(h)}}}}function $r(h,w){if(h.g){Va(h);const T=h.g,P=h.v[0]?()=>{}:null;h.g=null,h.v=null,w||Ft(h,"ready");try{T.onreadystatechange=P}catch{}}}function Va(h){h.I&&(d.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function lr(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),Dt(w)}};function Bd(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Zm(h){const w={};h=(h.g&&2<=lr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<h.length;P++){if(D(h[P]))continue;var T=z(h[P]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=w[Y]||[];w[Y]=X,X.push(T)}k(w,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ja(h,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||w}function $o(h){this.Aa=0,this.i=[],this.j=new vs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ja("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ja("baseRetryDelayMs",5e3,h),this.cb=ja("retryDelaySeedMs",1e4,h),this.Wa=ja("forwardChannelMaxRetries",2,h),this.wa=ja("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new bc(h&&h.concurrentRequestLimit),this.Da=new Pa,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$o.prototype,t.la=8,t.G=1,t.connect=function(h,w,T,P){Ut(0),this.W=h,this.H=w||{},T&&P!==void 0&&(this.H.OSID=T,this.H.OAID=P),this.F=this.X,this.I=$d(this,null,this.W),Ko(this)};function Dc(h){if(zd(h),h.G==3){var w=h.U++,T=Ot(h.I);if(it(T,"SID",h.K),it(T,"RID",w),it(T,"TYPE","terminate"),Ua(h,T),w=new Fr(h,h.j,w),w.L=2,w.v=Ma(Ot(T)),T=!1,d.navigator&&d.navigator.sendBeacon)try{T=d.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&d.Image&&(new Image().src=w.v,T=!0),T||(w.g=Yd(w.j,null),w.g.ea(w.v)),w.F=Date.now(),St(w)}Wd(h)}function Yo(h){h.g&&(Ba(h),h.g.cancel(),h.g=null)}function zd(h){Yo(h),h.u&&(d.clearTimeout(h.u),h.u=null),Qo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Ko(h){if(!Tc(h.h)&&!h.s){h.s=!0;var w=h.Ga;ce||F(),ie||(ce(),ie=!0),ae.add(w,h),h.B=0}}function Jm(h,w){return Pd(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=w.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ys(b(h.Ga,h,w),Mc(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Y=new Fr(this,this.j,h);let X=this.o;if(this.S&&(X?(X=N(X),L(X,this.S)):X=this.S),this.m!==null||this.O||(Y.H=X,X=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var P=this.i[T];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(w+=P,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=Fd(this,Y,w),T=Ot(this.I),it(T,"RID",h),it(T,"CVER",22),this.D&&it(T,"X-HTTP-Session-Id",this.D),Ua(this,T),X&&(this.O?w="headers="+encodeURIComponent(String(Ic(X)))+"&"+w:this.m&&nn(T,this.m,X)),Ss(this.h,Y),this.Ua&&it(T,"TYPE","init"),this.P?(it(T,"$req",w),it(T,"SID","null"),Y.T=!0,Tr(Y,T,null)):Tr(Y,T,w),this.G=2}}else this.G==3&&(h?Nc(this,h):this.i.length==0||Tc(this.h)||Nc(this))};function Nc(h,w){var T;w?T=w.l:T=h.U++;const P=Ot(h.I);it(P,"SID",h.K),it(P,"RID",T),it(P,"AID",h.T),Ua(h,P),h.m&&h.o&&nn(P,h.m,h.o),T=new Fr(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),w&&(h.i=w.D.concat(h.i)),w=Fd(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ss(h.h,T),Tr(T,P,w)}function Ua(h,w){h.H&&Z(h.H,function(T,P){it(w,P,T)}),h.l&&Na({},function(T,P){it(w,P,T)})}function Fd(h,w,T){T=Math.min(h.i.length,T);var P=h.l?b(h.l.Na,h.l,h):null;e:{var Y=h.i;let X=-1;for(;;){const ue=["count="+T];X==-1?0<T?(X=Y[0].g,ue.push("ofs="+X)):X=0:ue.push("ofs="+X);let et=!0;for(let Qt=0;Qt<T;Qt++){let tt=Y[Qt].g;const rn=Y[Qt].map;if(tt-=X,0>tt)X=Math.max(0,Y[Qt].g-100),et=!1;else try{qr(rn,ue,"req"+tt+"_")}catch{P&&P(rn)}}if(et){P=ue.join("&");break e}}}return h=h.i.splice(0,T),w.D=h,P}function Hd(h){if(!h.g&&!h.u){h.Y=1;var w=h.Fa;ce||F(),ie||(ce(),ie=!0),ae.add(w,h),h.v=0}}function Oc(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ys(b(h.Fa,h),Mc(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,qd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ys(b(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),Yo(this),qd(this))};function Ba(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function qd(h){h.g=new Fr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var w=Ot(h.qa);it(w,"RID","rpc"),it(w,"SID",h.K),it(w,"AID",h.T),it(w,"CI",h.F?"0":"1"),!h.F&&h.ja&&it(w,"TO",h.ja),it(w,"TYPE","xmlhttp"),Ua(h,w),h.m&&h.o&&nn(w,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Ma(Ot(w)),T.m=null,T.P=!0,Ri(T,h)}t.Za=function(){this.C!=null&&(this.C=null,Yo(this),Oc(this),Ut(19))};function Qo(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Gd(h,w){var T=null;if(h.g==w){Qo(h),Ba(h),h.g=null;var P=2}else if(Ts(h.h,w))T=w.D,ir(h.h,w),P=1;else return;if(h.G!=0){if(w.o)if(P==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var Y=h.B;P=Vo(),Ft(P,new Od(P,T)),Ko(h)}else Hd(h);else if(Y=w.s,Y==3||Y==0&&0<w.X||!(P==1&&Jm(h,w)||P==2&&Oc(h)))switch(T&&0<T.length&&(w=h.h,w.i=w.i.concat(T)),Y){case 1:Mi(h,5);break;case 4:Mi(h,10);break;case 3:Mi(h,6);break;default:Mi(h,2)}}}function Mc(h,w){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*w}function Mi(h,w){if(h.j.info("Error code "+w),w==2){var T=b(h.fb,h),P=h.Xa;const Y=!P;P=new Ci(P||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||As(P,"https"),Ma(P),Y?jd(P.toString(),T):ka(P.toString(),T)}else Ut(2);h.G=0,h.l&&h.l.sa(w),Wd(h),zd(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function Wd(h){if(h.G=0,h.ka=[],h.l){const w=In(h.h);(w.length!=0||h.i.length!=0)&&(C(h.ka,w),C(h.ka,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.ra()}}function $d(h,w,T){var P=T instanceof Ci?Ot(T):new Ci(T);if(P.g!="")w&&(P.g=w+"."+P.g),Oa(P,P.s);else{var Y=d.location;P=Y.protocol,w=w?w+"."+Y.hostname:Y.hostname,Y=+Y.port;var X=new Ci(null);P&&As(X,P),w&&(X.g=w),Y&&Oa(X,Y),T&&(X.l=T),P=X}return T=h.D,w=h.ya,T&&w&&it(P,T,w),it(P,"VER",h.la),Ua(h,P),P}function Yd(h,w,T){if(w&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Ca&&!h.pa?new lt(new Rs({eb:T})):new lt(h.pa),w.Ha(h.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kd(){}t=Kd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Xo(){}Xo.prototype.g=function(h,w){return new Dn(h,w)};function Dn(h,w){jt.call(this),this.g=new $o(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(h?h["X-WebChannel-Client-Profile"]=w.va:h={"X-WebChannel-Client-Profile":w.va}),this.g.S=h,(h=w&&w.Sb)&&!D(h)&&(this.g.m=h),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!D(w)&&(this.g.D=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new Yr(this)}x(Dn,jt),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){Dc(this.g)},Dn.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=Ln(h),h=T);w.i.push(new $m(w.Ya++,h)),w.G==3&&Ko(w)},Dn.prototype.N=function(){this.g.l=null,delete this.j,Dc(this.g),delete this.g,Dn.aa.N.call(this)};function Qd(h){Br.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const T in w){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}x(Qd,Br);function Xd(){Hn.call(this),this.status=1}x(Xd,Hn);function Yr(h){this.g=h}x(Yr,Kd),Yr.prototype.ua=function(){Ft(this.g,"a")},Yr.prototype.ta=function(h){Ft(this.g,new Qd(h))},Yr.prototype.sa=function(h){Ft(this.g,new Xd)},Yr.prototype.ra=function(){Ft(this.g,"b")},Xo.prototype.createWebChannel=Xo.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,G1=function(){return new Xo},q1=function(){return Vo()},H1=En,My={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Kt.NO_ERROR=0,Kt.TIMEOUT=8,Kt.HTTP_ERROR=6,yh=Kt,xi.COMPLETE="complete",F1=xi,Xe.EventType=nr,nr.OPEN="a",nr.CLOSE="b",nr.ERROR="c",nr.MESSAGE="d",jt.prototype.listen=jt.prototype.K,Ru=Xe,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,z1=lt}).apply(typeof Zf<"u"?Zf:typeof self<"u"?self:typeof window<"u"?window:{});const $b="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ic="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=new _v("@firebase/firestore");function Cl(){return wo.logLevel}function ge(t,...e){if(wo.logLevel<=Ye.DEBUG){const n=e.map(Ov);wo.debug(`Firestore (${ic}): ${t}`,...n)}}function as(t,...e){if(wo.logLevel<=Ye.ERROR){const n=e.map(Ov);wo.error(`Firestore (${ic}): ${t}`,...n)}}function Hl(t,...e){if(wo.logLevel<=Ye.WARN){const n=e.map(Ov);wo.warn(`Firestore (${ic}): ${t}`,...n)}}function Ov(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t="Unexpected state"){const e=`FIRESTORE (${ic}) INTERNAL ASSERTION FAILED: `+t;throw as(e),new Error(e)}function ct(t,e){t||Me()}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(An.UNAUTHENTICATED))}shutdown(){}}class mL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pL{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0);let r=this.i;const s=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new uo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new uo,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},d=f=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new uo)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string"),new W1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string"),new An(e)}}class gL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=An.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class yL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new gL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _L{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ct(this.o===void 0);const r=o=>{o.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.R;return this.R=o.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ct(typeof n.token=="string"),this.R=n.token,new vL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=wL(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%e.length))}return r}}function Je(t,e){return t<e?-1:t>e?1:0}function ql(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Qe(0,0))}static max(){return new Pe(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(),r===void 0?r=e.length-n:r>e.length-n&&Me(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Wu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=e.get(s),c=n.get(s);if(o<c)return-1;if(o>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class bt extends Wu{construct(e,n,r){return new bt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ee(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new bt(n)}static emptyPath(){return new bt([])}}const EL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends Wu{construct(e,n,r){return new gn(e,n,r)}static isValidIdentifier(e){return EL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new gn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new Ee(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new Ee(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ee(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(r+=d,s++):(o(),s++)}if(o(),c)throw new Ee(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(n)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(bt.fromString(e))}static fromName(e){return new Re(bt.fromString(e).popFirst(5))}static empty(){return new Re(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new bt(e.slice()))}}function bL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Pe.fromTimestamp(r===1e9?new Qe(n+1,0):new Qe(n,r));return new da(s,Re.empty(),e)}function TL(t){return new da(t.readTime,t.key,-1)}class da{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new da(Pe.min(),Re.empty(),-1)}static max(){return new da(Pe.max(),Re.empty(),-1)}}function SL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==AL)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,r)=>{n(e)})}static reject(e){return new se((n,r)=>{r(e)})}static waitFor(e){return new se((n,r)=>{let s=0,o=0,c=!1;e.forEach(d=>{++s,d.next(()=>{++o,c&&o===s&&n()},f=>r(f))}),c=!0,o===s&&n()})}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next(s=>s?se.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new se((r,s)=>{const o=e.length,c=new Array(o);let d=0;for(let f=0;f<o;f++){const m=f;n(e[m]).next(y=>{c[m]=y,++d,d===o&&r(c)},y=>s(y))}})}static doWhile(e,n){return new se((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function RL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ac(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}cm.oe=-1;function um(t){return t==null}function Ph(t){return t===0&&1/t==-1/0}function CL(t){return typeof t=="number"&&Number.isInteger(t)&&!Ph(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Yb(e)),e=DL(t.get(n),e);return Yb(e)}function DL(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Yb(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _a(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Y1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new It(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jf(this.root,e,this.comparator,!0)}}class Jf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??pn.RED,this.left=s??pn.EMPTY,this.right=o??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new pn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return pn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Me();const e=this.left.check();if(e!==this.right.check())throw Me();return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me()}get value(){throw Me()}get color(){throw Me()}get left(){throw Me()}get right(){throw Me()}copy(e,n,r,s,o){return this}insert(e,n,r){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qb(this.data.getIterator())}getIteratorFrom(e){return new Qb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new en(this.comparator);return n.data=e,n}}class Qb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new Zn([])}unionWith(e){let n=new en(gn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ql(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new K1("Invalid base64 string: "+o):o}}(e);return new yn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o}(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const NL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fa(t){if(ct(!!t),typeof t=="string"){let e=0;const n=NL.exec(t);if(ct(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zt(t.seconds),nanos:zt(t.nanos)}}function zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ha(t){return typeof t=="string"?yn.fromBase64String(t):yn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function dm(t){const e=t.mapValue.fields.__previous_value__;return Mv(e)?dm(e):e}function $u(t){const e=fa(t.mapValue.fields.__local_write_time__.timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n,r,s,o,c,d,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m}}class Yu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Yu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Yu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ma(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mv(t)?4:kL(t)?9007199254740991:ML(t)?10:11:Me()}function gi(t,e){if(t===e)return!0;const n=ma(t);if(n!==ma(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $u(t).isEqual($u(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=fa(s.timestampValue),d=fa(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return ha(s.bytesValue).isEqual(ha(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return zt(s.geoPointValue.latitude)===zt(o.geoPointValue.latitude)&&zt(s.geoPointValue.longitude)===zt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return zt(s.integerValue)===zt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=zt(s.doubleValue),d=zt(o.doubleValue);return c===d?Ph(c)===Ph(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return ql(t.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:case 11:return function(s,o){const c=s.mapValue.fields||{},d=o.mapValue.fields||{};if(Kb(c)!==Kb(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!gi(c[f],d[f])))return!1;return!0}(t,e);default:return Me()}}function Ku(t,e){return(t.values||[]).find(n=>gi(n,e))!==void 0}function Gl(t,e){if(t===e)return 0;const n=ma(t),r=ma(e);if(n!==r)return Je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return function(o,c){const d=zt(o.integerValue||o.doubleValue),f=zt(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(t,e);case 3:return Xb(t.timestampValue,e.timestampValue);case 4:return Xb($u(t),$u(e));case 5:return Je(t.stringValue,e.stringValue);case 6:return function(o,c){const d=ha(o),f=ha(c);return d.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(o,c){const d=o.split("/"),f=c.split("/");for(let m=0;m<d.length&&m<f.length;m++){const y=Je(d[m],f[m]);if(y!==0)return y}return Je(d.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,c){const d=Je(zt(o.latitude),zt(c.latitude));return d!==0?d:Je(zt(o.longitude),zt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Zb(t.arrayValue,e.arrayValue);case 10:return function(o,c){var d,f,m,y;const v=o.fields||{},b=c.fields||{},A=(d=v.value)===null||d===void 0?void 0:d.arrayValue,x=(f=b.value)===null||f===void 0?void 0:f.arrayValue,R=Je(((m=A==null?void 0:A.values)===null||m===void 0?void 0:m.length)||0,((y=x==null?void 0:x.values)===null||y===void 0?void 0:y.length)||0);return R!==0?R:Zb(A,x)}(t.mapValue,e.mapValue);case 11:return function(o,c){if(o===eh.mapValue&&c===eh.mapValue)return 0;if(o===eh.mapValue)return 1;if(c===eh.mapValue)return-1;const d=o.fields||{},f=Object.keys(d),m=c.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let v=0;v<f.length&&v<y.length;++v){const b=Je(f[v],y[v]);if(b!==0)return b;const A=Gl(d[f[v]],m[y[v]]);if(A!==0)return A}return Je(f.length,y.length)}(t.mapValue,e.mapValue);default:throw Me()}}function Xb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=fa(t),r=fa(e),s=Je(n.seconds,r.seconds);return s!==0?s:Je(n.nanos,r.nanos)}function Zb(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=Gl(n[s],r[s]);if(o)return o}return Je(n.length,r.length)}function Wl(t){return ky(t)}function ky(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=fa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ha(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=ky(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const c of r)o?o=!1:s+=",",s+=`${c}:${ky(n.fields[c])}`;return s+"}"}(t.mapValue):Me()}function vh(t){switch(ma(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dm(t);return e?16+vh(e):16;case 5:return 2*t.stringValue.length;case 6:return ha(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+vh(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return _a(r.fields,(o,c)=>{s+=o.length+vh(c)}),s}(t.mapValue);default:throw Me()}}function Jb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Py(t){return!!t&&"integerValue"in t}function kv(t){return!!t&&"arrayValue"in t}function eT(t){return!!t&&"nullValue"in t}function tT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _h(t){return!!t&&"mapValue"in t}function ML(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Pu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _a(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_h(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pu(n)}setAll(e){let n=gn.emptyPath(),r={},s=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,s),r={},s=[],n=d.popLast()}c?r[d.lastSegment()]=Pu(c):s.push(d.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());_h(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];_h(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){_a(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new Bn(Pu(this.value))}}function Q1(t){const e=[];return _a(t.fields,(n,r)=>{const s=new gn([n]);if(_h(r)){const o=Q1(r.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n,r,s,o,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new xn(e,0,Pe.min(),Pe.min(),Pe.min(),Bn.empty(),0)}static newFoundDocument(e,n,r,s){return new xn(e,1,n,Pe.min(),r,s,0)}static newNoDocument(e,n){return new xn(e,2,n,Pe.min(),Pe.min(),Bn.empty(),0)}static newUnknownDocument(e,n){return new xn(e,3,n,Pe.min(),Pe.min(),Bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n){this.position=e,this.inclusive=n}}function nT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],c=t.position[s];if(o.field.isKeyField()?r=Re.comparator(Re.fromName(c.referenceValue),n.key):r=Gl(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function rT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n="asc"){this.field=e,this.dir=n}}function PL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{}class Yt extends X1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new VL(e,n,r):n==="array-contains"?new BL(e,r):n==="in"?new zL(e,r):n==="not-in"?new FL(e,r):n==="array-contains-any"?new HL(e,r):new Yt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new jL(e,r):new UL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gl(n,this.value)):n!==null&&ma(this.value)===ma(n)&&this.matchesComparison(Gl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mr extends X1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Mr(e,n)}matches(e){return Z1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Z1(t){return t.op==="and"}function J1(t){return LL(t)&&Z1(t)}function LL(t){for(const e of t.filters)if(e instanceof Mr)return!1;return!0}function Ly(t){if(t instanceof Yt)return t.field.canonicalString()+t.op.toString()+Wl(t.value);if(J1(t))return t.filters.map(e=>Ly(e)).join(",");{const e=t.filters.map(n=>Ly(n)).join(",");return`${t.op}(${e})`}}function eA(t,e){return t instanceof Yt?function(r,s){return s instanceof Yt&&r.op===s.op&&r.field.isEqual(s.field)&&gi(r.value,s.value)}(t,e):t instanceof Mr?function(r,s){return s instanceof Mr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,c,d)=>o&&eA(c,s.filters[d]),!0):!1}(t,e):void Me()}function tA(t){return t instanceof Yt?function(n){return`${n.field.canonicalString()} ${n.op} ${Wl(n.value)}`}(t):t instanceof Mr?function(n){return n.op.toString()+" {"+n.getFilters().map(tA).join(" ,")+"}"}(t):"Filter"}class VL extends Yt{constructor(e,n,r){super(e,n,r),this.key=Re.fromName(r.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class jL extends Yt{constructor(e,n){super(e,"in",n),this.keys=nA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class UL extends Yt{constructor(e,n){super(e,"not-in",n),this.keys=nA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function nA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Re.fromName(r.referenceValue))}class BL extends Yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kv(n)&&Ku(n.arrayValue,this.value)}}class zL extends Yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ku(this.value.arrayValue,n)}}class FL extends Yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ku(this.value.arrayValue,n)}}class HL extends Yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ku(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,n=null,r=[],s=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=c,this.endAt=d,this.ue=null}}function iT(t,e=null,n=[],r=[],s=null,o=null,c=null){return new qL(t,e,n,r,s,o,c)}function Pv(t){const e=Ve(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ly(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),um(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wl(r)).join(",")),e.ue=n}return e.ue}function Lv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!eA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rT(t.startAt,e.startAt)&&rT(t.endAt,e.endAt)}function Vy(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n=null,r=[],s=[],o=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function GL(t,e,n,r,s,o,c,d){return new pd(t,e,n,r,s,o,c,d)}function Vv(t){return new pd(t)}function sT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rA(t){return t.collectionGroup!==null}function Lu(t){const e=Ve(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new en(gn.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Vh(o,r))}),n.has(gn.keyField().canonicalString())||e.ce.push(new Vh(gn.keyField(),r))}return e.ce}function ui(t){const e=Ve(t);return e.le||(e.le=WL(e,Lu(t))),e.le}function WL(t,e){if(t.limitType==="F")return iT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Vh(s.field,o)});const n=t.endAt?new Lh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Lh(t.startAt.position,t.startAt.inclusive):null;return iT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jy(t,e){const n=t.filters.concat([e]);return new pd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Uy(t,e,n){return new pd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fm(t,e){return Lv(ui(t),ui(e))&&t.limitType===e.limitType}function iA(t){return`${Pv(ui(t))}|lt:${t.limitType}`}function Il(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>tA(s)).join(", ")}]`),um(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Wl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Wl(s)).join(",")),`Target(${r})`}(ui(t))}; limitType=${t.limitType})`}function hm(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of Lu(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(c,d,f){const m=nT(c,d,f);return c.inclusive?m<=0:m<0}(r.startAt,Lu(r),s)||r.endAt&&!function(c,d,f){const m=nT(c,d,f);return c.inclusive?m>=0:m>0}(r.endAt,Lu(r),s))}(t,e)}function $L(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sA(t){return(e,n)=>{let r=!1;for(const s of Lu(t)){const o=YL(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function YL(t,e,n){const r=t.field.isKeyField()?Re.comparator(e.key,n.key):function(o,c,d){const f=c.data.field(o),m=d.data.field(o);return f!==null&&m!==null?Gl(f,m):Me()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){_a(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return Y1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=new It(Re.comparator);function os(){return KL}const aA=new It(Re.comparator);function Cu(...t){let e=aA;for(const n of t)e=e.insert(n.key,n);return e}function oA(t){let e=aA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function lo(){return Vu()}function lA(){return Vu()}function Vu(){return new Io(t=>t.toString(),(t,e)=>t.isEqual(e))}const QL=new It(Re.comparator),XL=new en(Re.comparator);function Ke(...t){let e=XL;for(const n of t)e=e.add(n);return e}const ZL=new en(Je);function JL(){return ZL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ph(e)?"-0":e}}function cA(t){return{integerValue:""+t}}function eV(t,e){return CL(e)?cA(e):jv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(){this._=void 0}}function tV(t,e,n){return t instanceof jh?function(s,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Mv(o)&&(o=dm(o)),o&&(c.fields.__previous_value__=o),{mapValue:c}}(n,e):t instanceof $l?dA(t,e):t instanceof Qu?fA(t,e):function(s,o){const c=uA(s,o),d=aT(c)+aT(s.Pe);return Py(c)&&Py(s.Pe)?cA(d):jv(s.serializer,d)}(t,e)}function nV(t,e,n){return t instanceof $l?dA(t,e):t instanceof Qu?fA(t,e):n}function uA(t,e){return t instanceof Uh?function(r){return Py(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class jh extends mm{}class $l extends mm{constructor(e){super(),this.elements=e}}function dA(t,e){const n=hA(e);for(const r of t.elements)n.some(s=>gi(s,r))||n.push(r);return{arrayValue:{values:n}}}class Qu extends mm{constructor(e){super(),this.elements=e}}function fA(t,e){let n=hA(e);for(const r of t.elements)n=n.filter(s=>!gi(s,r));return{arrayValue:{values:n}}}class Uh extends mm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function aT(t){return zt(t.integerValue||t.doubleValue)}function hA(t){return kv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n){this.field=e,this.transform=n}}function iV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof $l&&s instanceof $l||r instanceof Qu&&s instanceof Qu?ql(r.elements,s.elements,gi):r instanceof Uh&&s instanceof Uh?gi(r.Pe,s.Pe):r instanceof jh&&s instanceof jh}(t.transform,e.transform)}class sV{constructor(e,n){this.version=e,this.transformResults=n}}class Or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pm{}function mA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Uv(t.key,Or.none()):new gd(t.key,t.data,Or.none());{const n=t.data,r=Bn.empty();let s=new en(gn.comparator);for(let o of e.fields)if(!s.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),s=s.add(o)}return new wa(t.key,r,new Zn(s.toArray()),Or.none())}}function aV(t,e,n){t instanceof gd?function(s,o,c){const d=s.value.clone(),f=lT(s.fieldTransforms,o,c.transformResults);d.setAll(f),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof wa?function(s,o,c){if(!wh(s.precondition,o))return void o.convertToUnknownDocument(c.version);const d=lT(s.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(pA(s)),f.setAll(d),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(t,e,n):function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function ju(t,e,n,r){return t instanceof gd?function(o,c,d,f){if(!wh(o.precondition,c))return d;const m=o.value.clone(),y=cT(o.fieldTransforms,f,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(t,e,n,r):t instanceof wa?function(o,c,d,f){if(!wh(o.precondition,c))return d;const m=cT(o.fieldTransforms,f,c),y=c.data;return y.setAll(pA(o)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(o,c,d){return wh(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function oV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=uA(r.transform,s||null);o!=null&&(n===null&&(n=Bn.empty()),n.set(r.field,o))}return n||null}function oT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ql(r,s,(o,c)=>iV(o,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gd extends pm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class wa extends pm{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function pA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function lT(t,e,n){const r=new Map;ct(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],c=o.transform,d=e.data.field(o.field);r.set(o.field,nV(c,d,n[s]))}return r}function cT(t,e,n){const r=new Map;for(const s of t){const o=s.transform,c=n.data.field(s.field);r.set(s.field,tV(o,c,e))}return r}class Uv extends pm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lV extends pm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&aV(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ju(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ju(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=lA();return this.mutations.forEach(s=>{const o=e.get(s.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=n.has(s.key)?null:d;const f=mA(c,d);f!==null&&r.set(s.key,f),c.isValidDocument()||c.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ke())}isEqual(e){return this.batchId===e.batchId&&ql(this.mutations,e.mutations,(n,r)=>oT(n,r))&&ql(this.baseMutations,e.baseMutations,(n,r)=>oT(n,r))}}class Bv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ct(e.mutations.length===r.length);let s=function(){return QL}();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,r[c].version);return new Bv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uV=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,rt;function fV(t){switch(t){default:return Me();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function gA(t){if(t===void 0)return as("GRPC error has no .code"),oe.UNKNOWN;switch(t){case $t.OK:return oe.OK;case $t.CANCELLED:return oe.CANCELLED;case $t.UNKNOWN:return oe.UNKNOWN;case $t.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case $t.INTERNAL:return oe.INTERNAL;case $t.UNAVAILABLE:return oe.UNAVAILABLE;case $t.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case $t.NOT_FOUND:return oe.NOT_FOUND;case $t.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case $t.ABORTED:return oe.ABORTED;case $t.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case $t.DATA_LOSS:return oe.DATA_LOSS;default:return Me()}}(rt=$t||($t={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=new co([4294967295,4294967295],0);function uT(t){const e=hV().encode(t),n=new B1;return n.update(e),new Uint8Array(n.digest())}function dT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new co([n,r],0),new co([s,o],0)]}class zv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Iu(`Invalid padding: ${n}`);if(r<0)throw new Iu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Iu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Iu(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=co.fromNumber(this.Te)}Ee(e,n,r){let s=e.add(n.multiply(co.fromNumber(r)));return s.compare(mV)===1&&(s=new co([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=uT(e),[r,s]=dT(n);for(let o=0;o<this.hashCount;o++){const c=this.Ee(r,s,o);if(!this.de(c))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new zv(o,s,n);return r.forEach(d=>c.insert(d)),c}insert(e){if(this.Te===0)return;const n=uT(e),[r,s]=dT(n);for(let o=0;o<this.hashCount;o++){const c=this.Ee(r,s,o);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,yd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gm(Pe.min(),s,new It(Je),os(),Ke())}}class yd{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yd(r,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class yA{constructor(e,n){this.targetId=e,this.me=n}}class vA{constructor(e,n,r=yn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class fT{constructor(){this.fe=0,this.ge=hT(),this.pe=yn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ke(),n=Ke(),r=Ke();return this.ge.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Me()}}),new yd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=hT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ct(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class pV{constructor(e){this.Le=e,this.Be=new Map,this.ke=os(),this.qe=th(),this.Qe=th(),this.Ke=new It(Je)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:Me()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.me.count,s=this.Ye(n);if(s){const o=s.target;if(Vy(o))if(r===0){const c=new Re(o.path);this.We(n,c,xn.newNoDocument(c,Pe.min()))}else ct(r===1);else{const c=this.Ze(n);if(c!==r){const d=this.Xe(e),f=d?this.et(d,e,c):1;if(f!==0){this.He(n);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,m)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let c,d;try{c=ha(r).toUint8Array()}catch(f){if(f instanceof K1)return Hl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new zv(c,s,o)}catch(f){return Hl(f instanceof Iu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Te===0?null:d}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const c=this.Le.nt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.We(n,o,null),s++)}),s}it(e){const n=new Map;this.Be.forEach((o,c)=>{const d=this.Ye(c);if(d){if(o.current&&Vy(d.target)){const f=new Re(d.target.path);this.st(f).has(c)||this.ot(c,f)||this.We(c,f,xn.newNoDocument(f,e))}o.be&&(n.set(c,o.ve()),o.Ce())}});let r=Ke();this.Qe.forEach((o,c)=>{let d=!0;c.forEachWhile(f=>{const m=this.Ye(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(o))}),this.ke.forEach((o,c)=>c.setReadTime(e));const s=new gm(e,n,this.Ke,this.ke,r);return this.ke=os(),this.qe=th(),this.Qe=th(),this.Ke=new It(Je),s}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.ot(e,n)?s.Fe(n,1):s.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new fT,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new en(Je),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new en(Je),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new fT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function th(){return new It(Re.comparator)}function hT(){return new It(Re.comparator)}const gV={asc:"ASCENDING",desc:"DESCENDING"},yV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vV={and:"AND",or:"OR"};class _V{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function By(t,e){return t.useProto3Json||um(e)?e:{value:e}}function Bh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _A(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wV(t,e){return Bh(t,e.toTimestamp())}function di(t){return ct(!!t),Pe.fromTimestamp(function(n){const r=fa(n);return new Qe(r.seconds,r.nanos)}(t))}function Fv(t,e){return zy(t,e).canonicalString()}function zy(t,e){const n=function(s){return new bt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function wA(t){const e=bt.fromString(t);return ct(AA(e)),e}function Fy(t,e){return Fv(t.databaseId,e.path)}function iy(t,e){const n=wA(e);if(n.get(1)!==t.databaseId.projectId)throw new Ee(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ee(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(bA(n))}function EA(t,e){return Fv(t.databaseId,e)}function EV(t){const e=wA(t);return e.length===4?bt.emptyPath():bA(e)}function Hy(t){return new bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bA(t){return ct(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function mT(t,e,n){return{name:Fy(t,e),fields:n.value.mapValue.fields}}function bV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Me()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(m,y){return m.useProto3Json?(ct(y===void 0||typeof y=="string"),yn.fromBase64String(y||"")):(ct(y===void 0||y instanceof Buffer||y instanceof Uint8Array),yn.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(m){const y=m.code===void 0?oe.UNKNOWN:gA(m.code);return new Ee(y,m.message||"")}(c);n=new vA(r,s,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=iy(t,r.document.name),o=di(r.document.updateTime),c=r.document.createTime?di(r.document.createTime):Pe.min(),d=new Bn({mapValue:{fields:r.document.fields}}),f=xn.newFoundDocument(s,o,c,d),m=r.targetIds||[],y=r.removedTargetIds||[];n=new Eh(m,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=iy(t,r.document),o=r.readTime?di(r.readTime):Pe.min(),c=xn.newNoDocument(s,o),d=r.removedTargetIds||[];n=new Eh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=iy(t,r.document),o=r.removedTargetIds||[];n=new Eh([],o,s,null)}else{if(!("filter"in e))return Me();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,c=new dV(s,o),d=r.targetId;n=new yA(d,c)}}return n}function TV(t,e){let n;if(e instanceof gd)n={update:mT(t,e.key,e.value)};else if(e instanceof Uv)n={delete:Fy(t,e.key)};else if(e instanceof wa)n={update:mT(t,e.key,e.data),updateMask:OV(e.fieldMask)};else{if(!(e instanceof lV))return Me();n={verify:Fy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const d=c.transform;if(d instanceof jh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof $l)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Qu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Uh)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Me()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:wV(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Me()}(t,e.precondition)),n}function SV(t,e){return t&&t.length>0?(ct(e!==void 0),t.map(n=>function(s,o){let c=s.updateTime?di(s.updateTime):di(o);return c.isEqual(Pe.min())&&(c=di(o)),new sV(c,s.transformResults||[])}(n,e))):[]}function AV(t,e){return{documents:[EA(t,e.path)]}}function xV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=EA(t,s);const o=function(m){if(m.length!==0)return SA(Mr.create(m,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const c=function(m){if(m.length!==0)return m.map(y=>function(b){return{field:Dl(b.field),direction:IV(b.dir)}}(y))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=By(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ct:n,parent:s}}function RV(t){let e=EV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ct(r===1);const y=n.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];n.where&&(o=function(v){const b=TA(v);return b instanceof Mr&&J1(b)?b.getFilters():[b]}(n.where));let c=[];n.orderBy&&(c=function(v){return v.map(b=>function(x){return new Vh(Nl(x.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(b))}(n.orderBy));let d=null;n.limit&&(d=function(v){let b;return b=typeof v=="object"?v.value:v,um(b)?null:b}(n.limit));let f=null;n.startAt&&(f=function(v){const b=!!v.before,A=v.values||[];return new Lh(A,b)}(n.startAt));let m=null;return n.endAt&&(m=function(v){const b=!v.before,A=v.values||[];return new Lh(A,b)}(n.endAt)),GL(e,s,c,o,d,"F",f,m)}function CV(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function TA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Nl(n.unaryFilter.field);return Yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Nl(n.unaryFilter.field);return Yt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Nl(n.unaryFilter.field);return Yt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Nl(n.unaryFilter.field);return Yt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Me()}}(t):t.fieldFilter!==void 0?function(n){return Yt.create(Nl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Me()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mr.create(n.compositeFilter.filters.map(r=>TA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Me()}}(n.compositeFilter.op))}(t):Me()}function IV(t){return gV[t]}function DV(t){return yV[t]}function NV(t){return vV[t]}function Dl(t){return{fieldPath:t.canonicalString()}}function Nl(t){return gn.fromServerFormat(t.fieldPath)}function SA(t){return t instanceof Yt?function(n){if(n.op==="=="){if(tT(n.value))return{unaryFilter:{field:Dl(n.field),op:"IS_NAN"}};if(eT(n.value))return{unaryFilter:{field:Dl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tT(n.value))return{unaryFilter:{field:Dl(n.field),op:"IS_NOT_NAN"}};if(eT(n.value))return{unaryFilter:{field:Dl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dl(n.field),op:DV(n.op),value:n.value}}}(t):t instanceof Mr?function(n){const r=n.getFilters().map(s=>SA(s));return r.length===1?r[0]:{compositeFilter:{op:NV(n.op),filters:r}}}(t):Me()}function OV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n,r,s,o=Pe.min(),c=Pe.min(),d=yn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new na(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e){this.ht=e}}function kV(t){const e=RV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Uy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this.ln=new LV}addToCollectionParentIndex(e,n){return this.ln.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(da.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(da.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class LV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new en(bt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new en(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Un{static withCacheSize(e){return new Un(e,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(41943040,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Yl(0)}static Qn(){return new Yl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT([t,e],[n,r]){const s=Je(t,n);return s===0?Je(e,r):s}class VV{constructor(e){this.Gn=e,this.buffer=new en(gT),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();gT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ac(n)?ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await sc(n)}await this.Yn(3e5)})}}class UV{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return se.resolve(cm.oe);const r=new VV(n);return this.Zn.forEachTarget(e,s=>r.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>r.Hn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(pT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pT):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,s,o,c,d,f,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,c=Date.now(),this.nthSequenceNumber(e,s))).next(v=>(r=v,d=Date.now(),this.removeTargets(e,r,n))).next(v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(m=Date.now(),Cl()<=Ye.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${o} targets in `+(f-d)+`ms
	Removed ${v} documents in `+(m-f)+`ms
Total Duration: ${m-y}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:v})))}}function BV(t,e){return new UV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(){this.changes=new Io(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ju(r.mutation,s,Zn.empty(),Qe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ke()){const s=lo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let c=Cu();return o.forEach((d,f)=>{c=c.insert(d,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const r=lo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ke()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,r,s){let o=os();const c=Vu(),d=function(){return Vu()}();return n.forEach((f,m)=>{const y=r.get(m.key);s.has(m.key)&&(y===void 0||y.mutation instanceof wa)?o=o.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),ju(y.mutation,m,y.mutation.getFieldMask(),Qe.now())):c.set(m.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((m,y)=>c.set(m,y)),n.forEach((m,y)=>{var v;return d.set(m,new FV(y,(v=c.get(m))!==null&&v!==void 0?v:null))}),d))}recalculateAndSaveOverlays(e,n){const r=Vu();let s=new It((c,d)=>c-d),o=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(f=>{const m=n.get(f);if(m===null)return;let y=r.get(f)||Zn.empty();y=d.applyToLocalView(m,y),r.set(f,y);const v=(s.get(d.batchId)||Ke()).add(f);s=s.insert(d.batchId,v)})}).next(()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,y=f.value,v=lA();y.forEach(b=>{if(!o.has(b)){const A=mA(n.get(b),r.get(b));A!==null&&v.set(b,A),o=o.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,v))}return se.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(c){return Re.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):se.resolve(lo());let d=-1,f=o;return c.next(m=>se.forEach(m,(y,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),o.get(y)?se.resolve():this.remoteDocumentCache.getEntry(e,y).next(b=>{f=f.insert(y,b)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,f,m,Ke())).next(y=>({batchId:d,changes:oA(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next(r=>{let s=Cu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let c=Cu();return this.indexManager.getCollectionParents(e,o).next(d=>se.forEach(d,f=>{const m=function(v,b){return new pd(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,s).next(y=>{y.forEach((v,b)=>{c=c.insert(v,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(c=>{o.forEach((f,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,xn.newInvalidDocument(y)))});let d=Cu();return c.forEach((f,m)=>{const y=o.get(f);y!==void 0&&ju(y.mutation,m,Zn.empty(),Qe.now()),hm(n,m)&&(d=d.insert(f,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return se.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:di(s.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(s){return{name:s.name,query:kV(s.bundledQuery),readTime:di(s.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(){this.overlays=new It(Re.comparator),this.Er=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=lo();return se.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.Tt(e,n,o)}),se.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Er.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Er.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const s=lo(),o=n.length+1,c=new Re(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return se.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new It((m,y)=>m-y);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let y=o.get(m.largestBatchId);y===null&&(y=lo(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const d=lo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,y)=>d.set(m,y)),!(d.size()>=s)););return se.resolve(d)}Tt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const c=this.Er.get(s.largestBatchId).delete(r.key);this.Er.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new uV(n,r));let o=this.Er.get(n);o===void 0&&(o=Ke(),this.Er.set(n,o)),this.Er.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(){this.dr=new en(ln.Ar),this.Rr=new en(ln.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new ln(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new ln(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new Re(new bt([])),r=new ln(n,e),s=new ln(n,e+1),o=[];return this.Rr.forEachInRange([r,s],c=>{this.gr(c),o.push(c.key)}),o}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new Re(new bt([])),r=new ln(n,e),s=new ln(n,e+1);let o=Ke();return this.Rr.forEachInRange([r,s],c=>{o=o.add(c.key)}),o}containsKey(e){const n=new ln(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ln{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return Re.comparator(e.key,n.key)||Je(e.br,n.br)}static Vr(e,n){return Je(e.br,n.br)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new en(ln.Ar)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new cV(o,n,r,s);this.mutationQueue.push(c);for(const d of s)this.vr=this.vr.add(new ln(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,n){return se.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Fr(r),o=s<0?0:s;return se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ln(n,0),s=new ln(n,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,s],c=>{const d=this.Cr(c.br);o.push(d)}),se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new en(Je);return n.forEach(s=>{const o=new ln(s,0),c=new ln(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,c],d=>{r=r.add(d.br)})}),se.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Re.isDocumentKey(o)||(o=o.child(""));const c=new ln(new Re(o),0);let d=new en(Je);return this.vr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(d=d.add(f.br)),!0)},c),se.resolve(this.Mr(d))}Mr(e){const n=[];return e.forEach(r=>{const s=this.Cr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ct(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return se.forEach(n.mutations,s=>{const o=new ln(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new ln(n,0),s=this.vr.firstAfterOrEqual(r);return se.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e){this.Nr=e,this.docs=function(){return new It(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,c=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():xn.newInvalidDocument(n))}getEntries(e,n){let r=os();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():xn.newInvalidDocument(s))}),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=os();const c=n.path,d=new Re(c.child("")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||SL(TL(y),r)<=0||(s.has(y.key)||hm(n,y))&&(o=o.insert(y.key,y.mutableCopy()))}return se.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Me()}Lr(e,n){return se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new KV(this)}getSize(e){return se.resolve(this.size)}}class KV extends zV{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.hr.addEntry(e,s)):this.hr.removeEntry(r)}),se.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.persistence=e,this.Br=new Io(n=>Pv(n),Lv),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.kr=0,this.qr=new Hv,this.targetCount=0,this.Qr=Yl.qn()}forEachTarget(e,n){return this.Br.forEach((r,s)=>n(s)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),se.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Yl(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Un(n),se.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.Br.forEach((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.Br.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),se.waitFor(o).next(()=>s)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(c=>{o.push(s.markPotentiallyOrphaned(e,c))}),se.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n){this.Kr={},this.overlays={},this.$r=new cm(0),this.Ur=!1,this.Ur=!0,this.Wr=new WV,this.referenceDelegate=e(this),this.Gr=new QV(this),this.indexManager=new PV,this.remoteDocumentCache=function(s){return new YV(s)}(r=>this.referenceDelegate.zr(r)),this.serializer=new MV(n),this.jr=new qV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new $V(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const s=new XV(this.$r.next());return this.referenceDelegate.Hr(),r(s).next(o=>this.referenceDelegate.Jr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Yr(e,n){return se.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class XV extends xL{constructor(e){super(),this.currentSequenceNumber=e}}class qv{constructor(e){this.persistence=e,this.Zr=new Hv,this.Xr=null}static ei(e){return new qv(e)}get ti(){if(this.Xr)return this.Xr;throw Me()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),se.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(s=>this.ti.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.ti,r=>{const s=Re.fromPath(r);return this.ni(e,s).next(o=>{o||n.removeEntry(s,Pe.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return se.or([()=>se.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class zh{constructor(e,n){this.persistence=e,this.ri=new Io(r=>IL(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=BV(this,n)}static ei(e,n){return new zh(e,n)}Hr(){}Jr(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return se.forEach(this.ri,(r,s)=>this.ir(e,r,s).next(o=>o?se.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.Lr(e,c=>this.ir(e,c,n).next(d=>{d||(r++,o.removeEntry(c,Pe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),se.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vh(e.data.value)),n}ir(e,n,r){return se.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.ri.get(n);return se.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=s}static zi(e,n){let r=Ke(),s=Ke();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Gv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return xM()?8:RL(Rn())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.Xi(e,n).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.es(e,n,s,r).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new ZV;return this.ts(e,n,c).next(d=>{if(o.result=d,this.Hi)return this.ns(e,n,c,d.size)})}).next(()=>o.result)}ns(e,n,r,s){return r.documentReadCount<this.Ji?(Cl()<=Ye.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Il(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),se.resolve()):(Cl()<=Ye.DEBUG&&ge("QueryEngine","Query:",Il(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Yi*s?(Cl()<=Ye.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Il(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(n))):se.resolve())}Xi(e,n){if(sT(n))return se.resolve(null);let r=ui(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Uy(n,null,"F"),r=ui(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const c=Ke(...o);return this.Zi.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.rs(n,d);return this.ss(n,m,c,f.readTime)?this.Xi(e,Uy(n,null,"F")):this.os(e,m,n,f)}))})))}es(e,n,r,s){return sT(n)||s.isEqual(Pe.min())?se.resolve(null):this.Zi.getDocuments(e,r).next(o=>{const c=this.rs(n,o);return this.ss(n,c,r,s)?se.resolve(null):(Cl()<=Ye.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Il(n)),this.os(e,c,n,bL(s,-1)).next(d=>d))})}rs(e,n){let r=new en(sA(e));return n.forEach((s,o)=>{hm(e,o)&&(r=r.add(o))}),r}ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ts(e,n,r){return Cl()<=Ye.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Il(n)),this.Zi.getDocumentsMatchingQuery(e,n,da.min(),r)}os(e,n,r,s){return this.Zi.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e,n,r,s){this.persistence=e,this._s=n,this.serializer=s,this.us=new It(Je),this.cs=new Io(o=>Pv(o),Lv),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HV(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function tj(t,e,n,r){return new ej(t,e,n,r)}async function RA(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],d=[];let f=Ke();for(const m of s){c.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of o){d.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return n.localDocuments.getDocuments(r,f).next(m=>({Ts:m,removedBatchIds:c,addedBatchIds:d}))})})}function nj(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.hs.newChangeBuffer({trackRemovals:!0});return function(d,f,m,y){const v=m.batch,b=v.keys();let A=se.resolve();return b.forEach(x=>{A=A.next(()=>y.getEntry(f,x)).next(R=>{const C=m.docVersions.get(x);ct(C!==null),R.version.compareTo(C)<0&&(v.applyToRemoteDocument(R,m),R.isValidDocument()&&(R.setReadTime(m.commitVersion),y.addEntry(R)))})}),A.next(()=>d.mutationQueue.removeMutationBatch(f,v))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=Ke();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function CA(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function rj(t,e){const n=Ve(t),r=e.snapshotVersion;let s=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=n.hs.newChangeBuffer({trackRemovals:!0});s=n.us;const d=[];e.targetChanges.forEach((y,v)=>{const b=s.get(v);if(!b)return;d.push(n.Gr.removeMatchingKeys(o,y.removedDocuments,v).next(()=>n.Gr.addMatchingKeys(o,y.addedDocuments,v)));let A=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?A=A.withResumeToken(yn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,r)),s=s.insert(v,A),function(R,C,I){return R.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(b,A,y)&&d.push(n.Gr.updateTargetData(o,A))});let f=os(),m=Ke();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,y))}),d.push(ij(o,c,e.documentUpdates).next(y=>{f=y.Is,m=y.Es})),!r.isEqual(Pe.min())){const y=n.Gr.getLastRemoteSnapshotVersion(o).next(v=>n.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));d.push(y)}return se.waitFor(d).next(()=>c.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,f,m)).next(()=>f)}).then(o=>(n.us=s,o))}function ij(t,e,n){let r=Ke(),s=Ke();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let c=os();return n.forEach((d,f)=>{const m=o.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(Pe.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):ge("LocalStore","Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),{Is:c,Es:s}})}function sj(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function aj(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Gr.getTargetData(r,e).next(o=>o?(s=o,se.resolve(s)):n.Gr.allocateTargetId(r).next(c=>(s=new na(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.us.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function qy(t,e,n){const r=Ve(t),s=r.us.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!ac(c))throw c;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.us=r.us.remove(e),r.cs.delete(s.target)}function yT(t,e,n){const r=Ve(t);let s=Pe.min(),o=Ke();return r.persistence.runTransaction("Execute query","readwrite",c=>function(f,m,y){const v=Ve(f),b=v.cs.get(y);return b!==void 0?se.resolve(v.us.get(b)):v.Gr.getTargetData(m,y)}(r,c,ui(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(c,d.targetId).next(f=>{o=f})}).next(()=>r._s.getDocumentsMatchingQuery(c,e,n?s:Pe.min(),n?o:Ke())).next(d=>(oj(r,$L(e),d),{documents:d,ds:o})))}function oj(t,e,n){let r=t.ls.get(e)||Pe.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ls.set(e,r)}class vT{constructor(){this.activeTargetIds=JL()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lj{constructor(){this._o=new vT,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new vT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh=null;function sy(){return nh===null?nh=function(){return 268435456+Math.round(2147483648*Math.random())}():nh++,"0x"+nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="WebChannelConnection";class fj extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${s}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Oo(n,r,s,o,c){const d=sy(),f=this.No(n,r.toUriEncodedString());ge("RestConnection",`Sending RPC '${n}' ${d}:`,f,s);const m={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(m,o,c),this.Bo(n,f,m,s).then(y=>(ge("RestConnection",`Received RPC '${n}' ${d}: `,y),y),y=>{throw Hl("RestConnection",`RPC '${n}' ${d} failed with error: `,y,"url: ",f,"request:",s),y})}ko(n,r,s,o,c,d){return this.Oo(n,r,s,o,c)}Lo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ic}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,c)=>n[c]=o),s&&s.headers.forEach((o,c)=>n[c]=o)}No(n,r){const s=uj[n];return`${this.Fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,s){const o=sy();return new Promise((c,d)=>{const f=new z1;f.setWithCredentials(!0),f.listenOnce(F1.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case yh.NO_ERROR:const y=f.getResponseJson();ge(Sn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),c(y);break;case yh.TIMEOUT:ge(Sn,`RPC '${e}' ${o} timed out`),d(new Ee(oe.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const v=f.getStatus();if(ge(Sn,`RPC '${e}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const A=b==null?void 0:b.error;if(A&&A.status&&A.message){const x=function(C){const I=C.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(I)>=0?I:oe.UNKNOWN}(A.status);d(new Ee(x,A.message))}else d(new Ee(oe.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Ee(oe.UNAVAILABLE,"Connection failed."));break;default:Me()}}finally{ge(Sn,`RPC '${e}' ${o} completed.`)}});const m=JSON.stringify(s);ge(Sn,`RPC '${e}' ${o} sending request:`,s),f.send(n,"POST",m,r,15)})}qo(e,n,r){const s=sy(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=G1(),d=q1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Lo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const y=o.join("");ge(Sn,`Creating RPC '${e}' stream ${s}: ${y}`,f);const v=c.createWebChannel(y,f);let b=!1,A=!1;const x=new dj({Eo:C=>{A?ge(Sn,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(b||(ge(Sn,`Opening RPC '${e}' stream ${s} transport.`),v.open(),b=!0),ge(Sn,`RPC '${e}' stream ${s} sending:`,C),v.send(C))},Ao:()=>v.close()}),R=(C,I,D)=>{C.listen(I,j=>{try{D(j)}catch(H){setTimeout(()=>{throw H},0)}})};return R(v,Ru.EventType.OPEN,()=>{A||(ge(Sn,`RPC '${e}' stream ${s} transport opened.`),x.So())}),R(v,Ru.EventType.CLOSE,()=>{A||(A=!0,ge(Sn,`RPC '${e}' stream ${s} transport closed`),x.Do())}),R(v,Ru.EventType.ERROR,C=>{A||(A=!0,Hl(Sn,`RPC '${e}' stream ${s} transport errored:`,C),x.Do(new Ee(oe.UNAVAILABLE,"The operation could not be completed")))}),R(v,Ru.EventType.MESSAGE,C=>{var I;if(!A){const D=C.data[0];ct(!!D);const j=D,H=(j==null?void 0:j.error)||((I=j[0])===null||I===void 0?void 0:I.error);if(H){ge(Sn,`RPC '${e}' stream ${s} received error:`,H);const $=H.status;let Z=function(O){const L=$t[O];if(L!==void 0)return gA(L)}($),k=H.message;Z===void 0&&(Z=oe.INTERNAL,k="Unknown error status: "+$+" with message "+H.message),A=!0,x.Do(new Ee(Z,k)),v.close()}else ge(Sn,`RPC '${e}' stream ${s} received:`,D),x.vo(D)}}),R(d,H1.STAT_EVENT,C=>{C.stat===My.PROXY?ge(Sn,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===My.NOPROXY&&ge(Sn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.bo()},0),x}}function ay(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t){return new _V(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n,r=1e3,s=1.5,o=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=s,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),s=Math.max(0,n-r);s>0&&ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n,r,s,o,c,d,f){this.li=e,this.Yo=r,this.Zo=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new IA(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(as(n.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Xo===n&&this.I_(r,s)},r=>{e(()=>{const s=new Ee(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(s)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{r(()=>this.E_(s))}),this.stream.onMessage(s=>{r(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hj extends DA{constructor(e,n,r,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,c),this.serializer=o}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=bV(this.serializer,e),r=function(o){if(!("targetChange"in o))return Pe.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Pe.min():c.readTime?di(c.readTime):Pe.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=Hy(this.serializer),n.addTarget=function(o,c){let d;const f=c.target;if(d=Vy(f)?{documents:AV(o,f)}:{query:xV(o,f).ct},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=_A(o,c.resumeToken);const m=By(o,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(Pe.min())>0){d.readTime=Bh(o,c.snapshotVersion.toTimestamp());const m=By(o,c.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const r=CV(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=Hy(this.serializer),n.removeTarget=e,this.c_(n)}}class mj extends DA{constructor(e,n,r,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,c),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return ct(!!e.streamToken),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=SV(e.writeResults,e.commitTime),r=di(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=Hy(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>TV(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new Ee(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Oo(e,zy(n,r),s,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ee(oe.UNKNOWN,o.toString())})}ko(e,n,r,s,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.ko(e,zy(n,r),s,c,d,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ee(oe.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class gj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(as(n),this.C_=!1):ge("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(c=>{r.enqueueAndForget(async()=>{Do(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(f){const m=Ve(f);m.k_.add(4),await vd(m),m.K_.set("Unknown"),m.k_.delete(4),await vm(m)}(this))})}),this.K_=new gj(r,s)}}async function vm(t){if(Do(t))for(const e of t.q_)await e(!0)}async function vd(t){for(const e of t.q_)await e(!1)}function NA(t,e){const n=Ve(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Kv(n)?Yv(n):oc(n).s_()&&$v(n,e))}function Wv(t,e){const n=Ve(t),r=oc(n);n.B_.delete(e),r.s_()&&OA(n,e),n.B_.size===0&&(r.s_()?r.a_():Do(n)&&n.K_.set("Unknown"))}function $v(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}oc(t).V_(e)}function OA(t,e){t.U_.xe(e),oc(t).m_(e)}function Yv(t){t.U_=new pV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),oc(t).start(),t.K_.F_()}function Kv(t){return Do(t)&&!oc(t).i_()&&t.B_.size>0}function Do(t){return Ve(t).k_.size===0}function MA(t){t.U_=void 0}async function vj(t){t.K_.set("Online")}async function _j(t){t.B_.forEach((e,n)=>{$v(t,e)})}async function wj(t,e){MA(t),Kv(t)?(t.K_.O_(e),Yv(t)):t.K_.set("Unknown")}async function Ej(t,e,n){if(t.K_.set("Online"),e instanceof vA&&e.state===2&&e.cause)try{await async function(s,o){const c=o.cause;for(const d of o.targetIds)s.B_.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.B_.delete(d),s.U_.removeTarget(d))}(t,e)}catch(r){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fh(t,r)}else if(e instanceof Eh?t.U_.$e(e):e instanceof yA?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(Pe.min()))try{const r=await CA(t.localStore);n.compareTo(r)>=0&&await function(o,c){const d=o.U_.it(c);return d.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.B_.get(m);y&&o.B_.set(m,y.withResumeToken(f.resumeToken,c))}}),d.targetMismatches.forEach((f,m)=>{const y=o.B_.get(f);if(!y)return;o.B_.set(f,y.withResumeToken(yn.EMPTY_BYTE_STRING,y.snapshotVersion)),OA(o,f);const v=new na(y.target,f,m,y.sequenceNumber);$v(o,v)}),o.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(r){ge("RemoteStore","Failed to raise snapshot:",r),await Fh(t,r)}}async function Fh(t,e,n){if(!ac(e))throw e;t.k_.add(1),await vd(t),t.K_.set("Offline"),n||(n=()=>CA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await vm(t)})}function kA(t,e){return e().catch(n=>Fh(t,n,e))}async function _m(t){const e=Ve(t),n=pa(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;bj(e);)try{const s=await sj(e.localStore,r);if(s===null){e.L_.length===0&&n.a_();break}r=s.batchId,Tj(e,s)}catch(s){await Fh(e,s)}PA(e)&&LA(e)}function bj(t){return Do(t)&&t.L_.length<10}function Tj(t,e){t.L_.push(e);const n=pa(t);n.s_()&&n.f_&&n.g_(e.mutations)}function PA(t){return Do(t)&&!pa(t).i_()&&t.L_.length>0}function LA(t){pa(t).start()}async function Sj(t){pa(t).w_()}async function Aj(t){const e=pa(t);for(const n of t.L_)e.g_(n.mutations)}async function xj(t,e,n){const r=t.L_.shift(),s=Bv.from(r,e,n);await kA(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await _m(t)}async function Rj(t,e){e&&pa(t).f_&&await async function(r,s){if(function(c){return fV(c)&&c!==oe.ABORTED}(s.code)){const o=r.L_.shift();pa(r).__(),await kA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await _m(r)}}(t,e),PA(t)&&LA(t)}async function wT(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const r=Do(n);n.k_.add(3),await vd(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await vm(n)}async function Cj(t,e){const n=Ve(t);e?(n.k_.delete(2),await vm(n)):e||(n.k_.add(2),await vd(n),n.K_.set("Unknown"))}function oc(t){return t.W_||(t.W_=function(n,r,s){const o=Ve(n);return o.b_(),new hj(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Ro:vj.bind(null,t),mo:_j.bind(null,t),po:wj.bind(null,t),R_:Ej.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),Kv(t)?Yv(t):t.K_.set("Unknown")):(await t.W_.stop(),MA(t))})),t.W_}function pa(t){return t.G_||(t.G_=function(n,r,s){const o=Ve(n);return o.b_(),new mj(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:Sj.bind(null,t),po:Rj.bind(null,t),p_:Aj.bind(null,t),y_:xj.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await _m(t)):(await t.G_.stop(),t.L_.length>0&&(ge("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new uo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const c=Date.now()+r,d=new Qv(e,n,c,s,o);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xv(t,e){if(as("AsyncQueue",`${e}: ${t}`),ac(t))return new Ee(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{static emptySet(e){return new Pl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Re.comparator(n.key,r.key):(n,r)=>Re.comparator(n.key,r.key),this.keyedMap=Cu(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Pl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.z_=new It(Re.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Me():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Kl{constructor(e,n,r,s,o,c,d,f,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,s,o){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new Kl(e,n,Pl.emptySet(n),c,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class Dj{constructor(){this.queries=bT(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const s=Ve(n),o=s.queries;s.queries=bT(),o.forEach((c,d)=>{for(const f of d.J_)f.onError(r)})})(this,new Ee(oe.ABORTED,"Firestore shutting down"))}}function bT(){return new Io(t=>iA(t),fm)}async function Nj(t,e){const n=Ve(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.Y_()&&e.Z_()&&(r=2):(o=new Ij,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=await n.onListen(s,!0);break;case 1:o.H_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(c){const d=Xv(c,`Initialization of query '${Il(e.query)}' failed`);return void e.onError(d)}n.queries.set(s,o),o.J_.push(e),e.ea(n.onlineState),o.H_&&e.ta(o.H_)&&Zv(n)}async function Oj(t,e){const n=Ve(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const c=o.J_.indexOf(e);c>=0&&(o.J_.splice(c,1),o.J_.length===0?s=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Mj(t,e){const n=Ve(t);let r=!1;for(const s of e){const o=s.query,c=n.queries.get(o);if(c){for(const d of c.J_)d.ta(s)&&(r=!0);c.H_=s}}r&&Zv(n)}function kj(t,e,n){const r=Ve(t),s=r.queries.get(e);if(s)for(const o of s.J_)o.onError(n);r.queries.delete(e)}function Zv(t){t.X_.forEach(e=>{e.next()})}var Gy,TT;(TT=Gy||(Gy={})).na="default",TT.Cache="cache";class Pj{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Kl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Gy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e){this.key=e}}class jA{constructor(e){this.key=e}}class Lj{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ke(),this.mutatedKeys=Ke(),this.Va=sA(e),this.ma=new Pl(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new ET,s=n?n.ma:this.ma;let o=n?n.mutatedKeys:this.mutatedKeys,c=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,v)=>{const b=s.get(y),A=hm(this.query,v)?v:null,x=!!b&&this.mutatedKeys.has(b.key),R=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let C=!1;b&&A?b.data.isEqual(A.data)?x!==R&&(r.track({type:3,doc:A}),C=!0):this.ya(b,A)||(r.track({type:2,doc:A}),C=!0,(f&&this.Va(A,f)>0||m&&this.Va(A,m)<0)&&(d=!0)):!b&&A?(r.track({type:0,doc:A}),C=!0):b&&!A&&(r.track({type:1,doc:b}),C=!0,(f||m)&&(d=!0)),C&&(A?(c=c.add(A),o=R?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{ma:c,pa:r,ss:d,mutatedKeys:o}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((y,v)=>function(A,x){const R=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me()}};return R(A)-R(x)}(y.type,v.type)||this.Va(y.doc,v.doc)),this.wa(r),s=s!=null&&s;const d=n&&!s?this.Sa():[],f=this.Ra.size===0&&this.current&&!s?1:0,m=f!==this.Aa;return this.Aa=f,c.length!==0||m?{snapshot:new Kl(this.query,e.ma,o,c,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new ET,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ke(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new jA(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new VA(r))}),n}va(e){this.da=e.ds,this.Ra=Ke();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Kl.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Vj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jj{constructor(e){this.key=e,this.Fa=!1}}class Uj{constructor(e,n,r,s,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new Io(d=>iA(d),fm),this.Oa=new Map,this.Na=new Set,this.La=new It(Re.comparator),this.Ba=new Map,this.ka=new Hv,this.qa={},this.Qa=new Map,this.Ka=Yl.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Bj(t,e,n=!0){const r=qA(t);let s;const o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Ca()):s=await UA(r,e,n,!0),s}async function zj(t,e){const n=qA(t);await UA(n,e,!0,!1)}async function UA(t,e,n,r){const s=await aj(t.localStore,ui(e)),o=s.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let d;return r&&(d=await Fj(t,e,o,c==="current",s.resumeToken)),t.isPrimaryClient&&n&&NA(t.remoteStore,s),d}async function Fj(t,e,n,r,s){t.Ua=(v,b,A)=>async function(R,C,I,D){let j=C.view.ga(I);j.ss&&(j=await yT(R.localStore,C.query,!1).then(({documents:k})=>C.view.ga(k,j)));const H=D&&D.targetChanges.get(C.targetId),$=D&&D.targetMismatches.get(C.targetId)!=null,Z=C.view.applyChanges(j,R.isPrimaryClient,H,$);return AT(R,C.targetId,Z.ba),Z.snapshot}(t,v,b,A);const o=await yT(t.localStore,e,!0),c=new Lj(e,o.ds),d=c.ga(o.documents),f=yd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),m=c.applyChanges(d,t.isPrimaryClient,f);AT(t,n,m.ba);const y=new Vj(e,n,c);return t.xa.set(e,y),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),m.snapshot}async function Hj(t,e,n){const r=Ve(t),s=r.xa.get(e),o=r.Oa.get(s.targetId);if(o.length>1)return r.Oa.set(s.targetId,o.filter(c=>!fm(c,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await qy(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Wv(r.remoteStore,s.targetId),Wy(r,s.targetId)}).catch(sc)):(Wy(r,s.targetId),await qy(r.localStore,s.targetId,!0))}async function qj(t,e){const n=Ve(t),r=n.xa.get(e),s=n.Oa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wv(n.remoteStore,r.targetId))}async function Gj(t,e,n){const r=Zj(t);try{const s=await function(c,d){const f=Ve(c),m=Qe.now(),y=d.reduce((A,x)=>A.add(x.key),Ke());let v,b;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>{let x=os(),R=Ke();return f.hs.getEntries(A,y).next(C=>{x=C,x.forEach((I,D)=>{D.isValidDocument()||(R=R.add(I))})}).next(()=>f.localDocuments.getOverlayedDocuments(A,x)).next(C=>{v=C;const I=[];for(const D of d){const j=oV(D,v.get(D.key).overlayedDocument);j!=null&&I.push(new wa(D.key,j,Q1(j.value.mapValue),Or.exists(!0)))}return f.mutationQueue.addMutationBatch(A,m,I,d)}).next(C=>{b=C;const I=C.applyToLocalDocumentSet(v,R);return f.documentOverlayCache.saveOverlays(A,C.batchId,I)})}).then(()=>({batchId:b.batchId,changes:oA(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(c,d,f){let m=c.qa[c.currentUser.toKey()];m||(m=new It(Je)),m=m.insert(d,f),c.qa[c.currentUser.toKey()]=m}(r,s.batchId,n),await _d(r,s.changes),await _m(r.remoteStore)}catch(s){const o=Xv(s,"Failed to persist write");n.reject(o)}}async function BA(t,e){const n=Ve(t);try{const r=await rj(n.localStore,e);e.targetChanges.forEach((s,o)=>{const c=n.Ba.get(o);c&&(ct(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.Fa=!0:s.modifiedDocuments.size>0?ct(c.Fa):s.removedDocuments.size>0&&(ct(c.Fa),c.Fa=!1))}),await _d(n,r,e)}catch(r){await sc(r)}}function ST(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.xa.forEach((o,c)=>{const d=c.view.ea(e);d.snapshot&&s.push(d.snapshot)}),function(c,d){const f=Ve(c);f.onlineState=d;let m=!1;f.queries.forEach((y,v)=>{for(const b of v.J_)b.ea(d)&&(m=!0)}),m&&Zv(f)}(r.eventManager,e),s.length&&r.Ma.R_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Wj(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ba.get(e),o=s&&s.key;if(o){let c=new It(Re.comparator);c=c.insert(o,xn.newNoDocument(o,Pe.min()));const d=Ke().add(o),f=new gm(Pe.min(),new Map,new It(Je),c,d);await BA(r,f),r.La=r.La.remove(o),r.Ba.delete(e),Jv(r)}else await qy(r.localStore,e,!1).then(()=>Wy(r,e,n)).catch(sc)}async function $j(t,e){const n=Ve(t),r=e.batch.batchId;try{const s=await nj(n.localStore,e);FA(n,r,null),zA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _d(n,s)}catch(s){await sc(s)}}async function Yj(t,e,n){const r=Ve(t);try{const s=await function(c,d){const f=Ve(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return f.mutationQueue.lookupMutationBatch(m,d).next(v=>(ct(v!==null),y=v.keys(),f.mutationQueue.removeMutationBatch(m,v))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>f.localDocuments.getDocuments(m,y))})}(r.localStore,e);FA(r,e,n),zA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _d(r,s)}catch(s){await sc(s)}}function zA(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function FA(t,e,n){const r=Ve(t);let s=r.qa[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.qa[r.currentUser.toKey()]=s}}function Wy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||HA(t,r)})}function HA(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(Wv(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),Jv(t))}function AT(t,e,n){for(const r of n)r instanceof VA?(t.ka.addReference(r.key,e),Kj(t,r)):r instanceof jA?(ge("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||HA(t,r.key)):Me()}function Kj(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(ge("SyncEngine","New document in limbo: "+n),t.Na.add(r),Jv(t))}function Jv(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new Re(bt.fromString(e)),r=t.Ka.next();t.Ba.set(r,new jj(n)),t.La=t.La.insert(n,r),NA(t.remoteStore,new na(ui(Vv(n.path)),r,"TargetPurposeLimboResolution",cm.oe))}}async function _d(t,e,n){const r=Ve(t),s=[],o=[],c=[];r.xa.isEmpty()||(r.xa.forEach((d,f)=>{c.push(r.Ua(f,e,n).then(m=>{var y;if((m||n)&&r.isPrimaryClient){const v=m?!m.fromCache:(y=n==null?void 0:n.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(m){s.push(m);const v=Gv.zi(f.targetId,m);o.push(v)}}))}),await Promise.all(c),r.Ma.R_(s),await async function(f,m){const y=Ve(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>se.forEach(m,b=>se.forEach(b.Wi,A=>y.persistence.referenceDelegate.addReference(v,b.targetId,A)).next(()=>se.forEach(b.Gi,A=>y.persistence.referenceDelegate.removeReference(v,b.targetId,A)))))}catch(v){if(!ac(v))throw v;ge("LocalStore","Failed to update sequence numbers: "+v)}for(const v of m){const b=v.targetId;if(!v.fromCache){const A=y.us.get(b),x=A.snapshotVersion,R=A.withLastLimboFreeSnapshotVersion(x);y.us=y.us.insert(b,R)}}}(r.localStore,o))}async function Qj(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const r=await RA(n.localStore,e);n.currentUser=e,function(o,c){o.Qa.forEach(d=>{d.forEach(f=>{f.reject(new Ee(oe.CANCELLED,c))})}),o.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _d(n,r.Ts)}}function Xj(t,e){const n=Ve(t),r=n.Ba.get(e);if(r&&r.Fa)return Ke().add(r.key);{let s=Ke();const o=n.Oa.get(e);if(!o)return s;for(const c of o){const d=n.xa.get(c);s=s.unionWith(d.view.fa)}return s}}function qA(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Wj.bind(null,e),e.Ma.R_=Mj.bind(null,e.eventManager),e.Ma.Wa=kj.bind(null,e.eventManager),e}function Zj(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$j.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Yj.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ym(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return tj(this.persistence,new JV,e.initialUser,this.serializer)}ja(e){return new xA(qv.ei,this.serializer)}za(e){return new lj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class Jj extends Hh{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){ct(this.persistence.referenceDelegate instanceof zh);const r=this.persistence.referenceDelegate.garbageCollector;return new jV(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new xA(r=>zh.ei(r,n),this.serializer)}}class $y{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ST(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Qj.bind(null,this.syncEngine),await Cj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Dj}()}createDatastore(e){const n=ym(e.databaseInfo.databaseId),r=function(o){return new fj(o)}(e.databaseInfo);return function(o,c,d,f){return new pj(o,c,d,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,c,d){return new yj(r,s,o,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>ST(this.syncEngine,n,0),function(){return _T.p()?new _T:new cj}())}createSyncEngine(e,n){return function(s,o,c,d,f,m,y){const v=new Uj(s,o,c,d,f,m);return y&&(v.$a=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=Ve(s);ge("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await vd(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}$y.provider={build:()=>new $y};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):as("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=An.UNAUTHENTICATED,this.clientId=$1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async c=>{ge("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(ge("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new uo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Xv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function oy(t,e){t.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await RA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function xT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await n4(t);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>wT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>wT(e.remoteStore,s)),t._onlineComponents=e}async function n4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await oy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===oe.FAILED_PRECONDITION||s.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Hl("Error using user provided cache. Falling back to memory cache: "+n),await oy(t,new Hh)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await oy(t,new Jj(void 0));return t._offlineComponents}async function GA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await xT(t,t._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await xT(t,new $y))),t._onlineComponents}function r4(t){return GA(t).then(e=>e.syncEngine)}async function RT(t){const e=await GA(t),n=e.eventManager;return n.onListen=Bj.bind(null,e.syncEngine),n.onUnlisten=Hj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=qj.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(t,e,n){if(!n)throw new Ee(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function i4(t,e,n,r){if(e===!0&&r===!0)throw new Ee(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function IT(t){if(!Re.isDocumentKey(t))throw new Ee(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function DT(t){if(Re.isDocumentKey(t))throw new Ee(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me()}function sa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ee(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wm(t);throw new Ee(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ee(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ee(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ee(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ee(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Em{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hL;switch(r.type){case"firstParty":return new yL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ee(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=CT.get(n);r&&(ge("ComponentProvider","Removing Datastore"),CT.delete(n),r.terminate())}(this),Promise.resolve()}}function s4(t,e,n,r={}){var s;const o=(t=sa(t,Em))._getSettings(),c=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==c&&Hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:c,ssl:!1})),r.mockUserToken){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=An.MOCK_USER;else{d=ZS(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Ee(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new An(m)}t._authCredentials=new mL(new W1(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new lc(this.firestore,e,this._query)}}class zn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class aa extends lc{constructor(e,n,r){super(e,n,Vv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new Re(e))}withConverter(e){return new aa(this.firestore,e,this._path)}}function Mn(t,e,...n){if(t=Ct(t),$A("collection","path",e),t instanceof Em){const r=bt.fromString(e,...n);return DT(r),new aa(t,null,r)}{if(!(t instanceof zn||t instanceof aa))throw new Ee(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bt.fromString(e,...n));return DT(r),new aa(t.firestore,null,r)}}function fi(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=$1.newId()),$A("doc","path",e),t instanceof Em){const r=bt.fromString(e,...n);return IT(r),new zn(t,null,new Re(r))}{if(!(t instanceof zn||t instanceof aa))throw new Ee(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bt.fromString(e,...n));return IT(r),new zn(t.firestore,t instanceof aa?t.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new IA(this,"async_queue_retry"),this.fu=()=>{const r=ay();r&&ge("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=ay();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=ay();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new uo;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ac(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const s=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(r);throw as("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const s=Qv.createAndSchedule(this,e,n,r,o=>this.Su(o));return this.du.push(s),s}pu(){this.Au&&Me()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}function MT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Ql extends Em{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new OT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new OT(e),this._firestoreClient=void 0,await e}}}function a4(t,e){const n=typeof t=="object"?t:Ev(),r=typeof t=="string"?t:"(default)",s=sm(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=KS("firestore");o&&s4(s,...o)}return s}function YA(t){if(t._terminated)throw new Ee(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||o4(t),t._firestoreClient}function o4(t){var e,n,r;const s=t._freezeSettings(),o=function(d,f,m,y){return new OL(d,f,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,WA(y.experimentalLongPollingOptions),y.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new t4(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xl(yn.fromBase64String(e))}catch(n){throw new Ee(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xl(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=/^__.*__$/;class c4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wa(e,this.data,this.fieldMask,n,this.fieldTransforms):new gd(e,this.data,n,this.fieldTransforms)}}class KA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function QA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me()}}class Sm{constructor(e,n,r,s,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Sm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:r,Nu:!1});return s.Lu(e),s}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:r,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return qh(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(QA(this.Mu)&&l4.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class u4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ym(e)}$u(e,n,r,s=!1){return new Sm({Mu:e,methodName:n,Ku:r,path:gn.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function n_(t){const e=t._freezeSettings(),n=ym(t._databaseId);return new u4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function d4(t,e,n,r,s,o={}){const c=t.$u(o.merge||o.mergeFields?2:0,e,n,s);i_("Data must be an object, but it was:",c,r);const d=XA(r,c);let f,m;if(o.merge)f=new Zn(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const v of o.mergeFields){const b=Yy(e,v,n);if(!c.contains(b))throw new Ee(oe.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);JA(y,b)||y.push(b)}f=new Zn(y),m=c.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,m=c.fieldTransforms;return new c4(new Bn(d),f,m)}class Am extends Tm{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Am}}function f4(t,e,n){return new Sm({Mu:3,Ku:e.settings.Ku,methodName:t._methodName,Nu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class r_ extends Tm{constructor(e,n){super(e),this.Uu=n}_toFieldTransform(e){const n=f4(this,e,!0),r=this.Uu.map(o=>cc(o,n)),s=new $l(r);return new rV(e.path,s)}isEqual(e){return e instanceof r_&&Hu(this.Uu,e.Uu)}}function h4(t,e,n,r){const s=t.$u(1,e,n);i_("Data must be an object, but it was:",s,r);const o=[],c=Bn.empty();_a(r,(f,m)=>{const y=s_(e,f,n);m=Ct(m);const v=s.Bu(y);if(m instanceof Am)o.push(y);else{const b=cc(m,v);b!=null&&(o.push(y),c.set(y,b))}});const d=new Zn(o);return new KA(c,d,s.fieldTransforms)}function m4(t,e,n,r,s,o){const c=t.$u(1,e,n),d=[Yy(e,r,n)],f=[s];if(o.length%2!=0)throw new Ee(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)d.push(Yy(e,o[b])),f.push(o[b+1]);const m=[],y=Bn.empty();for(let b=d.length-1;b>=0;--b)if(!JA(m,d[b])){const A=d[b];let x=f[b];x=Ct(x);const R=c.Bu(A);if(x instanceof Am)m.push(A);else{const C=cc(x,R);C!=null&&(m.push(A),y.set(A,C))}}const v=new Zn(m);return new KA(y,v,c.fieldTransforms)}function p4(t,e,n,r=!1){return cc(n,t.$u(r?4:3,e))}function cc(t,e){if(ZA(t=Ct(t)))return i_("Unsupported field value:",e,t),XA(t,e);if(t instanceof Tm)return function(r,s){if(!QA(s.Mu))throw s.qu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,s){const o=[];let c=0;for(const d of r){let f=cc(d,s.ku(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Qe.fromDate(r);return{timestampValue:Bh(s.serializer,o)}}if(r instanceof Qe){const o=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bh(s.serializer,o)}}if(r instanceof e_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xl)return{bytesValue:_A(s.serializer,r._byteString)};if(r instanceof zn){const o=s.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw s.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Fv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof t_)return function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(f=>{if(typeof f!="number")throw d.qu("VectorValues must only contain numeric values.");return jv(d.serializer,f)})}}}}}}(r,s);throw s.qu(`Unsupported field value: ${wm(r)}`)}(t,e)}function XA(t,e){const n={};return Y1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_a(t,(r,s)=>{const o=cc(s,e.Ou(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function ZA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof e_||t instanceof Xl||t instanceof zn||t instanceof Tm||t instanceof t_)}function i_(t,e,n){if(!ZA(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=wm(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function Yy(t,e,n){if((e=Ct(e))instanceof bm)return e._internalPath;if(typeof e=="string")return s_(t,e);throw qh("Field path arguments must be of type string or ",t,!1,void 0,n)}const g4=new RegExp("[~\\*/\\[\\]]");function s_(t,e,n){if(e.search(g4)>=0)throw qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bm(...e.split("."))._internalPath}catch{throw qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qh(t,e,n,r,s){const o=r&&!r.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${r}`),c&&(f+=` in document ${s}`),f+=")"),new Ee(oe.INVALID_ARGUMENT,d+t+f)}function JA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new y4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(a_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class y4 extends ex{data(){return super.data()}}function a_(t,e){return typeof e=="string"?s_(t,e):e instanceof bm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ee(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class o_{}class _4 extends o_{}function Ea(t,e,...n){let r=[];e instanceof o_&&r.push(e),r=r.concat(n),function(o){const c=o.filter(f=>f instanceof l_).length,d=o.filter(f=>f instanceof xm).length;if(c>1||c>0&&d>0)throw new Ee(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class xm extends _4{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xm(e,n,r)}_apply(e){const n=this._parse(e);return tx(e._query,n),new lc(e.firestore,e.converter,jy(e._query,n))}_parse(e){const n=n_(e.firestore);return function(o,c,d,f,m,y,v){let b;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Ee(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){PT(v,y);const A=[];for(const x of v)A.push(kT(f,o,x));b={arrayValue:{values:A}}}else b=kT(f,o,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||PT(v,y),b=p4(d,c,v,y==="in"||y==="not-in");return Yt.create(m,y,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ba(t,e,n){const r=e,s=a_("where",t);return xm._create(s,r,n)}class l_ extends o_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new l_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Mr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let c=s;const d=o.getFlattenedFilters();for(const f of d)tx(c,f),c=jy(c,f)}(e._query,n),new lc(e.firestore,e.converter,jy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function kT(t,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rA(e)&&n.indexOf("/")!==-1)throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(bt.fromString(n));if(!Re.isDocumentKey(r))throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jb(t,new Re(r))}if(n instanceof zn)return Jb(t,n._key);throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wm(n)}.`)}function PT(t,e){if(!Array.isArray(t)||t.length===0)throw new Ee(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tx(t,e){const n=function(s,o){for(const c of s)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ee(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class w4{convertValue(e,n="none"){switch(ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _a(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,s;const o=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(c=>zt(c.doubleValue));return new t_(o)}convertGeoPoint(e){return new e_(zt(e.latitude),zt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($u(e));default:return null}}convertTimestamp(e){const n=fa(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=bt.fromString(e);ct(AA(r));const s=new Yu(r.get(1),r.get(3)),o=new Re(r.popFirst(5));return s.isEqual(n)||as(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nx extends ex{constructor(e,n,r,s,o,c){super(e,n,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(a_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class bh extends nx{data(e={}){return super.data(e)}}class b4{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Du(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bh(this._firestore,this._userDataWriter,r.key,r,new Du(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(d=>{const f=new bh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Du(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const f=new bh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Du(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,y=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:T4(d.type),doc:f,oldIndex:m,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function T4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me()}}class rx extends w4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,n)}}function Xu(t,e,n,...r){t=sa(t,zn);const s=sa(t.firestore,Ql),o=n_(s);let c;return c=typeof(e=Ct(e))=="string"||e instanceof bm?m4(o,"updateDoc",t._key,e,n,r):h4(o,"updateDoc",t._key,e),c_(s,[c.toMutation(t._key,Or.exists(!0))])}function Rm(t){return c_(sa(t.firestore,Ql),[new Uv(t._key,Or.none())])}function Eo(t,e){const n=sa(t.firestore,Ql),r=fi(t),s=E4(t.converter,e);return c_(n,[d4(n_(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Or.exists(!1))]).then(()=>r)}function Ta(t,...e){var n,r,s;t=Ct(t);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||MT(e[c])||(o=e[c],c++);const d={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(MT(e[c])){const v=e[c];e[c]=(n=v.next)===null||n===void 0?void 0:n.bind(v),e[c+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[c+2]=(s=v.complete)===null||s===void 0?void 0:s.bind(v)}let f,m,y;if(t instanceof zn)m=sa(t.firestore,Ql),y=Vv(t._key.path),f={next:v=>{e[c]&&e[c](S4(m,t,v))},error:e[c+1],complete:e[c+2]};else{const v=sa(t,lc);m=sa(v.firestore,Ql),y=v._query;const b=new rx(m);f={next:A=>{e[c]&&e[c](new b4(m,b,v,A))},error:e[c+1],complete:e[c+2]},v4(t._query)}return function(b,A,x,R){const C=new e4(R),I=new Pj(A,C,x);return b.asyncQueue.enqueueAndForget(async()=>Nj(await RT(b),I)),()=>{C.eu(),b.asyncQueue.enqueueAndForget(async()=>Oj(await RT(b),I))}}(YA(m),y,d,f)}function c_(t,e){return function(r,s){const o=new uo;return r.asyncQueue.enqueueAndForget(async()=>Gj(await r4(r),s,o)),o.promise}(YA(t),e)}function S4(t,e,n){const r=n.docs.get(e._key),s=new rx(t);return new nx(t,s,e._key,r,new Du(n.hasPendingWrites,n.fromCache),e.converter)}function A4(...t){return new r_("arrayUnion",t)}(function(e,n=!0){(function(s){ic=s})(Co),go(new ua("firestore",(r,{instanceIdentifier:s,options:o})=>{const c=r.getProvider("app").getImmediate(),d=new Ql(new pL(r.getProvider("auth-internal")),new _L(r.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ee(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yu(m.options.projectId,y)}(c,s),c);return o=Object.assign({useFetchStreams:n},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),oi($b,"4.7.5",e),oi($b,"4.7.5","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="firebasestorage.googleapis.com",x4="storageBucket",R4=2*60*1e3,C4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Ei{constructor(e,n,r=0){super(ly(e),`Firebase Storage: ${n} (${ly(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ly(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yi||(yi={}));function ly(t){return"storage/"+t}function I4(){const t="An unknown error occurred, please check the error payload for server response.";return new bi(yi.UNKNOWN,t)}function D4(){return new bi(yi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function N4(){return new bi(yi.CANCELED,"User canceled the upload/download.")}function O4(t){return new bi(yi.INVALID_URL,"Invalid URL '"+t+"'.")}function M4(t){return new bi(yi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function LT(t){return new bi(yi.INVALID_ARGUMENT,t)}function sx(){return new bi(yi.APP_DELETED,"The Firebase app was deleted.")}function k4(t){return new bi(yi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ir.makeFromUrl(e,n)}catch{return new Ir(e,"")}if(r.path==="")return r;throw M4(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+s+c,"i"),f={bucket:1,path:3};function m(H){H.path_=decodeURIComponent(H.path)}const y="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",A=new RegExp(`^https?://${v}/${y}/b/${s}/o${b}`,"i"),x={bucket:1,path:3},R=n===ix?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",I=new RegExp(`^https?://${R}/${s}/${C}`,"i"),j=[{regex:d,indices:f,postModify:o},{regex:A,indices:x,postModify:m},{regex:I,indices:{bucket:1,path:2},postModify:m}];for(let H=0;H<j.length;H++){const $=j[H],Z=$.regex.exec(e);if(Z){const k=Z[$.indices.bucket];let N=Z[$.indices.path];N||(N=""),r=new Ir(k,N),$.postModify(r);break}}if(r==null)throw O4(e);return r}}class P4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(t,e,n){let r=1,s=null,o=null,c=!1,d=0;function f(){return d===2}let m=!1;function y(...C){m||(m=!0,e.apply(null,C))}function v(C){s=setTimeout(()=>{s=null,t(A,f())},C)}function b(){o&&clearTimeout(o)}function A(C,...I){if(m){b();return}if(C){b(),y.call(null,C,...I);return}if(f()||c){b(),y.call(null,C,...I);return}r<64&&(r*=2);let j;d===1?(d=2,j=0):j=(r+Math.random())*1e3,v(j)}let x=!1;function R(C){x||(x=!0,b(),!m&&(s!==null?(C||(d=2),clearTimeout(s),v(0)):C||(d=1)))}return v(0),o=setTimeout(()=>{c=!0,R(!0)},n),R}function V4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(t){return t!==void 0}function VT(t,e,n,r){if(r<e)throw LT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw LT(`Invalid value for '${t}'. Expected ${n} or less.`)}function U4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Gh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Gh||(Gh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,n,r,s,o,c,d,f,m,y,v,b=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=v,this.retry=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,x)=>{this.resolve_=A,this.reject_=x,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new rh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=d=>{const f=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const d=o.getErrorCode()===Gh.NO_ERROR,f=o.getStatus();if(!d||B4(f,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===Gh.ABORT;r(!1,new rh(!1,null,y));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new rh(m,o))})},n=(r,s)=>{const o=this.resolve_,c=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());j4(f)?o(f):o()}catch(f){c(f)}else if(d!==null){const f=I4();f.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,f)):c(f)}else if(s.canceled){const f=this.appDelete_?sx():N4();c(f)}else{const f=D4();c(f)}};this.canceled_?n(!1,new rh(!1,null,!0)):this.backoffId_=L4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&V4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class rh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function F4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function H4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function q4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function G4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function W4(t,e,n,r,s,o,c=!0){const d=U4(t.urlParams),f=t.url+d,m=Object.assign({},t.headers);return q4(m,e),F4(m,n),H4(m,o),G4(m,r),new z4(f,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Y4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this._service=e,n instanceof Ir?this._location=n:this._location=Ir.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Wh(e,n)}get root(){const e=new Ir(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Y4(this._location.path)}get storage(){return this._service}get parent(){const e=$4(this._location.path);if(e===null)return null;const n=new Ir(this._location.bucket,e);return new Wh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw k4(e)}}function jT(t,e){const n=e==null?void 0:e[x4];return n==null?null:Ir.makeFromBucketSpec(n,t)}function K4(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:ZS(s,t.app.options.projectId))}class Q4{constructor(e,n,r,s,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=ix,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=R4,this._maxUploadRetryTime=C4,this._requests=new Set,s!=null?this._bucket=Ir.makeFromBucketSpec(s,this._host):this._bucket=jT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ir.makeFromBucketSpec(this._url,e):this._bucket=jT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){VT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){VT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wh(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new P4(sx());{const c=W4(e,this._appId,r,s,n,this._firebaseVersion,o);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const UT="@firebase/storage",BT="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="storage";function X4(t=Ev(),e){t=Ct(t);const r=sm(t,ax).getImmediate({identifier:e}),s=KS("storage");return s&&Z4(r,...s),r}function Z4(t,e,n,r={}){K4(t,e,n,r)}function J4(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Q4(n,r,s,e,Co)}function eU(){go(new ua(ax,J4,"PUBLIC").setMultipleInstances(!0)),oi(UT,BT,""),oi(UT,BT,"esm2017")}eU();const tU={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_URL:"http://localhost:3000",VITE_FIREBASE_API_KEY:"AIzaSyDKMpgaBvt8yzWFwOAiWjeXuMl0JuYgXBw",VITE_FIREBASE_APP_ID:"1:420972725621:web:18bc3cabe54a8269d93f3c",VITE_FIREBASE_AUTH_DOMAIN:"to-do-7bbbe.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"420972725621",VITE_FIREBASE_PROJECT_ID:"to-do-7bbbe",VITE_FIREBASE_STORAGE_BUCKET:"to-do-7bbbe.firebasestorage.app"},nU=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"];for(const t of nU)tU[t]||console.error(`Missing required environment variable: ${t}`);const ox={apiKey:"AIzaSyDKMpgaBvt8yzWFwOAiWjeXuMl0JuYgXBw",authDomain:"to-do-7bbbe.firebaseapp.com",projectId:"to-do-7bbbe",storageBucket:"to-do-7bbbe.firebasestorage.app",messagingSenderId:"420972725621",appId:"1:420972725621:web:18bc3cabe54a8269d93f3c"};console.log("Initializing Firebase with config:",{...ox,apiKey:"***"});let ih,Xi,Tt,rU;try{console.log("Initializing Firebase app..."),ih=t1(ox),console.log("Firebase app initialized successfully"),console.log("Initializing Firebase Auth..."),Xi=cL(ih),console.log("Firebase Auth initialized successfully:",Xi),console.log("Initializing Firestore..."),Tt=a4(ih),console.log("Firestore initialized successfully"),console.log("Initializing Firebase Storage..."),rU=X4(ih),console.log("Firebase Storage initialized successfully")}catch(t){throw console.error("Error initializing Firebase:",t),t instanceof Error&&console.error("Error details:",{name:t.name,message:t.message,stack:t.stack}),t}const lx=E.createContext(void 0);function iU({children:t}){console.log("AuthProvider initializing...");const[e,n]=E.useState(null),[r,s]=E.useState(!0),[o,c]=E.useState(null);E.useEffect(()=>(console.log("Setting up auth state listener..."),ZP(Xi,I=>{console.log("Auth state changed:",I),n(I),s(!1)})),[]);const R={user:e,loading:r,error:o,signIn:async(C,I)=>{try{c(null),await WP(Xi,C,I)}catch(D){throw D instanceof Error?c(D.message):c("Erro ao fazer login"),D}},signUp:async(C,I,D)=>{try{c(null);const j=await GP(Xi,C,I);await Lb(j.user,{displayName:D})}catch(j){throw j instanceof Error?c(j.message):c("Erro ao criar conta"),j}},signOut:async()=>{try{c(null),await JP(Xi)}catch(C){throw C instanceof Error?c(C.message):c("Erro ao fazer logout"),C}},resetPassword:async C=>{try{c(null),await qP(Xi,C)}catch(I){throw I instanceof Error?c(I.message):c("Erro ao redefinir senha"),I}},updateUserProfile:async C=>{try{if(c(null),!e)throw new Error("Usurio no autenticado");await Lb(e,{displayName:C})}catch(I){throw I instanceof Error?c(I.message):c("Erro ao atualizar perfil"),I}},updateEmail:async C=>{try{if(c(null),!e)throw new Error("Usurio no autenticado");await YP(e,C)}catch(I){throw I instanceof Error?c(I.message):c("Erro ao atualizar email"),I}},updatePassword:async C=>{try{if(c(null),!e)throw new Error("Usurio no autenticado");await KP(e,C)}catch(I){throw I instanceof Error?c(I.message):c("Erro ao atualizar senha"),I}},signInWithGoogle:async()=>{console.log("Creating Google Auth Provider...");const C=new ni;console.log("Provider created:",C);try{console.log("Attempting to sign in with Google...");const I=await j1(Xi,C);console.log("Google sign-in successful, user:",I.user),n(I.user)}catch(I){throw console.error("Error in signInWithGoogle:",I),I instanceof Error?(c(I.message),console.error("Error details:",{name:I.name,message:I.message,stack:I.stack})):(c("Failed to sign in with Google"),console.error("Unknown error type:",I)),I}}};return _.jsx(lx.Provider,{value:R,children:!r&&t})}function tr(){const t=E.useContext(lx);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function zT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Cm(...t){return e=>{let n=!1;const r=t.map(s=>{const o=zT(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():zT(t[s],null)}}}}function ut(...t){return E.useCallback(Cm(...t),t)}var ls=E.forwardRef((t,e)=>{const{children:n,...r}=t,s=E.Children.toArray(n),o=s.find(aU);if(o){const c=o.props.children,d=s.map(f=>f===o?E.Children.count(c)>1?E.Children.only(null):E.isValidElement(c)?c.props.children:null:f);return _.jsx(Ky,{...r,ref:e,children:E.isValidElement(c)?E.cloneElement(c,void 0,d):null})}return _.jsx(Ky,{...r,ref:e,children:n})});ls.displayName="Slot";var Ky=E.forwardRef((t,e)=>{const{children:n,...r}=t;if(E.isValidElement(n)){const s=lU(n);return E.cloneElement(n,{...oU(r,n.props),ref:e?Cm(e,s):s})}return E.Children.count(n)>1?E.Children.only(null):null});Ky.displayName="SlotClone";var sU=({children:t})=>_.jsx(_.Fragment,{children:t});function aU(t){return E.isValidElement(t)&&t.type===sU}function oU(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...d)=>{o(...d),s(...d)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function lU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function cx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=cx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ux(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=cx(t))&&(r&&(r+=" "),r+=e);return r}const FT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,HT=ux,dx=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return HT(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,c=Object.keys(s).map(m=>{const y=n==null?void 0:n[m],v=o==null?void 0:o[m];if(y===null)return null;const b=FT(y)||FT(v);return s[m][b]}),d=n&&Object.entries(n).reduce((m,y)=>{let[v,b]=y;return b===void 0||(m[v]=b),m},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((m,y)=>{let{class:v,className:b,...A}=y;return Object.entries(A).every(x=>{let[R,C]=x;return Array.isArray(C)?C.includes({...o,...d}[R]):{...o,...d}[R]===C})?[...m,v,b]:m},[]);return HT(t,c,f,n==null?void 0:n.class,n==null?void 0:n.className)},u_="-",cU=t=>{const e=dU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{const d=c.split(u_);return d[0]===""&&d.length!==1&&d.shift(),fx(d,e)||uU(c)},getConflictingClassGroupIds:(c,d)=>{const f=n[c]||[];return d&&r[c]?[...f,...r[c]]:f}}},fx=(t,e)=>{var c;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?fx(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(u_);return(c=e.validators.find(({validator:d})=>d(o)))==null?void 0:c.classGroupId},qT=/^\[(.+)\]$/,uU=t=>{if(qT.test(t)){const e=qT.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},dU=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return hU(Object.entries(t.classGroups),n).forEach(([o,c])=>{Qy(c,r,o,e)}),r},Qy=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:GT(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(fU(s)){Qy(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,c])=>{Qy(c,GT(e,o),n,r)})})},GT=(t,e)=>{let n=t;return e.split(u_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},fU=t=>t.isThemeGetter,hU=(t,e)=>e?t.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([c,d])=>[e+c,d])):o);return[n,s]}):t,mU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,c)=>{n.set(o,c),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let c=n.get(o);if(c!==void 0)return c;if((c=r.get(o))!==void 0)return s(o,c),c},set(o,c){n.has(o)?n.set(o,c):s(o,c)}}},hx="!",pU=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],o=e.length,c=d=>{const f=[];let m=0,y=0,v;for(let C=0;C<d.length;C++){let I=d[C];if(m===0){if(I===s&&(r||d.slice(C,C+o)===e)){f.push(d.slice(y,C)),y=C+o;continue}if(I==="/"){v=C;continue}}I==="["?m++:I==="]"&&m--}const b=f.length===0?d:d.substring(y),A=b.startsWith(hx),x=A?b.substring(1):b,R=v&&v>y?v-y:void 0;return{modifiers:f,hasImportantModifier:A,baseClassName:x,maybePostfixModifierPosition:R}};return n?d=>n({className:d,parseClassName:c}):c},gU=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},yU=t=>({cache:mU(t.cacheSize),parseClassName:pU(t),...cU(t)}),vU=/\s+/,_U=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,o=[],c=t.trim().split(vU);let d="";for(let f=c.length-1;f>=0;f-=1){const m=c[f],{modifiers:y,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:A}=n(m);let x=!!A,R=r(x?b.substring(0,A):b);if(!R){if(!x){d=m+(d.length>0?" "+d:d);continue}if(R=r(b),!R){d=m+(d.length>0?" "+d:d);continue}x=!1}const C=gU(y).join(":"),I=v?C+hx:C,D=I+R;if(o.includes(D))continue;o.push(D);const j=s(R,x);for(let H=0;H<j.length;++H){const $=j[H];o.push(I+$)}d=m+(d.length>0?" "+d:d)}return d};function wU(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=mx(e))&&(r&&(r+=" "),r+=n);return r}const mx=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=mx(t[r]))&&(n&&(n+=" "),n+=e);return n};function EU(t,...e){let n,r,s,o=c;function c(f){const m=e.reduce((y,v)=>v(y),t());return n=yU(m),r=n.cache.get,s=n.cache.set,o=d,d(f)}function d(f){const m=r(f);if(m)return m;const y=_U(f,n);return s(f,y),y}return function(){return o(wU.apply(null,arguments))}}const Et=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},px=/^\[(?:([a-z-]+):)?(.+)\]$/i,bU=/^\d+\/\d+$/,TU=new Set(["px","full","screen"]),SU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,RU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,CU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qi=t=>Ll(t)||TU.has(t)||bU.test(t),Ks=t=>uc(t,"length",LU),Ll=t=>!!t&&!Number.isNaN(Number(t)),cy=t=>uc(t,"number",Ll),Tu=t=>!!t&&Number.isInteger(Number(t)),IU=t=>t.endsWith("%")&&Ll(t.slice(0,-1)),Fe=t=>px.test(t),Qs=t=>SU.test(t),DU=new Set(["length","size","percentage"]),NU=t=>uc(t,DU,gx),OU=t=>uc(t,"position",gx),MU=new Set(["image","url"]),kU=t=>uc(t,MU,jU),PU=t=>uc(t,"",VU),Su=()=>!0,uc=(t,e,n)=>{const r=px.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},LU=t=>AU.test(t)&&!xU.test(t),gx=()=>!1,VU=t=>RU.test(t),jU=t=>CU.test(t),UU=()=>{const t=Et("colors"),e=Et("spacing"),n=Et("blur"),r=Et("brightness"),s=Et("borderColor"),o=Et("borderRadius"),c=Et("borderSpacing"),d=Et("borderWidth"),f=Et("contrast"),m=Et("grayscale"),y=Et("hueRotate"),v=Et("invert"),b=Et("gap"),A=Et("gradientColorStops"),x=Et("gradientColorStopPositions"),R=Et("inset"),C=Et("margin"),I=Et("opacity"),D=Et("padding"),j=Et("saturate"),H=Et("scale"),$=Et("sepia"),Z=Et("skew"),k=Et("space"),N=Et("translate"),O=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",Fe,e],B=()=>[Fe,e],V=()=>["",Qi,Ks],ye=()=>["auto",Ll,Fe],Ae=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>["start","end","center","between","around","evenly","stretch"],ae=()=>["","0",Fe],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Ll,Fe];return{cacheSize:500,separator:":",theme:{colors:[Su],spacing:[Qi,Ks],blur:["none","",Qs,Fe],brightness:ee(),borderColor:[t],borderRadius:["none","","full",Qs,Fe],borderSpacing:B(),borderWidth:V(),contrast:ee(),grayscale:ae(),hueRotate:ee(),invert:ae(),gap:B(),gradientColorStops:[t],gradientColorStopPositions:[IU,Ks],inset:z(),margin:z(),opacity:ee(),padding:B(),saturate:ee(),scale:ee(),sepia:ae(),skew:ee(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",Fe]}],container:["container"],columns:[{columns:[Qs]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ae(),Fe]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[R]}],"inset-x":[{"inset-x":[R]}],"inset-y":[{"inset-y":[R]}],start:[{start:[R]}],end:[{end:[R]}],top:[{top:[R]}],right:[{right:[R]}],bottom:[{bottom:[R]}],left:[{left:[R]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Tu,Fe]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Fe]}],grow:[{grow:ae()}],shrink:[{shrink:ae()}],order:[{order:["first","last","none",Tu,Fe]}],"grid-cols":[{"grid-cols":[Su]}],"col-start-end":[{col:["auto",{span:["full",Tu,Fe]},Fe]}],"col-start":[{"col-start":ye()}],"col-end":[{"col-end":ye()}],"grid-rows":[{"grid-rows":[Su]}],"row-start-end":[{row:["auto",{span:[Tu,Fe]},Fe]}],"row-start":[{"row-start":ye()}],"row-end":[{"row-end":ye()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Fe]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...ie()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ie(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ie(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[D]}],px:[{px:[D]}],py:[{py:[D]}],ps:[{ps:[D]}],pe:[{pe:[D]}],pt:[{pt:[D]}],pr:[{pr:[D]}],pb:[{pb:[D]}],pl:[{pl:[D]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Fe,e]}],"min-w":[{"min-w":[Fe,e,"min","max","fit"]}],"max-w":[{"max-w":[Fe,e,"none","full","min","max","fit","prose",{screen:[Qs]},Qs]}],h:[{h:[Fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Qs,Ks]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cy]}],"font-family":[{font:[Su]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Fe]}],"line-clamp":[{"line-clamp":["none",Ll,cy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qi,Fe]}],"list-image":[{"list-image":["none",Fe]}],"list-style-type":[{list:["none","disc","decimal",Fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[I]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[I]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qi,Ks]}],"underline-offset":[{"underline-offset":["auto",Qi,Fe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[I]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ae(),OU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",NU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kU]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[A]}],"gradient-via":[{via:[A]}],"gradient-to":[{to:[A]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[I]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[I]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[Qi,Fe]}],"outline-w":[{outline:[Qi,Ks]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[I]}],"ring-offset-w":[{"ring-offset":[Qi,Ks]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Qs,PU]}],"shadow-color":[{shadow:[Su]}],opacity:[{opacity:[I]}],"mix-blend":[{"mix-blend":[...ce(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ce()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",Qs,Fe]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[v]}],saturate:[{saturate:[j]}],sepia:[{sepia:[$]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[I]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[$]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Fe]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",Fe]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",Fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[H]}],"scale-x":[{"scale-x":[H]}],"scale-y":[{"scale-y":[H]}],rotate:[{rotate:[Tu,Fe]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[Z]}],"skew-y":[{"skew-y":[Z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Fe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Qi,Ks,cy]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},BU=EU(UU);function Be(...t){return BU(ux(t))}const Xy=dx("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-purple-400 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-purple-600 text-white shadow hover:bg-purple-700",secondary:"bg-purple-100 text-purple-900 shadow-sm hover:bg-purple-200",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-purple-100 hover:text-purple-900",link:"text-purple-600 underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),pt=E.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,children:s,...o},c)=>{const d=r?ls:"button";return _.jsx(d,{className:Be(Xy({variant:e,size:n,className:t})),ref:c,...o,children:s})});pt.displayName="Button";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yx=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:c,...d},f)=>E.createElement("svg",{ref:f,...FU,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:yx("lucide",s),...d},[...c.map(([m,y])=>E.createElement(m,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=(t,e)=>{const n=E.forwardRef(({className:r,...s},o)=>E.createElement(HU,{ref:o,iconNode:e,className:yx(`lucide-${zU(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=Lt("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=Lt("BookDashed",[["path",{d:"M12 17h1.5",key:"1gkc67"}],["path",{d:"M12 22h1.5",key:"1my7sn"}],["path",{d:"M12 2h1.5",key:"19tvb7"}],["path",{d:"M17.5 22H19a1 1 0 0 0 1-1",key:"10akbh"}],["path",{d:"M17.5 2H19a1 1 0 0 1 1 1v1.5",key:"1vrfjs"}],["path",{d:"M20 14v3h-2.5",key:"1naeju"}],["path",{d:"M20 8.5V10",key:"1ctpfu"}],["path",{d:"M4 10V8.5",key:"1o3zg5"}],["path",{d:"M4 19.5V14",key:"ob81pf"}],["path",{d:"M4 4.5A2.5 2.5 0 0 1 6.5 2H8",key:"s8vcyb"}],["path",{d:"M8 22H6.5a1 1 0 0 1 0-5H8",key:"1cu73q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=Lt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=Lt("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=Lt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=Lt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=Lt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=Lt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=Lt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=Lt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=Lt("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=Lt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=Lt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=Lt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=Lt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=Lt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=Lt("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=Lt("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=Lt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=Lt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=Lt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=Lt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function we(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function sB(t,e){const n=E.createContext(e),r=o=>{const{children:c,...d}=o,f=E.useMemo(()=>d,Object.values(d));return _.jsx(n.Provider,{value:f,children:c})};r.displayName=t+"Provider";function s(o){const c=E.useContext(n);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function Ti(t,e=[]){let n=[];function r(o,c){const d=E.createContext(c),f=n.length;n=[...n,c];const m=v=>{var I;const{scope:b,children:A,...x}=v,R=((I=b==null?void 0:b[t])==null?void 0:I[f])||d,C=E.useMemo(()=>x,Object.values(x));return _.jsx(R.Provider,{value:C,children:A})};m.displayName=o+"Provider";function y(v,b){var R;const A=((R=b==null?void 0:b[t])==null?void 0:R[f])||d,x=E.useContext(A);if(x)return x;if(c!==void 0)return c;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[m,y]}const s=()=>{const o=n.map(c=>E.createContext(c));return function(d){const f=(d==null?void 0:d[t])||o;return E.useMemo(()=>({[`__scope${t}`]:{...d,[t]:f}}),[d,f])}};return s.scopeName=t,[r,aB(s,...e)]}function aB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const c=r.reduce((d,{useScope:f,scopeName:m})=>{const v=f(o)[`__scope${m}`];return{...d,...v}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}function er(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function bo({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=oB({defaultProp:e,onChange:n}),o=t!==void 0,c=o?t:r,d=er(n),f=E.useCallback(m=>{if(o){const v=typeof m=="function"?m(t):m;v!==t&&d(v)}else s(m)},[o,t,s,d]);return[c,f]}function oB({defaultProp:t,onChange:e}){const n=E.useState(t),[r]=n,s=E.useRef(r),o=er(e);return E.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}var lB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],qe=lB.reduce((t,e)=>{const n=E.forwardRef((r,s)=>{const{asChild:o,...c}=r,d=o?ls:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(d,{...c,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function bx(t,e){t&&od.flushSync(()=>t.dispatchEvent(e))}function h_(t){const e=t+"CollectionProvider",[n,r]=Ti(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=A=>{const{scope:x,children:R}=A,C=pe.useRef(null),I=pe.useRef(new Map).current;return _.jsx(s,{scope:x,itemMap:I,collectionRef:C,children:R})};c.displayName=e;const d=t+"CollectionSlot",f=pe.forwardRef((A,x)=>{const{scope:R,children:C}=A,I=o(d,R),D=ut(x,I.collectionRef);return _.jsx(ls,{ref:D,children:C})});f.displayName=d;const m=t+"CollectionItemSlot",y="data-radix-collection-item",v=pe.forwardRef((A,x)=>{const{scope:R,children:C,...I}=A,D=pe.useRef(null),j=ut(x,D),H=o(m,R);return pe.useEffect(()=>(H.itemMap.set(D,{ref:D,...I}),()=>void H.itemMap.delete(D))),_.jsx(ls,{[y]:"",ref:j,children:C})});v.displayName=m;function b(A){const x=o(t+"CollectionConsumer",A);return pe.useCallback(()=>{const C=x.collectionRef.current;if(!C)return[];const I=Array.from(C.querySelectorAll(`[${y}]`));return Array.from(x.itemMap.values()).sort((H,$)=>I.indexOf(H.ref.current)-I.indexOf($.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:c,Slot:f,ItemSlot:v},b,r]}var cB=E.createContext(void 0);function m_(t){const e=E.useContext(cB);return t||e||"ltr"}function uB(t,e=globalThis==null?void 0:globalThis.document){const n=er(t);E.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var dB="DismissableLayer",Zy="dismissableLayer.update",fB="dismissableLayer.pointerDownOutside",hB="dismissableLayer.focusOutside",WT,Tx=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wd=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:c,onDismiss:d,...f}=t,m=E.useContext(Tx),[y,v]=E.useState(null),b=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,A]=E.useState({}),x=ut(e,k=>v(k)),R=Array.from(m.layers),[C]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),I=R.indexOf(C),D=y?R.indexOf(y):-1,j=m.layersWithOutsidePointerEventsDisabled.size>0,H=D>=I,$=gB(k=>{const N=k.target,O=[...m.branches].some(L=>L.contains(N));!H||O||(s==null||s(k),c==null||c(k),k.defaultPrevented||d==null||d())},b),Z=yB(k=>{const N=k.target;[...m.branches].some(L=>L.contains(N))||(o==null||o(k),c==null||c(k),k.defaultPrevented||d==null||d())},b);return uB(k=>{D===m.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&d&&(k.preventDefault(),d()))},b),E.useEffect(()=>{if(y)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(WT=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),$T(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=WT)}},[y,b,n,m]),E.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),$T())},[y,m]),E.useEffect(()=>{const k=()=>A({});return document.addEventListener(Zy,k),()=>document.removeEventListener(Zy,k)},[]),_.jsx(qe.div,{...f,ref:x,style:{pointerEvents:j?H?"auto":"none":void 0,...t.style},onFocusCapture:we(t.onFocusCapture,Z.onFocusCapture),onBlurCapture:we(t.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:we(t.onPointerDownCapture,$.onPointerDownCapture)})});wd.displayName=dB;var mB="DismissableLayerBranch",pB=E.forwardRef((t,e)=>{const n=E.useContext(Tx),r=E.useRef(null),s=ut(e,r);return E.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),_.jsx(qe.div,{...t,ref:s})});pB.displayName=mB;function gB(t,e=globalThis==null?void 0:globalThis.document){const n=er(t),r=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const o=d=>{if(d.target&&!r.current){let f=function(){Sx(fB,n,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=f,e.addEventListener("click",s.current,{once:!0})):f()}else e.removeEventListener("click",s.current);r.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function yB(t,e=globalThis==null?void 0:globalThis.document){const n=er(t),r=E.useRef(!1);return E.useEffect(()=>{const s=o=>{o.target&&!r.current&&Sx(hB,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function $T(){const t=new CustomEvent(Zy);document.dispatchEvent(t)}function Sx(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?bx(s,o):s.dispatchEvent(o)}var uy=0;function Dm(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??YT()),document.body.insertAdjacentElement("beforeend",t[1]??YT()),uy++,()=>{uy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),uy--}},[])}function YT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var dy="focusScope.autoFocusOnMount",fy="focusScope.autoFocusOnUnmount",KT={bubbles:!1,cancelable:!0},vB="FocusScope",Ed=E.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...c}=t,[d,f]=E.useState(null),m=er(s),y=er(o),v=E.useRef(null),b=ut(e,R=>f(R)),A=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let R=function(j){if(A.paused||!d)return;const H=j.target;d.contains(H)?v.current=H:Zs(v.current,{select:!0})},C=function(j){if(A.paused||!d)return;const H=j.relatedTarget;H!==null&&(d.contains(H)||Zs(v.current,{select:!0}))},I=function(j){if(document.activeElement===document.body)for(const $ of j)$.removedNodes.length>0&&Zs(d)};document.addEventListener("focusin",R),document.addEventListener("focusout",C);const D=new MutationObserver(I);return d&&D.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",R),document.removeEventListener("focusout",C),D.disconnect()}}},[r,d,A.paused]),E.useEffect(()=>{if(d){XT.add(A);const R=document.activeElement;if(!d.contains(R)){const I=new CustomEvent(dy,KT);d.addEventListener(dy,m),d.dispatchEvent(I),I.defaultPrevented||(_B(SB(Ax(d)),{select:!0}),document.activeElement===R&&Zs(d))}return()=>{d.removeEventListener(dy,m),setTimeout(()=>{const I=new CustomEvent(fy,KT);d.addEventListener(fy,y),d.dispatchEvent(I),I.defaultPrevented||Zs(R??document.body,{select:!0}),d.removeEventListener(fy,y),XT.remove(A)},0)}}},[d,m,y,A]);const x=E.useCallback(R=>{if(!n&&!r||A.paused)return;const C=R.key==="Tab"&&!R.altKey&&!R.ctrlKey&&!R.metaKey,I=document.activeElement;if(C&&I){const D=R.currentTarget,[j,H]=wB(D);j&&H?!R.shiftKey&&I===H?(R.preventDefault(),n&&Zs(j,{select:!0})):R.shiftKey&&I===j&&(R.preventDefault(),n&&Zs(H,{select:!0})):I===D&&R.preventDefault()}},[n,r,A.paused]);return _.jsx(qe.div,{tabIndex:-1,...c,ref:b,onKeyDown:x})});Ed.displayName=vB;function _B(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Zs(r,{select:e}),document.activeElement!==n)return}function wB(t){const e=Ax(t),n=QT(e,t),r=QT(e.reverse(),t);return[n,r]}function Ax(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function QT(t,e){for(const n of t)if(!EB(n,{upTo:e}))return n}function EB(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function bB(t){return t instanceof HTMLInputElement&&"select"in t}function Zs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&bB(t)&&e&&t.select()}}var XT=TB();function TB(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=ZT(t,e),t.unshift(e)},remove(e){var n;t=ZT(t,e),(n=t[0])==null||n.resume()}}}function ZT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function SB(t){return t.filter(e=>e.tagName!=="A")}var vn=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},AB=MN.useId||(()=>{}),xB=0;function hi(t){const[e,n]=E.useState(AB());return vn(()=>{n(r=>r??String(xB++))},[t]),e?`radix-${e}`:""}const RB=["top","right","bottom","left"],ga=Math.min,Xn=Math.max,$h=Math.round,sh=Math.floor,mi=t=>({x:t,y:t}),CB={left:"right",right:"left",bottom:"top",top:"bottom"},IB={start:"end",end:"start"};function Jy(t,e,n){return Xn(t,ga(e,n))}function cs(t,e){return typeof t=="function"?t(e):t}function us(t){return t.split("-")[0]}function dc(t){return t.split("-")[1]}function p_(t){return t==="x"?"y":"x"}function g_(t){return t==="y"?"height":"width"}function ya(t){return["top","bottom"].includes(us(t))?"y":"x"}function y_(t){return p_(ya(t))}function DB(t,e,n){n===void 0&&(n=!1);const r=dc(t),s=y_(t),o=g_(s);let c=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=Yh(c)),[c,Yh(c)]}function NB(t){const e=Yh(t);return[ev(t),e,ev(e)]}function ev(t){return t.replace(/start|end/g,e=>IB[e])}function OB(t,e,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],c=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?o:c;default:return[]}}function MB(t,e,n,r){const s=dc(t);let o=OB(us(t),n==="start",r);return s&&(o=o.map(c=>c+"-"+s),e&&(o=o.concat(o.map(ev)))),o}function Yh(t){return t.replace(/left|right|bottom|top/g,e=>CB[e])}function kB(t){return{top:0,right:0,bottom:0,left:0,...t}}function xx(t){return typeof t!="number"?kB(t):{top:t,right:t,bottom:t,left:t}}function Kh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function JT(t,e,n){let{reference:r,floating:s}=t;const o=ya(e),c=y_(e),d=g_(c),f=us(e),m=o==="y",y=r.x+r.width/2-s.width/2,v=r.y+r.height/2-s.height/2,b=r[d]/2-s[d]/2;let A;switch(f){case"top":A={x:y,y:r.y-s.height};break;case"bottom":A={x:y,y:r.y+r.height};break;case"right":A={x:r.x+r.width,y:v};break;case"left":A={x:r.x-s.width,y:v};break;default:A={x:r.x,y:r.y}}switch(dc(e)){case"start":A[c]-=b*(n&&m?-1:1);break;case"end":A[c]+=b*(n&&m?-1:1);break}return A}const PB=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:c}=n,d=o.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:t,floating:e,strategy:s}),{x:y,y:v}=JT(m,r,f),b=r,A={},x=0;for(let R=0;R<d.length;R++){const{name:C,fn:I}=d[R],{x:D,y:j,data:H,reset:$}=await I({x:y,y:v,initialPlacement:r,placement:b,strategy:s,middlewareData:A,rects:m,platform:c,elements:{reference:t,floating:e}});y=D??y,v=j??v,A={...A,[C]:{...A[C],...H}},$&&x<=50&&(x++,typeof $=="object"&&($.placement&&(b=$.placement),$.rects&&(m=$.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:s}):$.rects),{x:y,y:v}=JT(m,b,f)),R=-1)}return{x:y,y:v,placement:b,strategy:s,middlewareData:A}};async function Zu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:c,elements:d,strategy:f}=t,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:v="floating",altBoundary:b=!1,padding:A=0}=cs(e,t),x=xx(A),C=d[b?v==="floating"?"reference":"floating":v],I=Kh(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(C)))==null||n?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:m,rootBoundary:y,strategy:f})),D=v==="floating"?{x:r,y:s,width:c.floating.width,height:c.floating.height}:c.reference,j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),H=await(o.isElement==null?void 0:o.isElement(j))?await(o.getScale==null?void 0:o.getScale(j))||{x:1,y:1}:{x:1,y:1},$=Kh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:D,offsetParent:j,strategy:f}):D);return{top:(I.top-$.top+x.top)/H.y,bottom:($.bottom-I.bottom+x.bottom)/H.y,left:(I.left-$.left+x.left)/H.x,right:($.right-I.right+x.right)/H.x}}const LB=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:c,elements:d,middlewareData:f}=e,{element:m,padding:y=0}=cs(t,e)||{};if(m==null)return{};const v=xx(y),b={x:n,y:r},A=y_(s),x=g_(A),R=await c.getDimensions(m),C=A==="y",I=C?"top":"left",D=C?"bottom":"right",j=C?"clientHeight":"clientWidth",H=o.reference[x]+o.reference[A]-b[A]-o.floating[x],$=b[A]-o.reference[A],Z=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let k=Z?Z[j]:0;(!k||!await(c.isElement==null?void 0:c.isElement(Z)))&&(k=d.floating[j]||o.floating[x]);const N=H/2-$/2,O=k/2-R[x]/2-1,L=ga(v[I],O),z=ga(v[D],O),B=L,V=k-R[x]-z,ye=k/2-R[x]/2+N,Ae=Jy(B,ye,V),J=!f.arrow&&dc(s)!=null&&ye!==Ae&&o.reference[x]/2-(ye<B?L:z)-R[x]/2<0,ce=J?ye<B?ye-B:ye-V:0;return{[A]:b[A]+ce,data:{[A]:Ae,centerOffset:ye-Ae-ce,...J&&{alignmentOffset:ce}},reset:J}}}),VB=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:c,initialPlacement:d,platform:f,elements:m}=e,{mainAxis:y=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:A="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:R=!0,...C}=cs(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const I=us(s),D=ya(d),j=us(d)===d,H=await(f.isRTL==null?void 0:f.isRTL(m.floating)),$=b||(j||!R?[Yh(d)]:NB(d)),Z=x!=="none";!b&&Z&&$.push(...MB(d,R,x,H));const k=[d,...$],N=await Zu(e,C),O=[];let L=((r=o.flip)==null?void 0:r.overflows)||[];if(y&&O.push(N[I]),v){const ye=DB(s,c,H);O.push(N[ye[0]],N[ye[1]])}if(L=[...L,{placement:s,overflows:O}],!O.every(ye=>ye<=0)){var z,B;const ye=(((z=o.flip)==null?void 0:z.index)||0)+1,Ae=k[ye];if(Ae)return{data:{index:ye,overflows:L},reset:{placement:Ae}};let J=(B=L.filter(ce=>ce.overflows[0]<=0).sort((ce,ie)=>ce.overflows[1]-ie.overflows[1])[0])==null?void 0:B.placement;if(!J)switch(A){case"bestFit":{var V;const ce=(V=L.filter(ie=>{if(Z){const ae=ya(ie.placement);return ae===D||ae==="y"}return!0}).map(ie=>[ie.placement,ie.overflows.filter(ae=>ae>0).reduce((ae,F)=>ae+F,0)]).sort((ie,ae)=>ie[1]-ae[1])[0])==null?void 0:V[0];ce&&(J=ce);break}case"initialPlacement":J=d;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function eS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function tS(t){return RB.some(e=>t[e]>=0)}const jB=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=cs(t,e);switch(r){case"referenceHidden":{const o=await Zu(e,{...s,elementContext:"reference"}),c=eS(o,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:tS(c)}}}case"escaped":{const o=await Zu(e,{...s,altBoundary:!0}),c=eS(o,n.floating);return{data:{escapedOffsets:c,escaped:tS(c)}}}default:return{}}}}};async function UB(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),c=us(n),d=dc(n),f=ya(n)==="y",m=["left","top"].includes(c)?-1:1,y=o&&f?-1:1,v=cs(e,t);let{mainAxis:b,crossAxis:A,alignmentAxis:x}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return d&&typeof x=="number"&&(A=d==="end"?x*-1:x),f?{x:A*y,y:b*m}:{x:b*m,y:A*y}}const BB=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:c,middlewareData:d}=e,f=await UB(e,t);return c===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:s+f.x,y:o+f.y,data:{...f,placement:c}}}}},zB=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:c=!1,limiter:d={fn:C=>{let{x:I,y:D}=C;return{x:I,y:D}}},...f}=cs(t,e),m={x:n,y:r},y=await Zu(e,f),v=ya(us(s)),b=p_(v);let A=m[b],x=m[v];if(o){const C=b==="y"?"top":"left",I=b==="y"?"bottom":"right",D=A+y[C],j=A-y[I];A=Jy(D,A,j)}if(c){const C=v==="y"?"top":"left",I=v==="y"?"bottom":"right",D=x+y[C],j=x-y[I];x=Jy(D,x,j)}const R=d.fn({...e,[b]:A,[v]:x});return{...R,data:{x:R.x-n,y:R.y-r,enabled:{[b]:o,[v]:c}}}}}},FB=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:c}=e,{offset:d=0,mainAxis:f=!0,crossAxis:m=!0}=cs(t,e),y={x:n,y:r},v=ya(s),b=p_(v);let A=y[b],x=y[v];const R=cs(d,e),C=typeof R=="number"?{mainAxis:R,crossAxis:0}:{mainAxis:0,crossAxis:0,...R};if(f){const j=b==="y"?"height":"width",H=o.reference[b]-o.floating[j]+C.mainAxis,$=o.reference[b]+o.reference[j]-C.mainAxis;A<H?A=H:A>$&&(A=$)}if(m){var I,D;const j=b==="y"?"width":"height",H=["top","left"].includes(us(s)),$=o.reference[v]-o.floating[j]+(H&&((I=c.offset)==null?void 0:I[v])||0)+(H?0:C.crossAxis),Z=o.reference[v]+o.reference[j]+(H?0:((D=c.offset)==null?void 0:D[v])||0)-(H?C.crossAxis:0);x<$?x=$:x>Z&&(x=Z)}return{[b]:A,[v]:x}}}},HB=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:c,elements:d}=e,{apply:f=()=>{},...m}=cs(t,e),y=await Zu(e,m),v=us(s),b=dc(s),A=ya(s)==="y",{width:x,height:R}=o.floating;let C,I;v==="top"||v==="bottom"?(C=v,I=b===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(I=v,C=b==="end"?"top":"bottom");const D=R-y.top-y.bottom,j=x-y.left-y.right,H=ga(R-y[C],D),$=ga(x-y[I],j),Z=!e.middlewareData.shift;let k=H,N=$;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=j),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=D),Z&&!b){const L=Xn(y.left,0),z=Xn(y.right,0),B=Xn(y.top,0),V=Xn(y.bottom,0);A?N=x-2*(L!==0||z!==0?L+z:Xn(y.left,y.right)):k=R-2*(B!==0||V!==0?B+V:Xn(y.top,y.bottom))}await f({...e,availableWidth:N,availableHeight:k});const O=await c.getDimensions(d.floating);return x!==O.width||R!==O.height?{reset:{rects:!0}}:{}}}};function Nm(){return typeof window<"u"}function fc(t){return Rx(t)?(t.nodeName||"").toLowerCase():"#document"}function Jn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Si(t){var e;return(e=(Rx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Rx(t){return Nm()?t instanceof Node||t instanceof Jn(t).Node:!1}function kr(t){return Nm()?t instanceof Element||t instanceof Jn(t).Element:!1}function vi(t){return Nm()?t instanceof HTMLElement||t instanceof Jn(t).HTMLElement:!1}function nS(t){return!Nm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Jn(t).ShadowRoot}function bd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Pr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function qB(t){return["table","td","th"].includes(fc(t))}function Om(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function v_(t){const e=__(),n=kr(t)?Pr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function GB(t){let e=va(t);for(;vi(e)&&!Zl(e);){if(v_(e))return e;if(Om(e))return null;e=va(e)}return null}function __(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zl(t){return["html","body","#document"].includes(fc(t))}function Pr(t){return Jn(t).getComputedStyle(t)}function Mm(t){return kr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function va(t){if(fc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||nS(t)&&t.host||Si(t);return nS(e)?e.host:e}function Cx(t){const e=va(t);return Zl(e)?t.ownerDocument?t.ownerDocument.body:t.body:vi(e)&&bd(e)?e:Cx(e)}function Ju(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Cx(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),c=Jn(s);if(o){const d=tv(c);return e.concat(c,c.visualViewport||[],bd(s)?s:[],d&&n?Ju(d):[])}return e.concat(s,Ju(s,[],n))}function tv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Ix(t){const e=Pr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=vi(t),o=s?t.offsetWidth:n,c=s?t.offsetHeight:r,d=$h(n)!==o||$h(r)!==c;return d&&(n=o,r=c),{width:n,height:r,$:d}}function w_(t){return kr(t)?t:t.contextElement}function Vl(t){const e=w_(t);if(!vi(e))return mi(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=Ix(e);let c=(o?$h(n.width):n.width)/r,d=(o?$h(n.height):n.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const WB=mi(0);function Dx(t){const e=Jn(t);return!__()||!e.visualViewport?WB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function $B(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Jn(t)?!1:e}function To(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=w_(t);let c=mi(1);e&&(r?kr(r)&&(c=Vl(r)):c=Vl(t));const d=$B(o,n,r)?Dx(o):mi(0);let f=(s.left+d.x)/c.x,m=(s.top+d.y)/c.y,y=s.width/c.x,v=s.height/c.y;if(o){const b=Jn(o),A=r&&kr(r)?Jn(r):r;let x=b,R=tv(x);for(;R&&r&&A!==x;){const C=Vl(R),I=R.getBoundingClientRect(),D=Pr(R),j=I.left+(R.clientLeft+parseFloat(D.paddingLeft))*C.x,H=I.top+(R.clientTop+parseFloat(D.paddingTop))*C.y;f*=C.x,m*=C.y,y*=C.x,v*=C.y,f+=j,m+=H,x=Jn(R),R=tv(x)}}return Kh({width:y,height:v,x:f,y:m})}function E_(t,e){const n=Mm(t).scrollLeft;return e?e.left+n:To(Si(t)).left+n}function Nx(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:E_(t,r)),o=r.top+e.scrollTop;return{x:s,y:o}}function YB(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",c=Si(r),d=e?Om(e.floating):!1;if(r===c||d&&o)return n;let f={scrollLeft:0,scrollTop:0},m=mi(1);const y=mi(0),v=vi(r);if((v||!v&&!o)&&((fc(r)!=="body"||bd(c))&&(f=Mm(r)),vi(r))){const A=To(r);m=Vl(r),y.x=A.x+r.clientLeft,y.y=A.y+r.clientTop}const b=c&&!v&&!o?Nx(c,f,!0):mi(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-f.scrollLeft*m.x+y.x+b.x,y:n.y*m.y-f.scrollTop*m.y+y.y+b.y}}function KB(t){return Array.from(t.getClientRects())}function QB(t){const e=Si(t),n=Mm(t),r=t.ownerDocument.body,s=Xn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Xn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+E_(t);const d=-n.scrollTop;return Pr(r).direction==="rtl"&&(c+=Xn(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:c,y:d}}function XB(t,e){const n=Jn(t),r=Si(t),s=n.visualViewport;let o=r.clientWidth,c=r.clientHeight,d=0,f=0;if(s){o=s.width,c=s.height;const m=__();(!m||m&&e==="fixed")&&(d=s.offsetLeft,f=s.offsetTop)}return{width:o,height:c,x:d,y:f}}function ZB(t,e){const n=To(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=vi(t)?Vl(t):mi(1),c=t.clientWidth*o.x,d=t.clientHeight*o.y,f=s*o.x,m=r*o.y;return{width:c,height:d,x:f,y:m}}function rS(t,e,n){let r;if(e==="viewport")r=XB(t,n);else if(e==="document")r=QB(Si(t));else if(kr(e))r=ZB(e,n);else{const s=Dx(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Kh(r)}function Ox(t,e){const n=va(t);return n===e||!kr(n)||Zl(n)?!1:Pr(n).position==="fixed"||Ox(n,e)}function JB(t,e){const n=e.get(t);if(n)return n;let r=Ju(t,[],!1).filter(d=>kr(d)&&fc(d)!=="body"),s=null;const o=Pr(t).position==="fixed";let c=o?va(t):t;for(;kr(c)&&!Zl(c);){const d=Pr(c),f=v_(c);!f&&d.position==="fixed"&&(s=null),(o?!f&&!s:!f&&d.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||bd(c)&&!f&&Ox(t,c))?r=r.filter(y=>y!==c):s=d,c=va(c)}return e.set(t,r),r}function e9(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const c=[...n==="clippingAncestors"?Om(e)?[]:JB(e,this._c):[].concat(n),r],d=c[0],f=c.reduce((m,y)=>{const v=rS(e,y,s);return m.top=Xn(v.top,m.top),m.right=ga(v.right,m.right),m.bottom=ga(v.bottom,m.bottom),m.left=Xn(v.left,m.left),m},rS(e,d,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function t9(t){const{width:e,height:n}=Ix(t);return{width:e,height:n}}function n9(t,e,n){const r=vi(e),s=Si(e),o=n==="fixed",c=To(t,!0,o,e);let d={scrollLeft:0,scrollTop:0};const f=mi(0);if(r||!r&&!o)if((fc(e)!=="body"||bd(s))&&(d=Mm(e)),r){const b=To(e,!0,o,e);f.x=b.x+e.clientLeft,f.y=b.y+e.clientTop}else s&&(f.x=E_(s));const m=s&&!r&&!o?Nx(s,d):mi(0),y=c.left+d.scrollLeft-f.x-m.x,v=c.top+d.scrollTop-f.y-m.y;return{x:y,y:v,width:c.width,height:c.height}}function hy(t){return Pr(t).position==="static"}function iS(t,e){if(!vi(t)||Pr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Si(t)===n&&(n=n.ownerDocument.body),n}function Mx(t,e){const n=Jn(t);if(Om(t))return n;if(!vi(t)){let s=va(t);for(;s&&!Zl(s);){if(kr(s)&&!hy(s))return s;s=va(s)}return n}let r=iS(t,e);for(;r&&qB(r)&&hy(r);)r=iS(r,e);return r&&Zl(r)&&hy(r)&&!v_(r)?n:r||GB(t)||n}const r9=async function(t){const e=this.getOffsetParent||Mx,n=this.getDimensions,r=await n(t.floating);return{reference:n9(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function i9(t){return Pr(t).direction==="rtl"}const s9={convertOffsetParentRelativeRectToViewportRelativeRect:YB,getDocumentElement:Si,getClippingRect:e9,getOffsetParent:Mx,getElementRects:r9,getClientRects:KB,getDimensions:t9,getScale:Vl,isElement:kr,isRTL:i9};function a9(t,e){let n=null,r;const s=Si(t);function o(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function c(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),o();const{left:m,top:y,width:v,height:b}=t.getBoundingClientRect();if(d||e(),!v||!b)return;const A=sh(y),x=sh(s.clientWidth-(m+v)),R=sh(s.clientHeight-(y+b)),C=sh(m),D={rootMargin:-A+"px "+-x+"px "+-R+"px "+-C+"px",threshold:Xn(0,ga(1,f))||1};let j=!0;function H($){const Z=$[0].intersectionRatio;if(Z!==f){if(!j)return c();Z?c(!1,Z):r=setTimeout(()=>{c(!1,1e-7)},1e3)}j=!1}try{n=new IntersectionObserver(H,{...D,root:s.ownerDocument})}catch{n=new IntersectionObserver(H,D)}n.observe(t)}return c(!0),o}function o9(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,m=w_(t),y=s||o?[...m?Ju(m):[],...Ju(e)]:[];y.forEach(I=>{s&&I.addEventListener("scroll",n,{passive:!0}),o&&I.addEventListener("resize",n)});const v=m&&d?a9(m,n):null;let b=-1,A=null;c&&(A=new ResizeObserver(I=>{let[D]=I;D&&D.target===m&&A&&(A.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var j;(j=A)==null||j.observe(e)})),n()}),m&&!f&&A.observe(m),A.observe(e));let x,R=f?To(t):null;f&&C();function C(){const I=To(t);R&&(I.x!==R.x||I.y!==R.y||I.width!==R.width||I.height!==R.height)&&n(),R=I,x=requestAnimationFrame(C)}return n(),()=>{var I;y.forEach(D=>{s&&D.removeEventListener("scroll",n),o&&D.removeEventListener("resize",n)}),v==null||v(),(I=A)==null||I.disconnect(),A=null,f&&cancelAnimationFrame(x)}}const l9=BB,c9=zB,u9=VB,d9=HB,f9=jB,sS=LB,h9=FB,m9=(t,e,n)=>{const r=new Map,s={platform:s9,...n},o={...s.platform,_c:r};return PB(t,e,{...s,platform:o})};var Th=typeof document<"u"?E.useLayoutEffect:E.useEffect;function Qh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Qh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!Qh(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function kx(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function aS(t,e){const n=kx(t);return Math.round(e*n)/n}function my(t){const e=E.useRef(t);return Th(()=>{e.current=t}),e}function p9(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:c}={},transform:d=!0,whileElementsMounted:f,open:m}=t,[y,v]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,A]=E.useState(r);Qh(b,r)||A(r);const[x,R]=E.useState(null),[C,I]=E.useState(null),D=E.useCallback(ie=>{ie!==Z.current&&(Z.current=ie,R(ie))},[]),j=E.useCallback(ie=>{ie!==k.current&&(k.current=ie,I(ie))},[]),H=o||x,$=c||C,Z=E.useRef(null),k=E.useRef(null),N=E.useRef(y),O=f!=null,L=my(f),z=my(s),B=my(m),V=E.useCallback(()=>{if(!Z.current||!k.current)return;const ie={placement:e,strategy:n,middleware:b};z.current&&(ie.platform=z.current),m9(Z.current,k.current,ie).then(ae=>{const F={...ae,isPositioned:B.current!==!1};ye.current&&!Qh(N.current,F)&&(N.current=F,od.flushSync(()=>{v(F)}))})},[b,e,n,z,B]);Th(()=>{m===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,v(ie=>({...ie,isPositioned:!1})))},[m]);const ye=E.useRef(!1);Th(()=>(ye.current=!0,()=>{ye.current=!1}),[]),Th(()=>{if(H&&(Z.current=H),$&&(k.current=$),H&&$){if(L.current)return L.current(H,$,V);V()}},[H,$,V,L,O]);const Ae=E.useMemo(()=>({reference:Z,floating:k,setReference:D,setFloating:j}),[D,j]),J=E.useMemo(()=>({reference:H,floating:$}),[H,$]),ce=E.useMemo(()=>{const ie={position:n,left:0,top:0};if(!J.floating)return ie;const ae=aS(J.floating,y.x),F=aS(J.floating,y.y);return d?{...ie,transform:"translate("+ae+"px, "+F+"px)",...kx(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ae,top:F}},[n,d,J.floating,y.x,y.y]);return E.useMemo(()=>({...y,update:V,refs:Ae,elements:J,floatingStyles:ce}),[y,V,Ae,J,ce])}const g9=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?sS({element:r.current,padding:s}).fn(n):{}:r?sS({element:r,padding:s}).fn(n):{}}}},y9=(t,e)=>({...l9(t),options:[t,e]}),v9=(t,e)=>({...c9(t),options:[t,e]}),_9=(t,e)=>({...h9(t),options:[t,e]}),w9=(t,e)=>({...u9(t),options:[t,e]}),E9=(t,e)=>({...d9(t),options:[t,e]}),b9=(t,e)=>({...f9(t),options:[t,e]}),T9=(t,e)=>({...g9(t),options:[t,e]});var S9="Arrow",Px=E.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return _.jsx(qe.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:_.jsx("polygon",{points:"0,0 30,0 15,10"})})});Px.displayName=S9;var A9=Px;function Lx(t){const[e,n]=E.useState(void 0);return vn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let c,d;if("borderBoxSize"in o){const f=o.borderBoxSize,m=Array.isArray(f)?f[0]:f;c=m.inlineSize,d=m.blockSize}else c=t.offsetWidth,d=t.offsetHeight;n({width:c,height:d})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var b_="Popper",[Vx,hc]=Ti(b_),[x9,jx]=Vx(b_),Ux=t=>{const{__scopePopper:e,children:n}=t,[r,s]=E.useState(null);return _.jsx(x9,{scope:e,anchor:r,onAnchorChange:s,children:n})};Ux.displayName=b_;var Bx="PopperAnchor",zx=E.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=jx(Bx,n),c=E.useRef(null),d=ut(e,c);return E.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||c.current)}),r?null:_.jsx(qe.div,{...s,ref:d})});zx.displayName=Bx;var T_="PopperContent",[R9,C9]=Vx(T_),Fx=E.forwardRef((t,e)=>{var me,_e,Ie,be,ke,He;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:y=0,sticky:v="partial",hideWhenDetached:b=!1,updatePositionStrategy:A="optimized",onPlaced:x,...R}=t,C=jx(T_,n),[I,D]=E.useState(null),j=ut(e,ft=>D(ft)),[H,$]=E.useState(null),Z=Lx(H),k=(Z==null?void 0:Z.width)??0,N=(Z==null?void 0:Z.height)??0,O=r+(o!=="center"?"-"+o:""),L=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},z=Array.isArray(m)?m:[m],B=z.length>0,V={padding:L,boundary:z.filter(D9),altBoundary:B},{refs:ye,floatingStyles:Ae,placement:J,isPositioned:ce,middlewareData:ie}=p9({strategy:"fixed",placement:O,whileElementsMounted:(...ft)=>o9(...ft,{animationFrame:A==="always"}),elements:{reference:C.anchor},middleware:[y9({mainAxis:s+N,alignmentAxis:c}),f&&v9({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?_9():void 0,...V}),f&&w9({...V}),E9({...V,apply:({elements:ft,rects:Vt,availableWidth:_n,availableHeight:un})=>{const{width:Pn,height:Ur}=Vt.reference,Fn=ft.floating.style;Fn.setProperty("--radix-popper-available-width",`${_n}px`),Fn.setProperty("--radix-popper-available-height",`${un}px`),Fn.setProperty("--radix-popper-anchor-width",`${Pn}px`),Fn.setProperty("--radix-popper-anchor-height",`${Ur}px`)}}),H&&T9({element:H,padding:d}),N9({arrowWidth:k,arrowHeight:N}),b&&b9({strategy:"referenceHidden",...V})]}),[ae,F]=Gx(J),ee=er(x);vn(()=>{ce&&(ee==null||ee())},[ce,ee]);const he=(me=ie.arrow)==null?void 0:me.x,fe=(_e=ie.arrow)==null?void 0:_e.y,de=((Ie=ie.arrow)==null?void 0:Ie.centerOffset)!==0,[Ce,Te]=E.useState();return vn(()=>{I&&Te(window.getComputedStyle(I).zIndex)},[I]),_.jsx("div",{ref:ye.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ae,transform:ce?Ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ce,"--radix-popper-transform-origin":[(be=ie.transformOrigin)==null?void 0:be.x,(ke=ie.transformOrigin)==null?void 0:ke.y].join(" "),...((He=ie.hide)==null?void 0:He.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:_.jsx(R9,{scope:n,placedSide:ae,onArrowChange:$,arrowX:he,arrowY:fe,shouldHideArrow:de,children:_.jsx(qe.div,{"data-side":ae,"data-align":F,...R,ref:j,style:{...R.style,animation:ce?void 0:"none"}})})})});Fx.displayName=T_;var Hx="PopperArrow",I9={top:"bottom",right:"left",bottom:"top",left:"right"},qx=E.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=C9(Hx,r),c=I9[o.placedSide];return _.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:_.jsx(A9,{...s,ref:n,style:{...s.style,display:"block"}})})});qx.displayName=Hx;function D9(t){return t!==null}var N9=t=>({name:"transformOrigin",options:t,fn(e){var C,I,D;const{placement:n,rects:r,middlewareData:s}=e,c=((C=s.arrow)==null?void 0:C.centerOffset)!==0,d=c?0:t.arrowWidth,f=c?0:t.arrowHeight,[m,y]=Gx(n),v={start:"0%",center:"50%",end:"100%"}[y],b=(((I=s.arrow)==null?void 0:I.x)??0)+d/2,A=(((D=s.arrow)==null?void 0:D.y)??0)+f/2;let x="",R="";return m==="bottom"?(x=c?v:`${b}px`,R=`${-f}px`):m==="top"?(x=c?v:`${b}px`,R=`${r.floating.height+f}px`):m==="right"?(x=`${-f}px`,R=c?v:`${A}px`):m==="left"&&(x=`${r.floating.width+f}px`,R=c?v:`${A}px`),{data:{x,y:R}}}});function Gx(t){const[e,n="center"]=t.split("-");return[e,n]}var S_=Ux,km=zx,A_=Fx,x_=qx,O9="Portal",Td=E.forwardRef((t,e)=>{var d;const{container:n,...r}=t,[s,o]=E.useState(!1);vn(()=>o(!0),[]);const c=n||s&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return c?dM.createPortal(_.jsx(qe.div,{...r,ref:e}),c):null});Td.displayName=O9;function M9(t,e){return E.useReducer((n,r)=>e[n][r]??n,t)}var Vr=t=>{const{present:e,children:n}=t,r=k9(e),s=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),o=ut(r.ref,P9(s));return typeof n=="function"||r.isPresent?E.cloneElement(s,{ref:o}):null};Vr.displayName="Presence";function k9(t){const[e,n]=E.useState(),r=E.useRef({}),s=E.useRef(t),o=E.useRef("none"),c=t?"mounted":"unmounted",[d,f]=M9(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const m=ah(r.current);o.current=d==="mounted"?m:"none"},[d]),vn(()=>{const m=r.current,y=s.current;if(y!==t){const b=o.current,A=ah(m);t?f("MOUNT"):A==="none"||(m==null?void 0:m.display)==="none"?f("UNMOUNT"):f(y&&b!==A?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,f]),vn(()=>{if(e){let m;const y=e.ownerDocument.defaultView??window,v=A=>{const R=ah(r.current).includes(A.animationName);if(A.target===e&&R&&(f("ANIMATION_END"),!s.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",m=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},b=A=>{A.target===e&&(o.current=ah(r.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{y.clearTimeout(m),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:E.useCallback(m=>{m&&(r.current=getComputedStyle(m)),n(m)},[])}}function ah(t){return(t==null?void 0:t.animationName)||"none"}function P9(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var py="rovingFocusGroup.onEntryFocus",L9={bubbles:!1,cancelable:!0},Pm="RovingFocusGroup",[nv,Wx,V9]=h_(Pm),[j9,$x]=Ti(Pm,[V9]),[U9,B9]=j9(Pm),Yx=E.forwardRef((t,e)=>_.jsx(nv.Provider,{scope:t.__scopeRovingFocusGroup,children:_.jsx(nv.Slot,{scope:t.__scopeRovingFocusGroup,children:_.jsx(z9,{...t,ref:e})})}));Yx.displayName=Pm;var z9=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:y=!1,...v}=t,b=E.useRef(null),A=ut(e,b),x=m_(o),[R=null,C]=bo({prop:c,defaultProp:d,onChange:f}),[I,D]=E.useState(!1),j=er(m),H=Wx(n),$=E.useRef(!1),[Z,k]=E.useState(0);return E.useEffect(()=>{const N=b.current;if(N)return N.addEventListener(py,j),()=>N.removeEventListener(py,j)},[j]),_.jsx(U9,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:R,onItemFocus:E.useCallback(N=>C(N),[C]),onItemShiftTab:E.useCallback(()=>D(!0),[]),onFocusableItemAdd:E.useCallback(()=>k(N=>N+1),[]),onFocusableItemRemove:E.useCallback(()=>k(N=>N-1),[]),children:_.jsx(qe.div,{tabIndex:I||Z===0?-1:0,"data-orientation":r,...v,ref:A,style:{outline:"none",...t.style},onMouseDown:we(t.onMouseDown,()=>{$.current=!0}),onFocus:we(t.onFocus,N=>{const O=!$.current;if(N.target===N.currentTarget&&O&&!I){const L=new CustomEvent(py,L9);if(N.currentTarget.dispatchEvent(L),!L.defaultPrevented){const z=H().filter(J=>J.focusable),B=z.find(J=>J.active),V=z.find(J=>J.id===R),Ae=[B,V,...z].filter(Boolean).map(J=>J.ref.current);Xx(Ae,y)}}$.current=!1}),onBlur:we(t.onBlur,()=>D(!1))})})}),Kx="RovingFocusGroupItem",Qx=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,...c}=t,d=hi(),f=o||d,m=B9(Kx,n),y=m.currentTabStopId===f,v=Wx(n),{onFocusableItemAdd:b,onFocusableItemRemove:A}=m;return E.useEffect(()=>{if(r)return b(),()=>A()},[r,b,A]),_.jsx(nv.ItemSlot,{scope:n,id:f,focusable:r,active:s,children:_.jsx(qe.span,{tabIndex:y?0:-1,"data-orientation":m.orientation,...c,ref:e,onMouseDown:we(t.onMouseDown,x=>{r?m.onItemFocus(f):x.preventDefault()}),onFocus:we(t.onFocus,()=>m.onItemFocus(f)),onKeyDown:we(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){m.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const R=q9(x,m.orientation,m.dir);if(R!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let I=v().filter(D=>D.focusable).map(D=>D.ref.current);if(R==="last")I.reverse();else if(R==="prev"||R==="next"){R==="prev"&&I.reverse();const D=I.indexOf(x.currentTarget);I=m.loop?G9(I,D+1):I.slice(D+1)}setTimeout(()=>Xx(I))}})})})});Qx.displayName=Kx;var F9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function H9(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function q9(t,e,n){const r=H9(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return F9[r]}function Xx(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function G9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var W9=Yx,$9=Qx,Y9=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Sl=new WeakMap,oh=new WeakMap,lh={},gy=0,Zx=function(t){return t&&(t.host||Zx(t.parentNode))},K9=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Zx(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Q9=function(t,e,n,r){var s=K9(e,Array.isArray(t)?t:[t]);lh[n]||(lh[n]=new WeakMap);var o=lh[n],c=[],d=new Set,f=new Set(s),m=function(v){!v||d.has(v)||(d.add(v),m(v.parentNode))};s.forEach(m);var y=function(v){!v||f.has(v)||Array.prototype.forEach.call(v.children,function(b){if(d.has(b))y(b);else try{var A=b.getAttribute(r),x=A!==null&&A!=="false",R=(Sl.get(b)||0)+1,C=(o.get(b)||0)+1;Sl.set(b,R),o.set(b,C),c.push(b),R===1&&x&&oh.set(b,!0),C===1&&b.setAttribute(n,"true"),x||b.setAttribute(r,"true")}catch(I){console.error("aria-hidden: cannot operate on ",b,I)}})};return y(e),d.clear(),gy++,function(){c.forEach(function(v){var b=Sl.get(v)-1,A=o.get(v)-1;Sl.set(v,b),o.set(v,A),b||(oh.has(v)||v.removeAttribute(r),oh.delete(v)),A||v.removeAttribute(n)}),gy--,gy||(Sl=new WeakMap,Sl=new WeakMap,oh=new WeakMap,lh={})}},Lm=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Y9(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Q9(r,s,n,"aria-hidden")):function(){return null}},Sh="right-scroll-bar-position",Ah="width-before-scroll-bar",X9="with-scroll-bars-hidden",Z9="--removed-body-scroll-bar-size";function yy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function J9(t,e){var n=E.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var e6=typeof window<"u"?E.useLayoutEffect:E.useEffect,oS=new WeakMap;function t6(t,e){var n=J9(null,function(r){return t.forEach(function(s){return yy(s,r)})});return e6(function(){var r=oS.get(n);if(r){var s=new Set(r),o=new Set(t),c=n.current;s.forEach(function(d){o.has(d)||yy(d,null)}),o.forEach(function(d){s.has(d)||yy(d,c)})}oS.set(n,t)},[t]),n}function n6(t){return t}function r6(t,e){e===void 0&&(e=n6);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var c=e(o,r);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(o){for(r=!0;n.length;){var c=n;n=[],c.forEach(o)}n={push:function(d){return o(d)},filter:function(){return n}}},assignMedium:function(o){r=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(o),c=n}var f=function(){var y=c;c=[],y.forEach(o)},m=function(){return Promise.resolve().then(f)};m(),n={push:function(y){c.push(y),m()},filter:function(y){return c=c.filter(y),n}}}};return s}function i6(t){t===void 0&&(t={});var e=r6(null);return e.options=ti({async:!0,ssr:!1},t),e}var Jx=function(t){var e=t.sideCar,n=ud(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,ti({},n))};Jx.isSideCarExport=!0;function s6(t,e){return t.useMedium(e),Jx}var eR=i6(),vy=function(){},Vm=E.forwardRef(function(t,e){var n=E.useRef(null),r=E.useState({onScrollCapture:vy,onWheelCapture:vy,onTouchMoveCapture:vy}),s=r[0],o=r[1],c=t.forwardProps,d=t.children,f=t.className,m=t.removeScrollBar,y=t.enabled,v=t.shards,b=t.sideCar,A=t.noIsolation,x=t.inert,R=t.allowPinchZoom,C=t.as,I=C===void 0?"div":C,D=t.gapMode,j=ud(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),H=b,$=t6([n,e]),Z=ti(ti({},j),s);return E.createElement(E.Fragment,null,y&&E.createElement(H,{sideCar:eR,removeScrollBar:m,shards:v,noIsolation:A,inert:x,setCallbacks:o,allowPinchZoom:!!R,lockRef:n,gapMode:D}),c?E.cloneElement(E.Children.only(d),ti(ti({},Z),{ref:$})):E.createElement(I,ti({},Z,{className:f,ref:$}),d))});Vm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vm.classNames={fullWidth:Ah,zeroRight:Sh};var a6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function o6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=a6();return e&&t.setAttribute("nonce",e),t}function l6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function c6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var u6=function(){var t=0,e=null;return{add:function(n){t==0&&(e=o6())&&(l6(e,n),c6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},d6=function(){var t=u6();return function(e,n){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},tR=function(){var t=d6(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},f6={left:0,top:0,right:0,gap:0},_y=function(t){return parseInt(t||"",10)||0},h6=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[_y(n),_y(r),_y(s)]},m6=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return f6;var e=h6(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},p6=tR(),jl="data-scroll-locked",g6=function(t,e,n,r){var s=t.left,o=t.top,c=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(X9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(jl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sh,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Ah,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Sh," .").concat(Sh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ah," .").concat(Ah,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(jl,`] {
    `).concat(Z9,": ").concat(d,`px;
  }
`)},lS=function(){var t=parseInt(document.body.getAttribute(jl)||"0",10);return isFinite(t)?t:0},y6=function(){E.useEffect(function(){return document.body.setAttribute(jl,(lS()+1).toString()),function(){var t=lS()-1;t<=0?document.body.removeAttribute(jl):document.body.setAttribute(jl,t.toString())}},[])},v6=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;y6();var o=E.useMemo(function(){return m6(s)},[s]);return E.createElement(p6,{styles:g6(o,!e,s,n?"":"!important")})},rv=!1;if(typeof window<"u")try{var ch=Object.defineProperty({},"passive",{get:function(){return rv=!0,!0}});window.addEventListener("test",ch,ch),window.removeEventListener("test",ch,ch)}catch{rv=!1}var Al=rv?{passive:!1}:!1,_6=function(t){return t.tagName==="TEXTAREA"},nR=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!_6(t)&&n[e]==="visible")},w6=function(t){return nR(t,"overflowY")},E6=function(t){return nR(t,"overflowX")},cS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=rR(t,r);if(s){var o=iR(t,r),c=o[1],d=o[2];if(c>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},b6=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},T6=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},rR=function(t,e){return t==="v"?w6(e):E6(e)},iR=function(t,e){return t==="v"?b6(e):T6(e)},S6=function(t,e){return t==="h"&&e==="rtl"?-1:1},A6=function(t,e,n,r,s){var o=S6(t,window.getComputedStyle(e).direction),c=o*r,d=n.target,f=e.contains(d),m=!1,y=c>0,v=0,b=0;do{var A=iR(t,d),x=A[0],R=A[1],C=A[2],I=R-C-o*x;(x||I)&&rR(t,d)&&(v+=I,b+=x),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!f&&d!==document.body||f&&(e.contains(d)||e===d));return(y&&(Math.abs(v)<1||!s)||!y&&(Math.abs(b)<1||!s))&&(m=!0),m},uh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},uS=function(t){return[t.deltaX,t.deltaY]},dS=function(t){return t&&"current"in t?t.current:t},x6=function(t,e){return t[0]===e[0]&&t[1]===e[1]},R6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},C6=0,xl=[];function I6(t){var e=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),s=E.useState(C6++)[0],o=E.useState(tR)[0],c=E.useRef(t);E.useEffect(function(){c.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var R=Hk([t.lockRef.current],(t.shards||[]).map(dS),!0).filter(Boolean);return R.forEach(function(C){return C.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),R.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var d=E.useCallback(function(R,C){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!c.current.allowPinchZoom;var I=uh(R),D=n.current,j="deltaX"in R?R.deltaX:D[0]-I[0],H="deltaY"in R?R.deltaY:D[1]-I[1],$,Z=R.target,k=Math.abs(j)>Math.abs(H)?"h":"v";if("touches"in R&&k==="h"&&Z.type==="range")return!1;var N=cS(k,Z);if(!N)return!0;if(N?$=k:($=k==="v"?"h":"v",N=cS(k,Z)),!N)return!1;if(!r.current&&"changedTouches"in R&&(j||H)&&(r.current=$),!$)return!0;var O=r.current||$;return A6(O,C,R,O==="h"?j:H,!0)},[]),f=E.useCallback(function(R){var C=R;if(!(!xl.length||xl[xl.length-1]!==o)){var I="deltaY"in C?uS(C):uh(C),D=e.current.filter(function($){return $.name===C.type&&($.target===C.target||C.target===$.shadowParent)&&x6($.delta,I)})[0];if(D&&D.should){C.cancelable&&C.preventDefault();return}if(!D){var j=(c.current.shards||[]).map(dS).filter(Boolean).filter(function($){return $.contains(C.target)}),H=j.length>0?d(C,j[0]):!c.current.noIsolation;H&&C.cancelable&&C.preventDefault()}}},[]),m=E.useCallback(function(R,C,I,D){var j={name:R,delta:C,target:I,should:D,shadowParent:D6(I)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(H){return H!==j})},1)},[]),y=E.useCallback(function(R){n.current=uh(R),r.current=void 0},[]),v=E.useCallback(function(R){m(R.type,uS(R),R.target,d(R,t.lockRef.current))},[]),b=E.useCallback(function(R){m(R.type,uh(R),R.target,d(R,t.lockRef.current))},[]);E.useEffect(function(){return xl.push(o),t.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:b}),document.addEventListener("wheel",f,Al),document.addEventListener("touchmove",f,Al),document.addEventListener("touchstart",y,Al),function(){xl=xl.filter(function(R){return R!==o}),document.removeEventListener("wheel",f,Al),document.removeEventListener("touchmove",f,Al),document.removeEventListener("touchstart",y,Al)}},[]);var A=t.removeScrollBar,x=t.inert;return E.createElement(E.Fragment,null,x?E.createElement(o,{styles:R6(s)}):null,A?E.createElement(v6,{gapMode:t.gapMode}):null)}function D6(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const N6=s6(eR,I6);var Sd=E.forwardRef(function(t,e){return E.createElement(Vm,ti({},t,{ref:e,sideCar:N6}))});Sd.classNames=Vm.classNames;var iv=["Enter"," "],O6=["ArrowDown","PageUp","Home"],sR=["ArrowUp","PageDown","End"],M6=[...O6,...sR],k6={ltr:[...iv,"ArrowRight"],rtl:[...iv,"ArrowLeft"]},P6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ad="Menu",[ed,L6,V6]=h_(Ad),[No,aR]=Ti(Ad,[V6,hc,$x]),jm=hc(),oR=$x(),[j6,Oo]=No(Ad),[U6,xd]=No(Ad),lR=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:o,modal:c=!0}=t,d=jm(e),[f,m]=E.useState(null),y=E.useRef(!1),v=er(o),b=m_(s);return E.useEffect(()=>{const A=()=>{y.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>y.current=!1;return document.addEventListener("keydown",A,{capture:!0}),()=>{document.removeEventListener("keydown",A,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),_.jsx(S_,{...d,children:_.jsx(j6,{scope:e,open:n,onOpenChange:v,content:f,onContentChange:m,children:_.jsx(U6,{scope:e,onClose:E.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:y,dir:b,modal:c,children:r})})})};lR.displayName=Ad;var B6="MenuAnchor",R_=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=jm(n);return _.jsx(km,{...s,...r,ref:e})});R_.displayName=B6;var C_="MenuPortal",[z6,cR]=No(C_,{forceMount:void 0}),uR=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,o=Oo(C_,e);return _.jsx(z6,{scope:e,forceMount:n,children:_.jsx(Vr,{present:n||o.open,children:_.jsx(Td,{asChild:!0,container:s,children:r})})})};uR.displayName=C_;var wr="MenuContent",[F6,I_]=No(wr),dR=E.forwardRef((t,e)=>{const n=cR(wr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=Oo(wr,t.__scopeMenu),c=xd(wr,t.__scopeMenu);return _.jsx(ed.Provider,{scope:t.__scopeMenu,children:_.jsx(Vr,{present:r||o.open,children:_.jsx(ed.Slot,{scope:t.__scopeMenu,children:c.modal?_.jsx(H6,{...s,ref:e}):_.jsx(q6,{...s,ref:e})})})})}),H6=E.forwardRef((t,e)=>{const n=Oo(wr,t.__scopeMenu),r=E.useRef(null),s=ut(e,r);return E.useEffect(()=>{const o=r.current;if(o)return Lm(o)},[]),_.jsx(D_,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:we(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),q6=E.forwardRef((t,e)=>{const n=Oo(wr,t.__scopeMenu);return _.jsx(D_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),D_=E.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEntryFocus:f,onEscapeKeyDown:m,onPointerDownOutside:y,onFocusOutside:v,onInteractOutside:b,onDismiss:A,disableOutsideScroll:x,...R}=t,C=Oo(wr,n),I=xd(wr,n),D=jm(n),j=oR(n),H=L6(n),[$,Z]=E.useState(null),k=E.useRef(null),N=ut(e,k,C.onContentChange),O=E.useRef(0),L=E.useRef(""),z=E.useRef(0),B=E.useRef(null),V=E.useRef("right"),ye=E.useRef(0),Ae=x?Sd:E.Fragment,J=x?{as:ls,allowPinchZoom:!0}:void 0,ce=ae=>{var me,_e;const F=L.current+ae,ee=H().filter(Ie=>!Ie.disabled),he=document.activeElement,fe=(me=ee.find(Ie=>Ie.ref.current===he))==null?void 0:me.textValue,de=ee.map(Ie=>Ie.textValue),Ce=nz(de,F,fe),Te=(_e=ee.find(Ie=>Ie.textValue===Ce))==null?void 0:_e.ref.current;(function Ie(be){L.current=be,window.clearTimeout(O.current),be!==""&&(O.current=window.setTimeout(()=>Ie(""),1e3))})(F),Te&&setTimeout(()=>Te.focus())};E.useEffect(()=>()=>window.clearTimeout(O.current),[]),Dm();const ie=E.useCallback(ae=>{var ee,he;return V.current===((ee=B.current)==null?void 0:ee.side)&&iz(ae,(he=B.current)==null?void 0:he.area)},[]);return _.jsx(F6,{scope:n,searchRef:L,onItemEnter:E.useCallback(ae=>{ie(ae)&&ae.preventDefault()},[ie]),onItemLeave:E.useCallback(ae=>{var F;ie(ae)||((F=k.current)==null||F.focus(),Z(null))},[ie]),onTriggerLeave:E.useCallback(ae=>{ie(ae)&&ae.preventDefault()},[ie]),pointerGraceTimerRef:z,onPointerGraceIntentChange:E.useCallback(ae=>{B.current=ae},[]),children:_.jsx(Ae,{...J,children:_.jsx(Ed,{asChild:!0,trapped:s,onMountAutoFocus:we(o,ae=>{var F;ae.preventDefault(),(F=k.current)==null||F.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:_.jsx(wd,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:m,onPointerDownOutside:y,onFocusOutside:v,onInteractOutside:b,onDismiss:A,children:_.jsx(W9,{asChild:!0,...j,dir:I.dir,orientation:"vertical",loop:r,currentTabStopId:$,onCurrentTabStopIdChange:Z,onEntryFocus:we(f,ae=>{I.isUsingKeyboardRef.current||ae.preventDefault()}),preventScrollOnEntryFocus:!0,children:_.jsx(A_,{role:"menu","aria-orientation":"vertical","data-state":RR(C.open),"data-radix-menu-content":"",dir:I.dir,...D,...R,ref:N,style:{outline:"none",...R.style},onKeyDown:we(R.onKeyDown,ae=>{const ee=ae.target.closest("[data-radix-menu-content]")===ae.currentTarget,he=ae.ctrlKey||ae.altKey||ae.metaKey,fe=ae.key.length===1;ee&&(ae.key==="Tab"&&ae.preventDefault(),!he&&fe&&ce(ae.key));const de=k.current;if(ae.target!==de||!M6.includes(ae.key))return;ae.preventDefault();const Te=H().filter(me=>!me.disabled).map(me=>me.ref.current);sR.includes(ae.key)&&Te.reverse(),ez(Te)}),onBlur:we(t.onBlur,ae=>{ae.currentTarget.contains(ae.target)||(window.clearTimeout(O.current),L.current="")}),onPointerMove:we(t.onPointerMove,td(ae=>{const F=ae.target,ee=ye.current!==ae.clientX;if(ae.currentTarget.contains(F)&&ee){const he=ae.clientX>ye.current?"right":"left";V.current=he,ye.current=ae.clientX}}))})})})})})})});dR.displayName=wr;var G6="MenuGroup",N_=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return _.jsx(qe.div,{role:"group",...r,ref:e})});N_.displayName=G6;var W6="MenuLabel",fR=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return _.jsx(qe.div,{...r,ref:e})});fR.displayName=W6;var Xh="MenuItem",fS="menu.itemSelect",Um=E.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,o=E.useRef(null),c=xd(Xh,t.__scopeMenu),d=I_(Xh,t.__scopeMenu),f=ut(e,o),m=E.useRef(!1),y=()=>{const v=o.current;if(!n&&v){const b=new CustomEvent(fS,{bubbles:!0,cancelable:!0});v.addEventListener(fS,A=>r==null?void 0:r(A),{once:!0}),bx(v,b),b.defaultPrevented?m.current=!1:c.onClose()}};return _.jsx(hR,{...s,ref:f,disabled:n,onClick:we(t.onClick,y),onPointerDown:v=>{var b;(b=t.onPointerDown)==null||b.call(t,v),m.current=!0},onPointerUp:we(t.onPointerUp,v=>{var b;m.current||(b=v.currentTarget)==null||b.click()}),onKeyDown:we(t.onKeyDown,v=>{const b=d.searchRef.current!=="";n||b&&v.key===" "||iv.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});Um.displayName=Xh;var hR=E.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=t,c=I_(Xh,n),d=oR(n),f=E.useRef(null),m=ut(e,f),[y,v]=E.useState(!1),[b,A]=E.useState("");return E.useEffect(()=>{const x=f.current;x&&A((x.textContent??"").trim())},[o.children]),_.jsx(ed.ItemSlot,{scope:n,disabled:r,textValue:s??b,children:_.jsx($9,{asChild:!0,...d,focusable:!r,children:_.jsx(qe.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:m,onPointerMove:we(t.onPointerMove,td(x=>{r?c.onItemLeave(x):(c.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:we(t.onPointerLeave,td(x=>c.onItemLeave(x))),onFocus:we(t.onFocus,()=>v(!0)),onBlur:we(t.onBlur,()=>v(!1))})})})}),$6="MenuCheckboxItem",mR=E.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return _.jsx(_R,{scope:t.__scopeMenu,checked:n,children:_.jsx(Um,{role:"menuitemcheckbox","aria-checked":Zh(n)?"mixed":n,...s,ref:e,"data-state":M_(n),onSelect:we(s.onSelect,()=>r==null?void 0:r(Zh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});mR.displayName=$6;var pR="MenuRadioGroup",[Y6,K6]=No(pR,{value:void 0,onValueChange:()=>{}}),gR=E.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,o=er(r);return _.jsx(Y6,{scope:t.__scopeMenu,value:n,onValueChange:o,children:_.jsx(N_,{...s,ref:e})})});gR.displayName=pR;var yR="MenuRadioItem",vR=E.forwardRef((t,e)=>{const{value:n,...r}=t,s=K6(yR,t.__scopeMenu),o=n===s.value;return _.jsx(_R,{scope:t.__scopeMenu,checked:o,children:_.jsx(Um,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":M_(o),onSelect:we(r.onSelect,()=>{var c;return(c=s.onValueChange)==null?void 0:c.call(s,n)},{checkForDefaultPrevented:!1})})})});vR.displayName=yR;var O_="MenuItemIndicator",[_R,Q6]=No(O_,{checked:!1}),wR=E.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,o=Q6(O_,n);return _.jsx(Vr,{present:r||Zh(o.checked)||o.checked===!0,children:_.jsx(qe.span,{...s,ref:e,"data-state":M_(o.checked)})})});wR.displayName=O_;var X6="MenuSeparator",ER=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return _.jsx(qe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});ER.displayName=X6;var Z6="MenuArrow",bR=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=jm(n);return _.jsx(x_,{...s,...r,ref:e})});bR.displayName=Z6;var J6="MenuSub",[a7,TR]=No(J6),Nu="MenuSubTrigger",SR=E.forwardRef((t,e)=>{const n=Oo(Nu,t.__scopeMenu),r=xd(Nu,t.__scopeMenu),s=TR(Nu,t.__scopeMenu),o=I_(Nu,t.__scopeMenu),c=E.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:f}=o,m={__scopeMenu:t.__scopeMenu},y=E.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return E.useEffect(()=>y,[y]),E.useEffect(()=>{const v=d.current;return()=>{window.clearTimeout(v),f(null)}},[d,f]),_.jsx(R_,{asChild:!0,...m,children:_.jsx(hR,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":RR(n.open),...t,ref:Cm(e,s.onTriggerChange),onClick:v=>{var b;(b=t.onClick)==null||b.call(t,v),!(t.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:we(t.onPointerMove,td(v=>{o.onItemEnter(v),!v.defaultPrevented&&!t.disabled&&!n.open&&!c.current&&(o.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),y()},100))})),onPointerLeave:we(t.onPointerLeave,td(v=>{var A,x;y();const b=(A=n.content)==null?void 0:A.getBoundingClientRect();if(b){const R=(x=n.content)==null?void 0:x.dataset.side,C=R==="right",I=C?-5:5,D=b[C?"left":"right"],j=b[C?"right":"left"];o.onPointerGraceIntentChange({area:[{x:v.clientX+I,y:v.clientY},{x:D,y:b.top},{x:j,y:b.top},{x:j,y:b.bottom},{x:D,y:b.bottom}],side:R}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(v),v.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:we(t.onKeyDown,v=>{var A;const b=o.searchRef.current!=="";t.disabled||b&&v.key===" "||k6[r.dir].includes(v.key)&&(n.onOpenChange(!0),(A=n.content)==null||A.focus(),v.preventDefault())})})})});SR.displayName=Nu;var AR="MenuSubContent",xR=E.forwardRef((t,e)=>{const n=cR(wr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,o=Oo(wr,t.__scopeMenu),c=xd(wr,t.__scopeMenu),d=TR(AR,t.__scopeMenu),f=E.useRef(null),m=ut(e,f);return _.jsx(ed.Provider,{scope:t.__scopeMenu,children:_.jsx(Vr,{present:r||o.open,children:_.jsx(ed.Slot,{scope:t.__scopeMenu,children:_.jsx(D_,{id:d.contentId,"aria-labelledby":d.triggerId,...s,ref:m,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{var v;c.isUsingKeyboardRef.current&&((v=f.current)==null||v.focus()),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:we(t.onFocusOutside,y=>{y.target!==d.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:we(t.onEscapeKeyDown,y=>{c.onClose(),y.preventDefault()}),onKeyDown:we(t.onKeyDown,y=>{var A;const v=y.currentTarget.contains(y.target),b=P6[c.dir].includes(y.key);v&&b&&(o.onOpenChange(!1),(A=d.trigger)==null||A.focus(),y.preventDefault())})})})})})});xR.displayName=AR;function RR(t){return t?"open":"closed"}function Zh(t){return t==="indeterminate"}function M_(t){return Zh(t)?"indeterminate":t?"checked":"unchecked"}function ez(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function tz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function nz(t,e,n){const s=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let c=tz(t,Math.max(o,0));s.length===1&&(c=c.filter(m=>m!==n));const f=c.find(m=>m.toLowerCase().startsWith(s.toLowerCase()));return f!==n?f:void 0}function rz(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,c=e.length-1;o<e.length;c=o++){const d=e[o].x,f=e[o].y,m=e[c].x,y=e[c].y;f>r!=y>r&&n<(m-d)*(r-f)/(y-f)+d&&(s=!s)}return s}function iz(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return rz(n,e)}function td(t){return e=>e.pointerType==="mouse"?t(e):void 0}var sz=lR,az=R_,oz=uR,lz=dR,cz=N_,uz=fR,dz=Um,fz=mR,hz=gR,mz=vR,pz=wR,gz=ER,yz=bR,vz=SR,_z=xR,k_="DropdownMenu",[wz,o7]=Ti(k_,[aR]),kn=aR(),[Ez,CR]=wz(k_),IR=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:c,modal:d=!0}=t,f=kn(e),m=E.useRef(null),[y=!1,v]=bo({prop:s,defaultProp:o,onChange:c});return _.jsx(Ez,{scope:e,triggerId:hi(),triggerRef:m,contentId:hi(),open:y,onOpenChange:v,onOpenToggle:E.useCallback(()=>v(b=>!b),[v]),modal:d,children:_.jsx(sz,{...f,open:y,onOpenChange:v,dir:r,modal:d,children:n})})};IR.displayName=k_;var DR="DropdownMenuTrigger",NR=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,o=CR(DR,n),c=kn(n);return _.jsx(az,{asChild:!0,...c,children:_.jsx(qe.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Cm(e,o.triggerRef),onPointerDown:we(t.onPointerDown,d=>{!r&&d.button===0&&d.ctrlKey===!1&&(o.onOpenToggle(),o.open||d.preventDefault())}),onKeyDown:we(t.onKeyDown,d=>{r||(["Enter"," "].includes(d.key)&&o.onOpenToggle(),d.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});NR.displayName=DR;var bz="DropdownMenuPortal",OR=t=>{const{__scopeDropdownMenu:e,...n}=t,r=kn(e);return _.jsx(oz,{...r,...n})};OR.displayName=bz;var MR="DropdownMenuContent",kR=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=CR(MR,n),o=kn(n),c=E.useRef(!1);return _.jsx(lz,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:e,onCloseAutoFocus:we(t.onCloseAutoFocus,d=>{var f;c.current||(f=s.triggerRef.current)==null||f.focus(),c.current=!1,d.preventDefault()}),onInteractOutside:we(t.onInteractOutside,d=>{const f=d.detail.originalEvent,m=f.button===0&&f.ctrlKey===!0,y=f.button===2||m;(!s.modal||y)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});kR.displayName=MR;var Tz="DropdownMenuGroup",Sz=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=kn(n);return _.jsx(cz,{...s,...r,ref:e})});Sz.displayName=Tz;var Az="DropdownMenuLabel",PR=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=kn(n);return _.jsx(uz,{...s,...r,ref:e})});PR.displayName=Az;var xz="DropdownMenuItem",LR=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=kn(n);return _.jsx(dz,{...s,...r,ref:e})});LR.displayName=xz;var Rz="DropdownMenuCheckboxItem",VR=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=kn(n);return _.jsx(fz,{...s,...r,ref:e})});VR.displayName=Rz;var Cz="DropdownMenuRadioGroup",Iz=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=kn(n);return _.jsx(hz,{...s,...r,ref:e})});Iz.displayName=Cz;var Dz="DropdownMenuRadioItem",jR=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=kn(n);return _.jsx(mz,{...s,...r,ref:e})});jR.displayName=Dz;var Nz="DropdownMenuItemIndicator",UR=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=kn(n);return _.jsx(pz,{...s,...r,ref:e})});UR.displayName=Nz;var Oz="DropdownMenuSeparator",BR=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=kn(n);return _.jsx(gz,{...s,...r,ref:e})});BR.displayName=Oz;var Mz="DropdownMenuArrow",kz=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=kn(n);return _.jsx(yz,{...s,...r,ref:e})});kz.displayName=Mz;var Pz="DropdownMenuSubTrigger",zR=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=kn(n);return _.jsx(vz,{...s,...r,ref:e})});zR.displayName=Pz;var Lz="DropdownMenuSubContent",FR=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=kn(n);return _.jsx(_z,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});FR.displayName=Lz;var Vz=IR,jz=NR,Uz=OR,HR=kR,qR=PR,GR=LR,WR=VR,$R=jR,YR=UR,KR=BR,QR=zR,XR=FR;const mc=Vz,pc=jz,Bz=E.forwardRef(({className:t,inset:e,children:n,...r},s)=>_.jsxs(QR,{ref:s,className:Be("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,_.jsx(YU,{className:"ml-auto h-4 w-4"})]}));Bz.displayName=QR.displayName;const zz=E.forwardRef(({className:t,...e},n)=>_.jsx(XR,{ref:n,className:Be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));zz.displayName=XR.displayName;const Mo=E.forwardRef(({className:t,sideOffset:e=4,...n},r)=>_.jsx(Uz,{children:_.jsx(HR,{ref:r,sideOffset:e,className:Be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Mo.displayName=HR.displayName;const So=E.forwardRef(({className:t,inset:e,...n},r)=>_.jsx(GR,{ref:r,className:Be("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));So.displayName=GR.displayName;const Fz=E.forwardRef(({className:t,children:e,checked:n,...r},s)=>_.jsxs(WR,{ref:s,className:Be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[_.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:_.jsx(YR,{children:_.jsx(d_,{className:"h-4 w-4"})})}),e]}));Fz.displayName=WR.displayName;const Hz=E.forwardRef(({className:t,children:e,...n},r)=>_.jsxs($R,{ref:r,className:Be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[_.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:_.jsx(YR,{children:_.jsx(KU,{className:"h-2 w-2 fill-current"})})}),e]}));Hz.displayName=$R.displayName;const qz=E.forwardRef(({className:t,inset:e,...n},r)=>_.jsx(qR,{ref:r,className:Be("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));qz.displayName=qR.displayName;const ZR=E.forwardRef(({className:t,...e},n)=>_.jsx(KR,{ref:n,className:Be("-mx-1 my-1 h-px bg-muted",t),...e}));ZR.displayName=KR.displayName;const _i=E.forwardRef(({className:t,type:e,...n},r)=>_.jsx("input",{type:e,className:Be("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));_i.displayName="Input";const P_=E.forwardRef(({className:t,...e},n)=>_.jsx("textarea",{className:Be("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));P_.displayName="Textarea";function hS(t,[e,n]){return Math.min(n,Math.max(e,t))}function JR(t){const e=E.useRef({value:t,previous:t});return E.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Gz="VisuallyHidden",eC=E.forwardRef((t,e)=>_.jsx(qe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));eC.displayName=Gz;var Wz=[" ","Enter","ArrowUp","ArrowDown"],$z=[" ","Enter"],Rd="Select",[Bm,zm,Yz]=h_(Rd),[gc,l7]=Ti(Rd,[Yz,hc]),Fm=hc(),[Kz,Sa]=gc(Rd),[Qz,Xz]=gc(Rd),tC=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:c,defaultValue:d,onValueChange:f,dir:m,name:y,autoComplete:v,disabled:b,required:A,form:x}=t,R=Fm(e),[C,I]=E.useState(null),[D,j]=E.useState(null),[H,$]=E.useState(!1),Z=m_(m),[k=!1,N]=bo({prop:r,defaultProp:s,onChange:o}),[O,L]=bo({prop:c,defaultProp:d,onChange:f}),z=E.useRef(null),B=C?x||!!C.closest("form"):!0,[V,ye]=E.useState(new Set),Ae=Array.from(V).map(J=>J.props.value).join(";");return _.jsx(S_,{...R,children:_.jsxs(Kz,{required:A,scope:e,trigger:C,onTriggerChange:I,valueNode:D,onValueNodeChange:j,valueNodeHasChildren:H,onValueNodeHasChildrenChange:$,contentId:hi(),value:O,onValueChange:L,open:k,onOpenChange:N,dir:Z,triggerPointerDownPosRef:z,disabled:b,children:[_.jsx(Bm.Provider,{scope:e,children:_.jsx(Qz,{scope:t.__scopeSelect,onNativeOptionAdd:E.useCallback(J=>{ye(ce=>new Set(ce).add(J))},[]),onNativeOptionRemove:E.useCallback(J=>{ye(ce=>{const ie=new Set(ce);return ie.delete(J),ie})},[]),children:n})}),B?_.jsxs(TC,{"aria-hidden":!0,required:A,tabIndex:-1,name:y,autoComplete:v,value:O,onChange:J=>L(J.target.value),disabled:b,form:x,children:[O===void 0?_.jsx("option",{value:""}):null,Array.from(V)]},Ae):null]})})};tC.displayName=Rd;var nC="SelectTrigger",rC=E.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=Fm(n),c=Sa(nC,n),d=c.disabled||r,f=ut(e,c.onTriggerChange),m=zm(n),y=E.useRef("touch"),[v,b,A]=SC(R=>{const C=m().filter(j=>!j.disabled),I=C.find(j=>j.value===c.value),D=AC(C,R,I);D!==void 0&&c.onValueChange(D.value)}),x=R=>{d||(c.onOpenChange(!0),A()),R&&(c.triggerPointerDownPosRef.current={x:Math.round(R.pageX),y:Math.round(R.pageY)})};return _.jsx(km,{asChild:!0,...o,children:_.jsx(qe.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":bC(c.value)?"":void 0,...s,ref:f,onClick:we(s.onClick,R=>{R.currentTarget.focus(),y.current!=="mouse"&&x(R)}),onPointerDown:we(s.onPointerDown,R=>{y.current=R.pointerType;const C=R.target;C.hasPointerCapture(R.pointerId)&&C.releasePointerCapture(R.pointerId),R.button===0&&R.ctrlKey===!1&&R.pointerType==="mouse"&&(x(R),R.preventDefault())}),onKeyDown:we(s.onKeyDown,R=>{const C=v.current!=="";!(R.ctrlKey||R.altKey||R.metaKey)&&R.key.length===1&&b(R.key),!(C&&R.key===" ")&&Wz.includes(R.key)&&(x(),R.preventDefault())})})})});rC.displayName=nC;var iC="SelectValue",sC=E.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:c="",...d}=t,f=Sa(iC,n),{onValueNodeHasChildrenChange:m}=f,y=o!==void 0,v=ut(e,f.onValueNodeChange);return vn(()=>{m(y)},[m,y]),_.jsx(qe.span,{...d,ref:v,style:{pointerEvents:"none"},children:bC(f.value)?_.jsx(_.Fragment,{children:c}):o})});sC.displayName=iC;var Zz="SelectIcon",Jz=E.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return _.jsx(qe.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});Jz.displayName=Zz;var e5="SelectPortal",aC=t=>_.jsx(Td,{asChild:!0,...t});aC.displayName=e5;var Ao="SelectContent",oC=E.forwardRef((t,e)=>{const n=Sa(Ao,t.__scopeSelect),[r,s]=E.useState();if(vn(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?od.createPortal(_.jsx(lC,{scope:t.__scopeSelect,children:_.jsx(Bm.Slot,{scope:t.__scopeSelect,children:_.jsx("div",{children:t.children})})}),o):null}return _.jsx(cC,{...t,ref:e})});oC.displayName=Ao;var Cr=10,[lC,Aa]=gc(Ao),t5="SelectContentImpl",cC=E.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:c,side:d,sideOffset:f,align:m,alignOffset:y,arrowPadding:v,collisionBoundary:b,collisionPadding:A,sticky:x,hideWhenDetached:R,avoidCollisions:C,...I}=t,D=Sa(Ao,n),[j,H]=E.useState(null),[$,Z]=E.useState(null),k=ut(e,me=>H(me)),[N,O]=E.useState(null),[L,z]=E.useState(null),B=zm(n),[V,ye]=E.useState(!1),Ae=E.useRef(!1);E.useEffect(()=>{if(j)return Lm(j)},[j]),Dm();const J=E.useCallback(me=>{const[_e,...Ie]=B().map(He=>He.ref.current),[be]=Ie.slice(-1),ke=document.activeElement;for(const He of me)if(He===ke||(He==null||He.scrollIntoView({block:"nearest"}),He===_e&&$&&($.scrollTop=0),He===be&&$&&($.scrollTop=$.scrollHeight),He==null||He.focus(),document.activeElement!==ke))return},[B,$]),ce=E.useCallback(()=>J([N,j]),[J,N,j]);E.useEffect(()=>{V&&ce()},[V,ce]);const{onOpenChange:ie,triggerPointerDownPosRef:ae}=D;E.useEffect(()=>{if(j){let me={x:0,y:0};const _e=be=>{var ke,He;me={x:Math.abs(Math.round(be.pageX)-(((ke=ae.current)==null?void 0:ke.x)??0)),y:Math.abs(Math.round(be.pageY)-(((He=ae.current)==null?void 0:He.y)??0))}},Ie=be=>{me.x<=10&&me.y<=10?be.preventDefault():j.contains(be.target)||ie(!1),document.removeEventListener("pointermove",_e),ae.current=null};return ae.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",Ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",Ie,{capture:!0})}}},[j,ie,ae]),E.useEffect(()=>{const me=()=>ie(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[ie]);const[F,ee]=SC(me=>{const _e=B().filter(ke=>!ke.disabled),Ie=_e.find(ke=>ke.ref.current===document.activeElement),be=AC(_e,me,Ie);be&&setTimeout(()=>be.ref.current.focus())}),he=E.useCallback((me,_e,Ie)=>{const be=!Ae.current&&!Ie;(D.value!==void 0&&D.value===_e||be)&&(O(me),be&&(Ae.current=!0))},[D.value]),fe=E.useCallback(()=>j==null?void 0:j.focus(),[j]),de=E.useCallback((me,_e,Ie)=>{const be=!Ae.current&&!Ie;(D.value!==void 0&&D.value===_e||be)&&z(me)},[D.value]),Ce=r==="popper"?sv:uC,Te=Ce===sv?{side:d,sideOffset:f,align:m,alignOffset:y,arrowPadding:v,collisionBoundary:b,collisionPadding:A,sticky:x,hideWhenDetached:R,avoidCollisions:C}:{};return _.jsx(lC,{scope:n,content:j,viewport:$,onViewportChange:Z,itemRefCallback:he,selectedItem:N,onItemLeave:fe,itemTextRefCallback:de,focusSelectedItem:ce,selectedItemText:L,position:r,isPositioned:V,searchRef:F,children:_.jsx(Sd,{as:ls,allowPinchZoom:!0,children:_.jsx(Ed,{asChild:!0,trapped:D.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:we(s,me=>{var _e;(_e=D.trigger)==null||_e.focus({preventScroll:!0}),me.preventDefault()}),children:_.jsx(wd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:_.jsx(Ce,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:me=>me.preventDefault(),...I,...Te,onPlaced:()=>ye(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...I.style},onKeyDown:we(I.onKeyDown,me=>{const _e=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!_e&&me.key.length===1&&ee(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let be=B().filter(ke=>!ke.disabled).map(ke=>ke.ref.current);if(["ArrowUp","End"].includes(me.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const ke=me.target,He=be.indexOf(ke);be=be.slice(He+1)}setTimeout(()=>J(be)),me.preventDefault()}})})})})})})});cC.displayName=t5;var n5="SelectItemAlignedPosition",uC=E.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=Sa(Ao,n),c=Aa(Ao,n),[d,f]=E.useState(null),[m,y]=E.useState(null),v=ut(e,k=>y(k)),b=zm(n),A=E.useRef(!1),x=E.useRef(!0),{viewport:R,selectedItem:C,selectedItemText:I,focusSelectedItem:D}=c,j=E.useCallback(()=>{if(o.trigger&&o.valueNode&&d&&m&&R&&C&&I){const k=o.trigger.getBoundingClientRect(),N=m.getBoundingClientRect(),O=o.valueNode.getBoundingClientRect(),L=I.getBoundingClientRect();if(o.dir!=="rtl"){const ke=L.left-N.left,He=O.left-ke,ft=k.left-He,Vt=k.width+ft,_n=Math.max(Vt,N.width),un=window.innerWidth-Cr,Pn=hS(He,[Cr,Math.max(Cr,un-_n)]);d.style.minWidth=Vt+"px",d.style.left=Pn+"px"}else{const ke=N.right-L.right,He=window.innerWidth-O.right-ke,ft=window.innerWidth-k.right-He,Vt=k.width+ft,_n=Math.max(Vt,N.width),un=window.innerWidth-Cr,Pn=hS(He,[Cr,Math.max(Cr,un-_n)]);d.style.minWidth=Vt+"px",d.style.right=Pn+"px"}const z=b(),B=window.innerHeight-Cr*2,V=R.scrollHeight,ye=window.getComputedStyle(m),Ae=parseInt(ye.borderTopWidth,10),J=parseInt(ye.paddingTop,10),ce=parseInt(ye.borderBottomWidth,10),ie=parseInt(ye.paddingBottom,10),ae=Ae+J+V+ie+ce,F=Math.min(C.offsetHeight*5,ae),ee=window.getComputedStyle(R),he=parseInt(ee.paddingTop,10),fe=parseInt(ee.paddingBottom,10),de=k.top+k.height/2-Cr,Ce=B-de,Te=C.offsetHeight/2,me=C.offsetTop+Te,_e=Ae+J+me,Ie=ae-_e;if(_e<=de){const ke=z.length>0&&C===z[z.length-1].ref.current;d.style.bottom="0px";const He=m.clientHeight-R.offsetTop-R.offsetHeight,ft=Math.max(Ce,Te+(ke?fe:0)+He+ce),Vt=_e+ft;d.style.height=Vt+"px"}else{const ke=z.length>0&&C===z[0].ref.current;d.style.top="0px";const ft=Math.max(de,Ae+R.offsetTop+(ke?he:0)+Te)+Ie;d.style.height=ft+"px",R.scrollTop=_e-de+R.offsetTop}d.style.margin=`${Cr}px 0`,d.style.minHeight=F+"px",d.style.maxHeight=B+"px",r==null||r(),requestAnimationFrame(()=>A.current=!0)}},[b,o.trigger,o.valueNode,d,m,R,C,I,o.dir,r]);vn(()=>j(),[j]);const[H,$]=E.useState();vn(()=>{m&&$(window.getComputedStyle(m).zIndex)},[m]);const Z=E.useCallback(k=>{k&&x.current===!0&&(j(),D==null||D(),x.current=!1)},[j,D]);return _.jsx(i5,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:A,onScrollButtonChange:Z,children:_.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:H},children:_.jsx(qe.div,{...s,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});uC.displayName=n5;var r5="SelectPopperPosition",sv=E.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Cr,...o}=t,c=Fm(n);return _.jsx(A_,{...c,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});sv.displayName=r5;var[i5,L_]=gc(Ao,{}),av="SelectViewport",dC=E.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=Aa(av,n),c=L_(av,n),d=ut(e,o.onViewportChange),f=E.useRef(0);return _.jsxs(_.Fragment,{children:[_.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),_.jsx(Bm.Slot,{scope:n,children:_.jsx(qe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:we(s.onScroll,m=>{const y=m.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:b}=c;if(b!=null&&b.current&&v){const A=Math.abs(f.current-y.scrollTop);if(A>0){const x=window.innerHeight-Cr*2,R=parseFloat(v.style.minHeight),C=parseFloat(v.style.height),I=Math.max(R,C);if(I<x){const D=I+A,j=Math.min(x,D),H=D-j;v.style.height=j+"px",v.style.bottom==="0px"&&(y.scrollTop=H>0?H:0,v.style.justifyContent="flex-end")}}}f.current=y.scrollTop})})})]})});dC.displayName=av;var fC="SelectGroup",[s5,a5]=gc(fC),o5=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=hi();return _.jsx(s5,{scope:n,id:s,children:_.jsx(qe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});o5.displayName=fC;var hC="SelectLabel",mC=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=a5(hC,n);return _.jsx(qe.div,{id:s.id,...r,ref:e})});mC.displayName=hC;var Jh="SelectItem",[l5,pC]=gc(Jh),gC=E.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...c}=t,d=Sa(Jh,n),f=Aa(Jh,n),m=d.value===r,[y,v]=E.useState(o??""),[b,A]=E.useState(!1),x=ut(e,D=>{var j;return(j=f.itemRefCallback)==null?void 0:j.call(f,D,r,s)}),R=hi(),C=E.useRef("touch"),I=()=>{s||(d.onValueChange(r),d.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return _.jsx(l5,{scope:n,value:r,disabled:s,textId:R,isSelected:m,onItemTextChange:E.useCallback(D=>{v(j=>j||((D==null?void 0:D.textContent)??"").trim())},[]),children:_.jsx(Bm.ItemSlot,{scope:n,value:r,disabled:s,textValue:y,children:_.jsx(qe.div,{role:"option","aria-labelledby":R,"data-highlighted":b?"":void 0,"aria-selected":m&&b,"data-state":m?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...c,ref:x,onFocus:we(c.onFocus,()=>A(!0)),onBlur:we(c.onBlur,()=>A(!1)),onClick:we(c.onClick,()=>{C.current!=="mouse"&&I()}),onPointerUp:we(c.onPointerUp,()=>{C.current==="mouse"&&I()}),onPointerDown:we(c.onPointerDown,D=>{C.current=D.pointerType}),onPointerMove:we(c.onPointerMove,D=>{var j;C.current=D.pointerType,s?(j=f.onItemLeave)==null||j.call(f):C.current==="mouse"&&D.currentTarget.focus({preventScroll:!0})}),onPointerLeave:we(c.onPointerLeave,D=>{var j;D.currentTarget===document.activeElement&&((j=f.onItemLeave)==null||j.call(f))}),onKeyDown:we(c.onKeyDown,D=>{var H;((H=f.searchRef)==null?void 0:H.current)!==""&&D.key===" "||($z.includes(D.key)&&I(),D.key===" "&&D.preventDefault())})})})})});gC.displayName=Jh;var Ou="SelectItemText",yC=E.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,c=Sa(Ou,n),d=Aa(Ou,n),f=pC(Ou,n),m=Xz(Ou,n),[y,v]=E.useState(null),b=ut(e,I=>v(I),f.onItemTextChange,I=>{var D;return(D=d.itemTextRefCallback)==null?void 0:D.call(d,I,f.value,f.disabled)}),A=y==null?void 0:y.textContent,x=E.useMemo(()=>_.jsx("option",{value:f.value,disabled:f.disabled,children:A},f.value),[f.disabled,f.value,A]),{onNativeOptionAdd:R,onNativeOptionRemove:C}=m;return vn(()=>(R(x),()=>C(x)),[R,C,x]),_.jsxs(_.Fragment,{children:[_.jsx(qe.span,{id:f.textId,...o,ref:b}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?od.createPortal(o.children,c.valueNode):null]})});yC.displayName=Ou;var vC="SelectItemIndicator",_C=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return pC(vC,n).isSelected?_.jsx(qe.span,{"aria-hidden":!0,...r,ref:e}):null});_C.displayName=vC;var ov="SelectScrollUpButton",c5=E.forwardRef((t,e)=>{const n=Aa(ov,t.__scopeSelect),r=L_(ov,t.__scopeSelect),[s,o]=E.useState(!1),c=ut(e,r.onScrollButtonChange);return vn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=f.scrollTop>0;o(m)};const f=n.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),s?_.jsx(wC,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=n;d&&f&&(d.scrollTop=d.scrollTop-f.offsetHeight)}}):null});c5.displayName=ov;var lv="SelectScrollDownButton",u5=E.forwardRef((t,e)=>{const n=Aa(lv,t.__scopeSelect),r=L_(lv,t.__scopeSelect),[s,o]=E.useState(!1),c=ut(e,r.onScrollButtonChange);return vn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=f.scrollHeight-f.clientHeight,y=Math.ceil(f.scrollTop)<m;o(y)};const f=n.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),s?_.jsx(wC,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=n;d&&f&&(d.scrollTop=d.scrollTop+f.offsetHeight)}}):null});u5.displayName=lv;var wC=E.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=Aa("SelectScrollButton",n),c=E.useRef(null),d=zm(n),f=E.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return E.useEffect(()=>()=>f(),[f]),vn(()=>{var y;const m=d().find(v=>v.ref.current===document.activeElement);(y=m==null?void 0:m.ref.current)==null||y.scrollIntoView({block:"nearest"})},[d]),_.jsx(qe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:we(s.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:we(s.onPointerMove,()=>{var m;(m=o.onItemLeave)==null||m.call(o),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:we(s.onPointerLeave,()=>{f()})})}),d5="SelectSeparator",EC=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return _.jsx(qe.div,{"aria-hidden":!0,...r,ref:e})});EC.displayName=d5;var cv="SelectArrow",f5=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Fm(n),o=Sa(cv,n),c=Aa(cv,n);return o.open&&c.position==="popper"?_.jsx(x_,{...s,...r,ref:e}):null});f5.displayName=cv;function bC(t){return t===""||t===void 0}var TC=E.forwardRef((t,e)=>{const{value:n,...r}=t,s=E.useRef(null),o=ut(e,s),c=JR(n);return E.useEffect(()=>{const d=s.current,f=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==n&&y){const v=new Event("change",{bubbles:!0});y.call(d,n),d.dispatchEvent(v)}},[c,n]),_.jsx(eC,{asChild:!0,children:_.jsx("select",{...r,ref:o,defaultValue:n})})});TC.displayName="BubbleSelect";function SC(t){const e=er(t),n=E.useRef(""),r=E.useRef(0),s=E.useCallback(c=>{const d=n.current+c;e(d),function f(m){n.current=m,window.clearTimeout(r.current),m!==""&&(r.current=window.setTimeout(()=>f(""),1e3))}(d)},[e]),o=E.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function AC(t,e,n){const s=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let c=h5(t,Math.max(o,0));s.length===1&&(c=c.filter(m=>m!==n));const f=c.find(m=>m.textValue.toLowerCase().startsWith(s.toLowerCase()));return f!==n?f:void 0}function h5(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var m5=tC,xC=rC,p5=sC,g5=aC,RC=oC,y5=dC,CC=mC,IC=gC,v5=yC,_5=_C,DC=EC;const V_=m5,j_=p5,Hm=E.forwardRef(({className:t,children:e,...n},r)=>_.jsxs(xC,{ref:r,className:Be("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:[e,_.jsx(WU,{className:"h-4 w-4 opacity-50"})]}));Hm.displayName=xC.displayName;const qm=E.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>_.jsx(g5,{children:_.jsx(RC,{ref:s,className:Be("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:_.jsx(y5,{className:Be("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e})})}));qm.displayName=RC.displayName;const w5=E.forwardRef(({className:t,...e},n)=>_.jsx(CC,{ref:n,className:Be("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));w5.displayName=CC.displayName;const fo=E.forwardRef(({className:t,children:e,...n},r)=>_.jsxs(IC,{ref:r,className:Be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[_.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:_.jsx(_5,{children:_.jsx(d_,{className:"h-4 w-4"})})}),_.jsx(v5,{children:e})]}));fo.displayName=IC.displayName;const E5=E.forwardRef(({className:t,...e},n)=>_.jsx(DC,{ref:n,className:Be("-mx-1 my-1 h-px bg-muted",t),...e}));E5.displayName=DC.displayName;const b5=[{value:"low",label:"Baixa"},{value:"medium",label:"Mdia"},{value:"high",label:"Alta"}];function U_({value:t,onChange:e}){return _.jsxs(V_,{value:t,onValueChange:e,children:[_.jsx(Hm,{children:_.jsx(j_,{placeholder:"Selecione a prioridade"})}),_.jsx(qm,{children:b5.map(n=>_.jsxs(fo,{value:n.value,className:"flex items-center gap-2",children:[_.jsx("div",{className:`w-2 h-2 rounded-full ${T5(n.value)}`}),n.label]},n.value))})]})}function T5(t){switch(t){case"high":return"bg-red-500";case"medium":return"bg-yellow-500";case"low":return"bg-green-500";default:return"bg-gray-500"}}var B_="Dialog",[NC,c7]=Ti(B_),[S5,jr]=NC(B_),OC=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:c=!0}=t,d=E.useRef(null),f=E.useRef(null),[m=!1,y]=bo({prop:r,defaultProp:s,onChange:o});return _.jsx(S5,{scope:e,triggerRef:d,contentRef:f,contentId:hi(),titleId:hi(),descriptionId:hi(),open:m,onOpenChange:y,onOpenToggle:E.useCallback(()=>y(v=>!v),[y]),modal:c,children:n})};OC.displayName=B_;var MC="DialogTrigger",kC=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=jr(MC,n),o=ut(e,s.triggerRef);return _.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":H_(s.open),...r,ref:o,onClick:we(t.onClick,s.onOpenToggle)})});kC.displayName=MC;var z_="DialogPortal",[A5,PC]=NC(z_,{forceMount:void 0}),LC=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=jr(z_,e);return _.jsx(A5,{scope:e,forceMount:n,children:E.Children.map(r,c=>_.jsx(Vr,{present:n||o.open,children:_.jsx(Td,{asChild:!0,container:s,children:c})}))})};LC.displayName=z_;var em="DialogOverlay",VC=E.forwardRef((t,e)=>{const n=PC(em,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=jr(em,t.__scopeDialog);return o.modal?_.jsx(Vr,{present:r||o.open,children:_.jsx(x5,{...s,ref:e})}):null});VC.displayName=em;var x5=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=jr(em,n);return _.jsx(Sd,{as:ls,allowPinchZoom:!0,shards:[s.contentRef],children:_.jsx(qe.div,{"data-state":H_(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),xo="DialogContent",jC=E.forwardRef((t,e)=>{const n=PC(xo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=jr(xo,t.__scopeDialog);return _.jsx(Vr,{present:r||o.open,children:o.modal?_.jsx(R5,{...s,ref:e}):_.jsx(C5,{...s,ref:e})})});jC.displayName=xo;var R5=E.forwardRef((t,e)=>{const n=jr(xo,t.__scopeDialog),r=E.useRef(null),s=ut(e,n.contentRef,r);return E.useEffect(()=>{const o=r.current;if(o)return Lm(o)},[]),_.jsx(UC,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(t.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:we(t.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&o.preventDefault()}),onFocusOutside:we(t.onFocusOutside,o=>o.preventDefault())})}),C5=E.forwardRef((t,e)=>{const n=jr(xo,t.__scopeDialog),r=E.useRef(!1),s=E.useRef(!1);return _.jsx(UC,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=t.onCloseAutoFocus)==null||c.call(t,o),o.defaultPrevented||(r.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var f,m;(f=t.onInteractOutside)==null||f.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=o.target;((m=n.triggerRef.current)==null?void 0:m.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),UC=E.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...c}=t,d=jr(xo,n),f=E.useRef(null),m=ut(e,f);return Dm(),_.jsxs(_.Fragment,{children:[_.jsx(Ed,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:_.jsx(wd,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":H_(d.open),...c,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),_.jsxs(_.Fragment,{children:[_.jsx(I5,{titleId:d.titleId}),_.jsx(N5,{contentRef:f,descriptionId:d.descriptionId})]})]})}),F_="DialogTitle",BC=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=jr(F_,n);return _.jsx(qe.h2,{id:s.titleId,...r,ref:e})});BC.displayName=F_;var zC="DialogDescription",FC=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=jr(zC,n);return _.jsx(qe.p,{id:s.descriptionId,...r,ref:e})});FC.displayName=zC;var HC="DialogClose",qC=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=jr(HC,n);return _.jsx(qe.button,{type:"button",...r,ref:e,onClick:we(t.onClick,()=>s.onOpenChange(!1))})});qC.displayName=HC;function H_(t){return t?"open":"closed"}var GC="DialogTitleWarning",[u7,WC]=sB(GC,{contentName:xo,titleName:F_,docsSlug:"dialog"}),I5=({titleId:t})=>{const e=WC(GC),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return E.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},D5="DialogDescriptionWarning",N5=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${WC(D5).contentName}}.`;return E.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},O5=OC,M5=kC,k5=LC,$C=VC,YC=jC,KC=BC,QC=FC,P5=qC;const Uu=O5,Bu=M5,L5=k5,XC=E.forwardRef(({className:t,...e},n)=>_.jsx($C,{ref:n,className:Be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));XC.displayName=$C.displayName;const Ul=E.forwardRef(({className:t,children:e,...n},r)=>_.jsxs(L5,{children:[_.jsx(XC,{}),_.jsxs(YC,{ref:r,className:Be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,_.jsxs(P5,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[_.jsx(Im,{className:"h-4 w-4"}),_.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ul.displayName=YC.displayName;const Bl=({className:t,...e})=>_.jsx("div",{className:Be("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Bl.displayName="DialogHeader";const zl=E.forwardRef(({className:t,...e},n)=>_.jsx(KC,{ref:n,className:Be("text-lg font-semibold leading-none tracking-tight",t),...e}));zl.displayName=KC.displayName;const V5=E.forwardRef(({className:t,...e},n)=>_.jsx(QC,{ref:n,className:Be("text-sm text-muted-foreground",t),...e}));V5.displayName=QC.displayName;function j5({onUseTemplate:t}){const[e,n]=E.useState([]),[r,s]=E.useState(!1),[o,c]=E.useState({title:"",description:"",priority:"medium"}),{user:d}=tr();E.useEffect(()=>{if(!d)return;const m=Ea(Mn(Tt,"taskTemplates"),ba("userId","==",d.uid)),y=Ta(m,v=>{const b=[];v.forEach(A=>{const x=A.data();b.push({id:A.id,title:x.title,description:x.description,priority:x.priority,userId:x.userId,createdAt:x.createdAt.toDate()})}),n(b)});return()=>y()},[d]);const f=async()=>{var m;if(!(!d||!o.title.trim()))try{await Eo(Mn(Tt,"taskTemplates"),{title:o.title.trim(),description:(m=o.description)==null?void 0:m.trim(),priority:o.priority,userId:d.uid,createdAt:Qe.now()}),c({title:"",description:"",priority:"medium"}),s(!1)}catch(y){console.error("Error creating template:",y)}};return _.jsxs(Uu,{open:r,onOpenChange:s,children:[_.jsx(Bu,{asChild:!0,children:_.jsx(pt,{variant:"outline",className:"fixed bottom-4 right-4",onClick:()=>s(!0),children:_.jsx(vx,{className:"h-4 w-4"})})}),_.jsxs(Ul,{className:"sm:max-w-[600px]",children:[_.jsx(Bl,{children:_.jsx(zl,{children:"Templates de Tarefas"})}),_.jsxs("div",{className:"space-y-4 pt-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("h3",{className:"font-medium",children:"Criar Novo Template"}),_.jsx(_i,{placeholder:"Ttulo do template",value:o.title,onChange:m=>c(y=>({...y,title:m.target.value}))}),_.jsx(P_,{placeholder:"Descrio (opcional)",value:o.description,onChange:m=>c(y=>({...y,description:m.target.value}))}),_.jsx(U_,{value:o.priority,onChange:m=>c(y=>({...y,priority:m}))}),_.jsx(pt,{onClick:f,disabled:!o.title.trim(),className:"w-full",children:"Criar Template"})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("h3",{className:"font-medium",children:"Templates Salvos"}),e.map(m=>_.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-secondary/50",children:[_.jsxs("div",{children:[_.jsx("p",{className:"font-medium",children:m.title}),m.description&&_.jsx("p",{className:"text-sm text-muted-foreground",children:m.description})]}),_.jsx(pt,{variant:"outline",size:"sm",onClick:()=>{t(m),s(!1)},children:"Usar"})]},m.id))]})]})]})]})}var q_="Avatar",[U5,d7]=Ti(q_),[B5,ZC]=U5(q_),JC=E.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,o]=E.useState("idle");return _.jsx(B5,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:_.jsx(qe.span,{...r,ref:e})})});JC.displayName=q_;var eI="AvatarImage",tI=E.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=t,c=ZC(eI,n),d=z5(r,o.referrerPolicy),f=er(m=>{s(m),c.onImageLoadingStatusChange(m)});return vn(()=>{d!=="idle"&&f(d)},[d,f]),d==="loaded"?_.jsx(qe.img,{...o,ref:e,src:r}):null});tI.displayName=eI;var nI="AvatarFallback",rI=E.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,o=ZC(nI,n),[c,d]=E.useState(r===void 0);return E.useEffect(()=>{if(r!==void 0){const f=window.setTimeout(()=>d(!0),r);return()=>window.clearTimeout(f)}},[r]),c&&o.imageLoadingStatus!=="loaded"?_.jsx(qe.span,{...s,ref:e}):null});rI.displayName=nI;function z5(t,e){const[n,r]=E.useState("idle");return vn(()=>{if(!t){r("error");return}let s=!0;const o=new window.Image,c=d=>()=>{s&&r(d)};return r("loading"),o.onload=c("loaded"),o.onerror=c("error"),o.src=t,e&&(o.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var iI=JC,sI=tI,aI=rI;const oI=E.forwardRef(({className:t,...e},n)=>_.jsx(iI,{ref:n,className:Be("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));oI.displayName=iI.displayName;const lI=E.forwardRef(({className:t,...e},n)=>_.jsx(sI,{ref:n,className:Be("aspect-square h-full w-full",t),...e}));lI.displayName=sI.displayName;const cI=E.forwardRef(({className:t,...e},n)=>_.jsx(aI,{ref:n,className:Be("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));cI.displayName=aI.displayName;function uI({user:t,showUploadButton:e=!1,onUpload:n}){const r=t.email?t.email.substring(0,2).toUpperCase():"??";return _.jsxs("div",{className:"relative",children:[_.jsxs(oI,{children:[_.jsx(lI,{src:t.photoURL||void 0,alt:t.email||"User"}),_.jsx(cI,{children:r})]}),e&&_.jsx(pt,{variant:"outline",size:"icon",className:"absolute -bottom-2 -right-2 h-6 w-6 rounded-full",onClick:n,children:_.jsx(iB,{className:"h-3 w-3"})})]})}function F5(){console.log("AuthButton rendering...");const{user:t,signOut:e}=tr();console.log("AuthButton hooks loaded, user:",t),E.useEffect(()=>{console.log("AuthButton mounted, user state:",t)},[t]);const n=()=>{console.log("Button clicked directly!");const s=new ni;j1(Xi,s).then(o=>{console.log("Sign in successful:",o)}).catch(o=>{console.error("Sign in error:",o),alert(o.message)})},r=async s=>{s.preventDefault();try{await e(),console.log("Sign-out successful!")}catch(o){console.error("Error signing out:",o),o instanceof Error?alert(`Error signing out: ${o.message}`):alert("An unknown error occurred while signing out")}};return console.log("Rendering AuthButton with user:",t),t?_.jsxs(mc,{children:[_.jsx(pc,{asChild:!0,children:_.jsx(pt,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:_.jsx(uI,{user:t,showUploadButton:!1})})}),_.jsx(Mo,{align:"end",children:_.jsxs(So,{onClick:r,children:[_.jsx(Ex,{className:"mr-2 h-4 w-4"}),_.jsx("span",{children:"Sair"})]})})]}):_.jsxs(pt,{variant:"outline",onClick:n,children:[_.jsx(XU,{className:"mr-2 h-4 w-4"}),"Entrar com Google"]})}function H5(){const{user:t}=tr(),[e,n]=E.useState(!1),r=()=>{console.log("Usando template...")};return _.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:_.jsxs("div",{className:"container flex h-14 items-center",children:[_.jsxs("div",{className:"mr-4 hidden md:flex",children:[_.jsx("a",{className:"mr-6 flex items-center space-x-2",href:"/",children:_.jsx("span",{className:"hidden font-bold sm:inline-block",children:"TodoComplete"})}),_.jsxs("nav",{className:"flex items-center space-x-6 text-sm font-medium",children:[_.jsx("a",{className:"transition-colors hover:text-foreground/80 text-foreground/60",href:"/docs",children:"Documentao"}),_.jsx("a",{className:"transition-colors hover:text-foreground/80 text-foreground/60",href:"/about",children:"Sobre"})]})]}),_.jsxs("div",{className:"flex flex-1 items-center justify-between space-x-2 md:justify-end",children:[_.jsx("div",{className:"w-full flex-1 md:w-auto md:flex-none",children:t&&_.jsxs(mc,{open:e,onOpenChange:n,children:[_.jsx(pc,{asChild:!0,children:_.jsx(pt,{variant:"outline",size:"icon",children:_.jsx(vx,{className:"h-4 w-4"})})}),_.jsx(Mo,{align:"end",className:"w-[300px]",children:_.jsx(j5,{onUseTemplate:r})})]})}),_.jsx("nav",{className:"flex items-center",children:_.jsx(F5,{})})]})]})})}const dI=6048e5,q5=864e5,mS=Symbol.for("constructDateFrom");function cn(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&mS in t?t[mS](e):t instanceof Date?new t.constructor(e):new Date(e)}function wt(t,e){return cn(e||t,t)}function fI(t,e,n){const r=wt(t,n==null?void 0:n.in);return isNaN(e)?cn(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function hI(t,e,n){const r=wt(t,n==null?void 0:n.in);if(isNaN(e))return cn(t,NaN);if(!e)return r;const s=r.getDate(),o=cn(t,r.getTime());o.setMonth(r.getMonth()+e+1,0);const c=o.getDate();return s>=c?o:(r.setFullYear(o.getFullYear(),o.getMonth(),s),r)}let G5={};function Cd(){return G5}function Jl(t,e){var d,f,m,y;const n=Cd(),r=(e==null?void 0:e.weekStartsOn)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??n.weekStartsOn??((y=(m=n.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??0,s=wt(t,e==null?void 0:e.in),o=s.getDay(),c=(o<r?7:0)+o-r;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function nd(t,e){return Jl(t,{...e,weekStartsOn:1})}function mI(t,e){const n=wt(t,e==null?void 0:e.in),r=n.getFullYear(),s=cn(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const o=nd(s),c=cn(n,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const d=nd(c);return n.getTime()>=o.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function pS(t){const e=wt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Id(t,...e){const n=cn.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function rd(t,e){const n=wt(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function pI(t,e,n){const[r,s]=Id(n==null?void 0:n.in,t,e),o=rd(r),c=rd(s),d=+o-pS(o),f=+c-pS(c);return Math.round((d-f)/q5)}function W5(t,e){const n=mI(t,e),r=cn(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),nd(r)}function $5(t,e,n){return fI(t,e*7,n)}function Y5(t,e,n){return hI(t,e*12,n)}function K5(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=cn.bind(null,s));const o=wt(s,r);(!n||n<o||isNaN(+o))&&(n=o)}),cn(r,n||NaN)}function Q5(t,e){let n,r=e==null?void 0:e.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=cn.bind(null,s));const o=wt(s,r);(!n||n>o||isNaN(+o))&&(n=o)}),cn(r,n||NaN)}function X5(t,e,n){const[r,s]=Id(n==null?void 0:n.in,t,e);return+rd(r)==+rd(s)}function gI(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Z5(t){return!(!gI(t)&&typeof t!="number"||isNaN(+wt(t)))}function J5(t,e,n){const[r,s]=Id(n==null?void 0:n.in,t,e),o=r.getFullYear()-s.getFullYear(),c=r.getMonth()-s.getMonth();return o*12+c}function eF(t,e){const n=wt(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function tF(t,e){const n=wt(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function nF(t,e){const n=wt(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function yI(t,e){const n=wt(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function vI(t,e){var d,f,m,y;const n=Cd(),r=(e==null?void 0:e.weekStartsOn)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??n.weekStartsOn??((y=(m=n.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??0,s=wt(t,e==null?void 0:e.in),o=s.getDay(),c=(o<r?-7:0)+6-(o-r);return s.setDate(s.getDate()+c),s.setHours(23,59,59,999),s}function rF(t,e){return vI(t,{...e,weekStartsOn:1})}const iF={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sF=(t,e,n)=>{let r;const s=iF[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Fl(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const aF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oF={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lF={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cF={date:Fl({formats:aF,defaultWidth:"full"}),time:Fl({formats:oF,defaultWidth:"full"}),dateTime:Fl({formats:lF,defaultWidth:"full"})},uF={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dF=(t,e,n,r)=>uF[t];function ri(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,d=n!=null&&n.width?String(n.width):c;s=t.formattingValues[d]||t.formattingValues[c]}else{const c=t.defaultWidth,d=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[d]||t.values[c]}const o=t.argumentCallback?t.argumentCallback(e):e;return s[o]}}const fF={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hF={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mF={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pF={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vF=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},_F={ordinalNumber:vF,era:ri({values:fF,defaultWidth:"wide"}),quarter:ri({values:hF,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ri({values:mF,defaultWidth:"wide"}),day:ri({values:pF,defaultWidth:"wide"}),dayPeriod:ri({values:gF,defaultWidth:"wide",formattingValues:yF,defaultFormattingWidth:"wide"})};function ii(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;const c=o[0],d=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(d)?EF(d,v=>v.test(c)):wF(d,v=>v.test(c));let m;m=t.valueCallback?t.valueCallback(f):f,m=n.valueCallback?n.valueCallback(m):m;const y=e.slice(c.length);return{value:m,rest:y}}}function wF(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function EF(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function _I(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],o=e.match(t.parsePattern);if(!o)return null;let c=t.valueCallback?t.valueCallback(o[0]):o[0];c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(s.length);return{value:c,rest:d}}}const bF=/^(\d+)(th|st|nd|rd)?/i,TF=/\d+/i,SF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},AF={any:[/^b/i,/^(a|c)/i]},xF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},RF={any:[/1/i,/2/i,/3/i,/4/i]},CF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},IF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},DF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},NF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},OF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},MF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},kF={ordinalNumber:_I({matchPattern:bF,parsePattern:TF,valueCallback:t=>parseInt(t,10)}),era:ii({matchPatterns:SF,defaultMatchWidth:"wide",parsePatterns:AF,defaultParseWidth:"any"}),quarter:ii({matchPatterns:xF,defaultMatchWidth:"wide",parsePatterns:RF,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ii({matchPatterns:CF,defaultMatchWidth:"wide",parsePatterns:IF,defaultParseWidth:"any"}),day:ii({matchPatterns:DF,defaultMatchWidth:"wide",parsePatterns:NF,defaultParseWidth:"any"}),dayPeriod:ii({matchPatterns:OF,defaultMatchWidth:"any",parsePatterns:MF,defaultParseWidth:"any"})},Gm={code:"en-US",formatDistance:sF,formatLong:cF,formatRelative:dF,localize:_F,match:kF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function PF(t,e){const n=wt(t,e==null?void 0:e.in);return pI(n,yI(n))+1}function wI(t,e){const n=wt(t,e==null?void 0:e.in),r=+nd(n)-+W5(n);return Math.round(r/dI)+1}function EI(t,e){var y,v,b,A;const n=wt(t,e==null?void 0:e.in),r=n.getFullYear(),s=Cd(),o=(e==null?void 0:e.firstWeekContainsDate)??((v=(y=e==null?void 0:e.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??s.firstWeekContainsDate??((A=(b=s.locale)==null?void 0:b.options)==null?void 0:A.firstWeekContainsDate)??1,c=cn((e==null?void 0:e.in)||t,0);c.setFullYear(r+1,0,o),c.setHours(0,0,0,0);const d=Jl(c,e),f=cn((e==null?void 0:e.in)||t,0);f.setFullYear(r,0,o),f.setHours(0,0,0,0);const m=Jl(f,e);return+n>=+d?r+1:+n>=+m?r:r-1}function LF(t,e){var d,f,m,y;const n=Cd(),r=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(m=n.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,s=EI(t,e),o=cn((e==null?void 0:e.in)||t,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),Jl(o,e)}function bI(t,e){const n=wt(t,e==null?void 0:e.in),r=+Jl(n,e)-+LF(n,e);return Math.round(r/dI)+1}function dt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Xs={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return dt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):dt(n+1,2)},d(t,e){return dt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return dt(t.getHours()%12||12,e.length)},H(t,e){return dt(t.getHours(),e.length)},m(t,e){return dt(t.getMinutes(),e.length)},s(t,e){return dt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return dt(s,e.length)}},Rl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},gS={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Xs.y(t,e)},Y:function(t,e,n,r){const s=EI(t,r),o=s>0?s:1-s;if(e==="YY"){const c=o%100;return dt(c,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):dt(o,e.length)},R:function(t,e){const n=mI(t);return dt(n,e.length)},u:function(t,e){const n=t.getFullYear();return dt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return dt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return dt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Xs.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return dt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=bI(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):dt(s,e.length)},I:function(t,e,n){const r=wI(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):dt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Xs.d(t,e)},D:function(t,e,n){const r=PF(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):dt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return dt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return dt(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return dt(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Rl.noon:r===0?s=Rl.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Rl.evening:r>=12?s=Rl.afternoon:r>=4?s=Rl.morning:s=Rl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Xs.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Xs.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):dt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):dt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Xs.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Xs.s(t,e)},S:function(t,e){return Xs.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return vS(r);case"XXXX":case"XX":return ao(r);case"XXXXX":case"XXX":default:return ao(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return vS(r);case"xxxx":case"xx":return ao(r);case"xxxxx":case"xxx":default:return ao(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+yS(r,":");case"OOOO":default:return"GMT"+ao(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+yS(r,":");case"zzzz":default:return"GMT"+ao(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return dt(r,e.length)},T:function(t,e,n){return dt(+t,e.length)}};function yS(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+e+dt(o,2)}function vS(t,e){return t%60===0?(t>0?"-":"+")+dt(Math.abs(t)/60,2):ao(t,e)}function ao(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=dt(Math.trunc(r/60),2),o=dt(r%60,2);return n+s+e+o}const _S=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},TI=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},VF=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return _S(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",_S(r,e)).replace("{{time}}",TI(s,e))},jF={p:TI,P:VF},UF=/^D+$/,BF=/^Y+$/,zF=["D","DD","YY","YYYY"];function FF(t){return UF.test(t)}function HF(t){return BF.test(t)}function qF(t,e,n){const r=GF(t,e,n);if(console.warn(r),zF.includes(t))throw new RangeError(r)}function GF(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const WF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$F=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,YF=/^'([^]*?)'?$/,KF=/''/g,QF=/[a-zA-Z]/;function G_(t,e,n){var y,v,b,A,x,R,C,I;const r=Cd(),s=(n==null?void 0:n.locale)??r.locale??Gm,o=(n==null?void 0:n.firstWeekContainsDate)??((v=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??r.firstWeekContainsDate??((A=(b=r.locale)==null?void 0:b.options)==null?void 0:A.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((R=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:R.weekStartsOn)??r.weekStartsOn??((I=(C=r.locale)==null?void 0:C.options)==null?void 0:I.weekStartsOn)??0,d=wt(t,n==null?void 0:n.in);if(!Z5(d))throw new RangeError("Invalid time value");let f=e.match($F).map(D=>{const j=D[0];if(j==="p"||j==="P"){const H=jF[j];return H(D,s.formatLong)}return D}).join("").match(WF).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const j=D[0];if(j==="'")return{isToken:!1,value:XF(D)};if(gS[j])return{isToken:!0,value:D};if(j.match(QF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:D}});s.localize.preprocessor&&(f=s.localize.preprocessor(d,f));const m={firstWeekContainsDate:o,weekStartsOn:c,locale:s};return f.map(D=>{if(!D.isToken)return D.value;const j=D.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&HF(j)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&FF(j))&&qF(j,e,String(t));const H=gS[j[0]];return H(d,j,s.localize,m)}).join("")}function XF(t){const e=t.match(YF);return e?e[1].replace(KF,"'"):t}function ZF(t,e){const n=wt(t,e==null?void 0:e.in),r=n.getFullYear(),s=n.getMonth(),o=cn(n,0);return o.setFullYear(r,s+1,0),o.setHours(0,0,0,0),o.getDate()}function JF(t,e){return+wt(t)>+wt(e)}function e3(t,e){return+wt(t)<+wt(e)}function t3(t,e,n){const[r,s]=Id(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function n3(t,e,n){const[r,s]=Id(n==null?void 0:n.in,t,e);return r.getFullYear()===s.getFullYear()}function r3(t,e,n){const r=wt(t,n==null?void 0:n.in),s=r.getFullYear(),o=r.getDate(),c=cn(t,0);c.setFullYear(s,e,15),c.setHours(0,0,0,0);const d=ZF(c);return r.setMonth(e,Math.min(o,d)),r}function i3(t,e,n){const r=wt(t,n==null?void 0:n.in);return isNaN(+r)?cn(t,NaN):(r.setFullYear(e),r)}const s3={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},a3=(t,e,n)=>{let r;const s=s3[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+r:"h "+r:r},o3={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},l3={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},c3={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},u3={date:Fl({formats:o3,defaultWidth:"full"}),time:Fl({formats:l3,defaultWidth:"full"}),dateTime:Fl({formats:c3,defaultWidth:"full"})},d3={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},f3=(t,e,n,r)=>{const s=d3[t];return typeof s=="function"?s(e):s},h3={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},m3={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},p3={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},g3={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},y3={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},v3={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},_3=(t,e)=>{const n=Number(t);return(e==null?void 0:e.unit)==="week"?n+"":n+""},w3={ordinalNumber:_3,era:ri({values:h3,defaultWidth:"wide"}),quarter:ri({values:m3,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ri({values:p3,defaultWidth:"wide"}),day:ri({values:g3,defaultWidth:"wide"}),dayPeriod:ri({values:y3,defaultWidth:"wide",formattingValues:v3,defaultFormattingWidth:"wide"})},E3=/^(\d+)[o]?/i,b3=/\d+/i,T3={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},S3={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},A3={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},x3={any:[/1/i,/2/i,/3/i,/4/i]},R3={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},C3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},I3={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},D3={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},N3={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},O3={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},M3={ordinalNumber:_I({matchPattern:E3,parsePattern:b3,valueCallback:t=>parseInt(t,10)}),era:ii({matchPatterns:T3,defaultMatchWidth:"wide",parsePatterns:S3,defaultParseWidth:"any"}),quarter:ii({matchPatterns:A3,defaultMatchWidth:"wide",parsePatterns:x3,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ii({matchPatterns:R3,defaultMatchWidth:"wide",parsePatterns:C3,defaultParseWidth:"any"}),day:ii({matchPatterns:I3,defaultMatchWidth:"wide",parsePatterns:D3,defaultParseWidth:"any"}),dayPeriod:ii({matchPatterns:N3,defaultMatchWidth:"any",parsePatterns:O3,defaultParseWidth:"any"})},W_={code:"pt-BR",formatDistance:a3,formatLong:u3,formatRelative:f3,localize:w3,match:M3,options:{weekStartsOn:0,firstWeekContainsDate:1}};var Ne;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(Ne||(Ne={}));var _t;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(_t||(_t={}));var Dr;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(Dr||(Dr={}));const wS=5,k3=4;function P3(t,e){const n=e.startOfMonth(t),r=n.getDay()>0?n.getDay():7,s=e.addDays(t,-r+1),o=e.addDays(s,wS*7-1);return t.getMonth()===o.getMonth()?wS:k3}function SI(t,e){const n=e.startOfMonth(t),r=n.getDay();return r===1?n:r===0?e.addDays(n,-1*6):e.addDays(n,-1*(r-1))}function L3(t,e){const n=SI(t,e),r=P3(t,e);return e.addDays(n,r*7-1)}class ms{constructor(e,n){this.Date=Date,this.addDays=(r,s)=>{var o;return(o=this.overrides)!=null&&o.addDays?this.overrides.addDays(r,s):fI(r,s)},this.addMonths=(r,s)=>{var o;return(o=this.overrides)!=null&&o.addMonths?this.overrides.addMonths(r,s):hI(r,s)},this.addWeeks=(r,s)=>{var o;return(o=this.overrides)!=null&&o.addWeeks?this.overrides.addWeeks(r,s):$5(r,s)},this.addYears=(r,s)=>{var o;return(o=this.overrides)!=null&&o.addYears?this.overrides.addYears(r,s):Y5(r,s)},this.differenceInCalendarDays=(r,s)=>{var o;return(o=this.overrides)!=null&&o.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,s):pI(r,s)},this.differenceInCalendarMonths=(r,s)=>{var o;return(o=this.overrides)!=null&&o.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,s):J5(r,s)},this.endOfBroadcastWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r,this):L3(r,this)},this.endOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfISOWeek?this.overrides.endOfISOWeek(r):rF(r)},this.endOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.endOfMonth?this.overrides.endOfMonth(r):eF(r)},this.endOfWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfWeek?this.overrides.endOfWeek(r,this.options):vI(r,this.options)},this.endOfYear=r=>{var s;return(s=this.overrides)!=null&&s.endOfYear?this.overrides.endOfYear(r):nF(r)},this.format=(r,s)=>{var o;return(o=this.overrides)!=null&&o.format?this.overrides.format(r,s,this.options):G_(r,s,this.options)},this.getISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.getISOWeek?this.overrides.getISOWeek(r):wI(r)},this.getWeek=r=>{var s;return(s=this.overrides)!=null&&s.getWeek?this.overrides.getWeek(r,this.options):bI(r,this.options)},this.isAfter=(r,s)=>{var o;return(o=this.overrides)!=null&&o.isAfter?this.overrides.isAfter(r,s):JF(r,s)},this.isBefore=(r,s)=>{var o;return(o=this.overrides)!=null&&o.isBefore?this.overrides.isBefore(r,s):e3(r,s)},this.isDate=r=>{var s;return(s=this.overrides)!=null&&s.isDate?this.overrides.isDate(r):gI(r)},this.isSameDay=(r,s)=>{var o;return(o=this.overrides)!=null&&o.isSameDay?this.overrides.isSameDay(r,s):X5(r,s)},this.isSameMonth=(r,s)=>{var o;return(o=this.overrides)!=null&&o.isSameMonth?this.overrides.isSameMonth(r,s):t3(r,s)},this.isSameYear=(r,s)=>{var o;return(o=this.overrides)!=null&&o.isSameYear?this.overrides.isSameYear(r,s):n3(r,s)},this.max=r=>{var s;return(s=this.overrides)!=null&&s.max?this.overrides.max(r):K5(r)},this.min=r=>{var s;return(s=this.overrides)!=null&&s.min?this.overrides.min(r):Q5(r)},this.setMonth=(r,s)=>{var o;return(o=this.overrides)!=null&&o.setMonth?this.overrides.setMonth(r,s):r3(r,s)},this.setYear=(r,s)=>{var o;return(o=this.overrides)!=null&&o.setYear?this.overrides.setYear(r,s):i3(r,s)},this.startOfBroadcastWeek=r=>{var s;return(s=this.overrides)!=null&&s.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):SI(r,this)},this.startOfDay=r=>{var s;return(s=this.overrides)!=null&&s.startOfDay?this.overrides.startOfDay(r):rd(r)},this.startOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.startOfISOWeek?this.overrides.startOfISOWeek(r):nd(r)},this.startOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.startOfMonth?this.overrides.startOfMonth(r):tF(r)},this.startOfWeek=r=>{var s;return(s=this.overrides)!=null&&s.startOfWeek?this.overrides.startOfWeek(r,this.options):Jl(r,this.options)},this.startOfYear=r=>{var s;return(s=this.overrides)!=null&&s.startOfYear?this.overrides.startOfYear(r):yI(r)},this.options={locale:Gm,...e},this.overrides=n}}const ko=new ms;function V3(t,e,n={}){return Object.entries(t).filter(([,s])=>s===!0).reduce((s,[o])=>(n[o]?s.push(n[o]):e[_t[o]]?s.push(e[_t[o]]):e[Dr[o]]&&s.push(e[Dr[o]]),s),[e[Ne.Day]])}function j3(t){return pe.createElement("button",{...t})}function U3(t){return pe.createElement("span",{...t})}function B3(t){const{size:e=24,orientation:n="left",className:r}=t;return pe.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&pe.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&pe.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&pe.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&pe.createElement("polygon",{points:"8 18.612 14.1888889 12.5 8 6.37733333 9.91111111 4.5 18 12.5 9.91111111 20.5"}))}function z3(t){const{day:e,modifiers:n,...r}=t;return pe.createElement("td",{...r})}function F3(t){const{day:e,modifiers:n,...r}=t,s=pe.useRef(null);return pe.useEffect(()=>{var o;n.focused&&((o=s.current)==null||o.focus())},[n.focused]),pe.createElement("button",{ref:s,...r})}function H3(t){const{options:e,className:n,components:r,classNames:s,...o}=t,c=[s[Ne.Dropdown],n].join(" "),d=e==null?void 0:e.find(({value:f})=>f===o.value);return pe.createElement("span",{"data-disabled":o.disabled,className:s[Ne.DropdownRoot]},pe.createElement(r.Select,{className:c,...o},e==null?void 0:e.map(({value:f,label:m,disabled:y})=>pe.createElement(r.Option,{key:f,value:f,disabled:y},m))),pe.createElement("span",{className:s[Ne.CaptionLabel],"aria-hidden":!0},d==null?void 0:d.label,pe.createElement(r.Chevron,{orientation:"down",size:18,className:s[Ne.Chevron]})))}function q3(t){return pe.createElement("div",{...t})}function G3(t){return pe.createElement("div",{...t})}function W3(t){const{calendarMonth:e,displayIndex:n,...r}=t;return pe.createElement("div",{...r},t.children)}function $3(t){const{calendarMonth:e,displayIndex:n,...r}=t;return pe.createElement("div",{...r})}function Y3(t){return pe.createElement("table",{...t})}function K3(t){return pe.createElement("div",{...t})}const AI=E.createContext(void 0);function Dd(){const t=E.useContext(AI);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function Q3(t){const{components:e}=Dd();return pe.createElement(e.Dropdown,{...t})}function X3(t){const{onPreviousClick:e,onNextClick:n,previousMonth:r,nextMonth:s,...o}=t,{components:c,classNames:d,labels:{labelPrevious:f,labelNext:m}}=Dd();return pe.createElement("nav",{...o},pe.createElement(c.PreviousMonthButton,{type:"button",className:d[Ne.PreviousMonthButton],tabIndex:r?void 0:-1,disabled:r?void 0:!0,"aria-label":f(r),onClick:t.onPreviousClick},pe.createElement(c.Chevron,{disabled:r?void 0:!0,className:d[Ne.Chevron],orientation:"left"})),pe.createElement(c.NextMonthButton,{type:"button",className:d[Ne.NextMonthButton],tabIndex:s?void 0:-1,disabled:s?void 0:!0,"aria-label":m(s),onClick:t.onNextClick},pe.createElement(c.Chevron,{disabled:s?void 0:!0,orientation:"right",className:d[Ne.Chevron]})))}function Z3(t){const{components:e}=Dd();return pe.createElement(e.Button,{...t})}function J3(t){return pe.createElement("option",{...t})}function eH(t){const{components:e}=Dd();return pe.createElement(e.Button,{...t})}function tH(t){return pe.createElement("div",{...t})}function nH(t){return pe.createElement("select",{...t})}function rH(t){const{week:e,...n}=t;return pe.createElement("tr",{...n})}function iH(t){return pe.createElement("th",{...t})}function sH(t){return pe.createElement("thead",{"aria-hidden":!0},pe.createElement("tr",{...t}))}function aH(t){const{week:e,...n}=t;return pe.createElement("th",{...n})}function oH(t){return pe.createElement("th",{...t})}function lH(t){return pe.createElement("tbody",{...t})}function cH(t){const{components:e}=Dd();return pe.createElement(e.Dropdown,{...t})}const uH=Object.freeze(Object.defineProperty({__proto__:null,Button:j3,CaptionLabel:U3,Chevron:B3,Day:z3,DayButton:F3,Dropdown:H3,DropdownNav:q3,Footer:G3,Month:W3,MonthCaption:$3,MonthGrid:Y3,Months:K3,MonthsDropdown:Q3,Nav:X3,NextMonthButton:Z3,Option:J3,PreviousMonthButton:eH,Root:tH,Select:nH,Week:rH,WeekNumber:aH,WeekNumberHeader:oH,Weekday:iH,Weekdays:sH,Weeks:lH,YearsDropdown:cH},Symbol.toStringTag,{value:"Module"}));function dH(t){return{...uH,...t}}function fH(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0};return Object.entries(t).forEach(([n,r])=>{n.startsWith("data-")&&(e[n]=r)}),e}function hH(){const t={};for(const e in Ne)t[Ne[e]]=`rdp-${Ne[e]}`;for(const e in _t)t[_t[e]]=`rdp-${_t[e]}`;for(const e in Dr)t[Dr[e]]=`rdp-${Dr[e]}`;return t}function xI(t,e,n){return(n??new ms(e)).format(t,"LLLL y")}const mH=xI;function pH(t,e,n){return(n??new ms(e)).format(t,"d")}function gH(t,e){var n;return(n=e.localize)==null?void 0:n.month(t)}function yH(t){return t<10?`0${t.toLocaleString()}`:`${t.toLocaleString()}`}function vH(){return""}function _H(t,e,n){return(n??new ms(e)).format(t,"cccccc")}function RI(t){return t.toString()}const wH=RI,EH=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:xI,formatDay:pH,formatMonthCaption:mH,formatMonthDropdown:gH,formatWeekNumber:yH,formatWeekNumberHeader:vH,formatWeekdayName:_H,formatYearCaption:wH,formatYearDropdown:RI},Symbol.toStringTag,{value:"Module"}));function bH(t){return t!=null&&t.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t!=null&&t.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...EH,...t}}function TH(t,e,n,r,s){if(!e||!n)return;const{addMonths:o,startOfMonth:c}=s,d=t.getFullYear(),f=[];let m=e;for(;f.length<12;)f.push(m.getMonth()),m=o(m,1);return f.sort((b,A)=>b-A).map(b=>{const A=r.formatMonthDropdown(b,s.options.locale??Gm),x=s.Date?new s.Date(d,b):new Date(d,b),R=e&&x<c(e)||n&&x>c(n)||!1;return{value:b,label:A,disabled:R}})}function SH(t,e={},n={}){let r={...e==null?void 0:e[Ne.Day]};return Object.entries(t).filter(([,s])=>s===!0).forEach(([s])=>{r={...r,...n==null?void 0:n[s]}}),r}const wy={},Mu={};function zu(t,e){try{const r=(wy[t]||(wy[t]=new Intl.DateTimeFormat("en-GB",{timeZone:t,hour:"numeric",timeZoneName:"longOffset"}).format))(e).split("GMT")[1]||"";return r in Mu?Mu[r]:ES(r,r.split(":"))}catch{if(t in Mu)return Mu[t];const n=t==null?void 0:t.match(AH);return n?ES(t,n.slice(1)):NaN}}const AH=/([+-]\d\d):?(\d\d)?/;function ES(t,e){const n=+e[0],r=+(e[1]||0);return Mu[t]=n>0?n*60+r:n*60-r}class si extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(zu(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),CI(this),uv(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new si(...n,e):new si(Date.now(),e)}withTimeZone(e){return new si(+this,e)}getTimezoneOffset(){return-zu(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),uv(this),+this}[Symbol.for("constructDateFrom")](e){return new si(+new Date(e),this.timeZone)}}const bS=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!bS.test(t))return;const e=t.replace(bS,"$1UTC");si.prototype[e]&&(t.startsWith("get")?si.prototype[t]=function(){return this.internal[e]()}:(si.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),xH(this),+this},si.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),uv(this),+this}))});function uv(t){t.internal.setTime(+t),t.internal.setUTCMinutes(t.internal.getUTCMinutes()-t.getTimezoneOffset())}function xH(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),CI(t)}function CI(t){const e=zu(t.timeZone,t),n=new Date(+t);n.setUTCHours(n.getUTCHours()-1);const r=-new Date(+t).getTimezoneOffset(),s=-new Date(+n).getTimezoneOffset(),o=r-s,c=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();o&&c&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+o);const d=r-e;d&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+d);const f=zu(t.timeZone,t),y=-new Date(+t).getTimezoneOffset()-f,v=f!==e,b=y-d;if(v&&b){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+b);const A=zu(t.timeZone,t),x=f-A;x&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+x),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+x))}}class ai extends si{static tz(e,...n){return n.length?new ai(...n,e):new ai(Date.now(),e)}toISOString(){const[e,n,r]=this.tzComponents(),s=`${e}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,r,s]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${r} ${n} ${s}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,r,s]=this.tzComponents();return`${e} GMT${n}${r}${s} (${RH(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),s=String(Math.abs(e)%60).padStart(2,"0");return[n,r,s]}withTimeZone(e){return new ai(+this,e)}[Symbol.for("constructDateFrom")](e){return new ai(+new Date(e),this.timeZone)}}function RH(t,e){return new Intl.DateTimeFormat("en-GB",{timeZone:t,timeZoneName:"long"}).format(e).slice(12)}function CH(t,e,n,r){const s=n?ai.tz(n):t.Date?new t.Date:new Date,o=e?t.startOfISOWeek(s):t.startOfWeek(s),c=[];for(let d=0;d<7;d++){const f=t.addDays(o,d);c.push(f)}return c}function IH(t,e,n,r){if(!t||!e)return;const{startOfYear:s,endOfYear:o,addYears:c,isBefore:d,isSameYear:f}=r,m=s(t),y=o(e),v=[];let b=m;for(;d(b,y)||f(b,y);)v.push(b.getFullYear()),b=c(b,1);return v.map(A=>{const x=n.formatYearDropdown(A);return{value:A,label:x,disabled:!1}})}function II(t,e,n){return(n??new ms(e)).format(t,"LLLL y")}const DH=II;function NH(t,e,n,r){let s=(r??new ms(n)).format(t,"PPPP");return e!=null&&e.today&&(s=`Today, ${s}`),s}function DI(t,e,n,r){let s=(r??new ms(n)).format(t,"PPPP");return e.today&&(s=`Today, ${s}`),e.selected&&(s=`${s}, selected`),s}const OH=DI;function MH(){return""}function kH(t){return"Choose the Month"}function PH(t){return"Go to the Next Month"}function LH(t){return"Go to the Previous Month"}function VH(t,e,n){return(n??new ms(e)).format(t,"cccc")}function jH(t,e){return`Week ${t}`}function UH(t){return"Week Number"}function BH(t){return"Choose the Year"}const zH=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:DH,labelDay:OH,labelDayButton:DI,labelGrid:II,labelGridcell:NH,labelMonthDropdown:kH,labelNav:MH,labelNext:PH,labelPrevious:LH,labelWeekNumber:jH,labelWeekNumberHeader:UH,labelWeekday:VH,labelYearDropdown:BH},Symbol.toStringTag,{value:"Module"}));function FH(t,e,n,r){const s=t[0],o=t[t.length-1],{ISOWeek:c,fixedWeeks:d,broadcastCalendar:f}=n??{},{addDays:m,differenceInCalendarDays:y,differenceInCalendarMonths:v,endOfBroadcastWeek:b,endOfISOWeek:A,endOfMonth:x,endOfWeek:R,isAfter:C,startOfBroadcastWeek:I,startOfISOWeek:D,startOfWeek:j}=r,H=f?I(s,r):c?D(s):j(s),$=f?b(o,r):c?A(x(o)):R(x(o)),Z=y($,H),k=v(o,s)+1,N=[];for(let z=0;z<=Z;z++){const B=m(H,z);if(e&&C(B,e))break;N.push(B)}const L=(f?35:42)*k;if(d&&N.length<L){const z=L-N.length;for(let B=0;B<z;B++){const V=m(N[N.length-1],1);N.push(V)}}return N}function HH(t){const e=[];return t.reduce((n,r)=>{const s=[],o=r.weeks.reduce((c,d)=>[...c,...d.days],s);return[...n,...o]},e)}function qH(t,e,n,r){const{numberOfMonths:s=1}=n,o=[];for(let c=0;c<s;c++){const d=r.addMonths(t,c);if(e&&d>e)break;o.push(d)}return o}function TS(t,e){const{month:n,defaultMonth:r,today:s=t.timeZone?ai.tz(t.timeZone):e.Date?new e.Date:new Date,numberOfMonths:o=1,endMonth:c,startMonth:d}=t;let f=n||r||s;const{differenceInCalendarMonths:m,addMonths:y,startOfMonth:v}=e;if(c&&m(c,f)<0){const b=-1*(o-1);f=y(c,b)}return d&&m(f,d)<0&&(f=d),v(f)}class NI{constructor(e,n,r=ko){this.date=e,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(e,n)),this.dateLib=r}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class GH{constructor(e,n){this.date=e,this.weeks=n}}class WH{constructor(e,n){this.days=n,this.weekNumber=e}}function $H(t,e,n,r){const{addDays:s,endOfBroadcastWeek:o,endOfISOWeek:c,endOfMonth:d,endOfWeek:f,getISOWeek:m,getWeek:y,startOfBroadcastWeek:v,startOfISOWeek:b,startOfWeek:A}=r,x=t.reduce((R,C)=>{const I=n.broadcastCalendar?v(C,r):n.ISOWeek?b(C):A(C),D=n.broadcastCalendar?o(C,r):n.ISOWeek?c(d(C)):f(d(C)),j=e.filter(k=>k>=I&&k<=D),H=n.broadcastCalendar?35:42;if(n.fixedWeeks&&j.length<H){const k=e.filter(N=>{const O=H-j.length;return N>D&&N<=s(D,O)});j.push(...k)}const $=j.reduce((k,N)=>{const O=n.ISOWeek?m(N):y(N),L=k.find(B=>B.weekNumber===O),z=new NI(N,C,r);return L?L.days.push(z):k.push(new WH(O,[z])),k},[]),Z=new GH(C,$);return R.push(Z),R},[]);return n.reverseMonths?x.reverse():x}function YH(t,e){var R;let{startMonth:n,endMonth:r}=t;const{startOfYear:s,startOfDay:o,startOfMonth:c,endOfMonth:d,addYears:f,endOfYear:m}=e,{fromYear:y,toYear:v,fromMonth:b,toMonth:A}=t;!n&&b&&(n=b),!n&&y&&(n=new Date(y,0,1)),!r&&A&&(r=A),!r&&v&&(r=new Date(v,11,31));const x=(R=t.captionLayout)==null?void 0:R.startsWith("dropdown");if(n)n=c(n);else if(y)n=new Date(y,0,1);else if(!n&&x){const C=t.today??(t.timeZone?ai.tz(t.timeZone):e.Date?new e.Date:new Date);n=s(f(C,-100))}if(r)r=d(r);else if(v)r=new Date(v,11,31);else if(!r&&x){const C=t.today??(t.timeZone?ai.tz(t.timeZone):e.Date?new e.Date:new Date);r=m(C)}return[n&&o(n),r&&o(r)]}function KH(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:o=1}=n,{startOfMonth:c,addMonths:d,differenceInCalendarMonths:f}=r,m=s?o:1,y=c(t);if(!e)return d(y,m);if(!(f(e,t)<o))return d(y,m)}function QH(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:o}=n,{startOfMonth:c,addMonths:d,differenceInCalendarMonths:f}=r,m=s?o??1:1,y=c(t);if(!e)return d(y,-m);if(!(f(y,e)<=0))return d(y,-m)}function XH(t){const e=[];return t.reduce((n,r)=>[...n,...r.weeks],e)}function Wm(t,e){const[n,r]=E.useState(t);return[e===void 0?n:e,r]}function ZH(t,e){const[n,r]=YH(t,e),{startOfMonth:s,endOfMonth:o}=e,c=TS(t,e),[d,f]=Wm(c,t.month?s(t.month):void 0);E.useEffect(()=>{const Z=TS(t,e);f(Z)},[t.timeZone]);const m=qH(d,r,t,e),y=FH(m,t.endMonth?o(t.endMonth):void 0,t,e),v=$H(m,y,t,e),b=XH(v),A=HH(v),x=QH(d,n,t,e),R=KH(d,r,t,e),{disableNavigation:C,onMonthChange:I}=t,D=Z=>b.some(k=>k.days.some(N=>N.isEqualTo(Z))),j=Z=>{if(C)return;let k=s(Z);n&&k<s(n)&&(k=s(n)),r&&k>s(r)&&(k=s(r)),f(k),I==null||I(k)};return{months:v,weeks:b,days:A,navStart:n,navEnd:r,previousMonth:x,nextMonth:R,goToMonth:j,goToDay:Z=>{D(Z)||j(Z.date)}}}function JH(t,e,n,r){let s,o=0,c=!1;for(;o<t.length&&!c;){const d=t[o],f=e(d);!f[_t.disabled]&&!f[_t.hidden]&&!f[_t.outside]&&(f[_t.focused]||r!=null&&r.isEqualTo(d)||n(d.date)||f[_t.today])&&(s=d,c=!0),o++}return s||(s=t.find(d=>{const f=e(d);return!f[_t.disabled]&&!f[_t.hidden]&&!f[_t.outside]})),s}function ts(t,e,n=!1,r=ko){let{from:s,to:o}=t;const{differenceInCalendarDays:c,isSameDay:d}=r;return s&&o?(c(o,s)<0&&([s,o]=[o,s]),c(e,s)>=(n?1:0)&&c(o,e)>=(n?1:0)):!n&&o?d(o,e):!n&&s?d(s,e):!1}function OI(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function $_(t){return!!(t&&typeof t=="object"&&"from"in t)}function MI(t){return!!(t&&typeof t=="object"&&"after"in t)}function kI(t){return!!(t&&typeof t=="object"&&"before"in t)}function PI(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function LI(t,e){return Array.isArray(t)&&t.every(e.isDate)}function ns(t,e,n=ko){const r=Array.isArray(e)?e:[e],{isSameDay:s,differenceInCalendarDays:o,isAfter:c}=n;return r.some(d=>{if(typeof d=="boolean")return d;if(n.isDate(d))return s(t,d);if(LI(d,n))return d.includes(t);if($_(d))return ts(d,t,!1,n);if(PI(d))return Array.isArray(d.dayOfWeek)?d.dayOfWeek.includes(t.getDay()):d.dayOfWeek===t.getDay();if(OI(d)){const f=o(d.before,t),m=o(d.after,t),y=f>0,v=m<0;return c(d.before,d.after)?v&&y:y||v}return MI(d)?o(t,d.after)>0:kI(d)?o(d.before,t)>0:typeof d=="function"?d(t):!1})}function eq(t,e,n,r,s,o,c){const{ISOWeek:d,broadcastCalendar:f}=o,{addDays:m,addMonths:y,addWeeks:v,addYears:b,endOfBroadcastWeek:A,endOfISOWeek:x,endOfWeek:R,max:C,min:I,startOfBroadcastWeek:D,startOfISOWeek:j,startOfWeek:H}=c;let Z={day:m,week:v,month:y,year:b,startOfWeek:k=>f?D(k,c):d?j(k):H(k),endOfWeek:k=>f?A(k,c):d?x(k):R(k)}[t](n,e==="after"?1:-1);return e==="before"&&r?Z=C([r,Z]):e==="after"&&s&&(Z=I([s,Z])),Z}function VI(t,e,n,r,s,o,c,d=0){if(d>365)return;const f=eq(t,e,n.date,r,s,o,c),m=!!(o.disabled&&ns(f,o.disabled,c)),y=!!(o.hidden&&ns(f,o.hidden,c)),v=f,b=new NI(f,v,c);return!m&&!y?b:VI(t,e,b,r,s,o,c,d+1)}function tq(t,e,n,r,s){const{autoFocus:o}=t,[c,d]=E.useState(),f=JH(e.days,n,r||(()=>!1),c),[m,y]=E.useState(o?f:void 0);return{isFocusTarget:R=>!!(f!=null&&f.isEqualTo(R)),setFocused:y,focused:m,blur:()=>{d(m),y(void 0)},moveFocus:(R,C)=>{if(!m)return;const I=VI(R,C,m,e.navStart,e.navEnd,t,s);I&&(e.goToDay(I),y(I))}}}function nq(t,e,n){const{disabled:r,hidden:s,modifiers:o,showOutsideDays:c,broadcastCalendar:d,today:f}=e,{isSameDay:m,isSameMonth:y,startOfMonth:v,isBefore:b,endOfMonth:A,isAfter:x}=n,R=e.startMonth&&v(e.startMonth),C=e.endMonth&&A(e.endMonth),I={[_t.focused]:[],[_t.outside]:[],[_t.disabled]:[],[_t.hidden]:[],[_t.today]:[]},D={};for(const j of t){const{date:H,displayMonth:$}=j,Z=!!($&&!y(H,$)),k=!!(R&&b(H,R)),N=!!(C&&x(H,C)),O=!!(r&&ns(H,r,n)),L=!!(s&&ns(H,s,n))||k||N||!d&&!c&&Z||d&&c===!1&&Z,z=m(H,f??(e.timeZone?ai.tz(e.timeZone):n.Date?new n.Date:new Date));Z&&I.outside.push(j),O&&I.disabled.push(j),L&&I.hidden.push(j),z&&I.today.push(j),o&&Object.keys(o).forEach(B=>{const V=o==null?void 0:o[B];V&&ns(H,V,n)&&(D[B]?D[B].push(j):D[B]=[j])})}return j=>{const H={[_t.focused]:!1,[_t.disabled]:!1,[_t.hidden]:!1,[_t.outside]:!1,[_t.today]:!1},$={};for(const Z in I){const k=I[Z];H[Z]=k.some(N=>N===j)}for(const Z in D)$[Z]=D[Z].some(k=>k===j);return{...H,...$}}}function rq(t,e){const{selected:n,required:r,onSelect:s}=t,[o,c]=Wm(n,s?n:void 0),d=s?n:o,{isSameDay:f}=e,m=A=>(d==null?void 0:d.some(x=>f(x,A)))??!1,{min:y,max:v}=t;return{selected:d,select:(A,x,R)=>{let C=[...d??[]];if(m(A)){if((d==null?void 0:d.length)===y||r&&(d==null?void 0:d.length)===1)return;C=d==null?void 0:d.filter(I=>!f(I,A))}else(d==null?void 0:d.length)===v?C=[A]:C=[...C,A];return s||c(C),s==null||s(C,A,x,R),C},isSelected:m}}function iq(t,e,n=0,r=0,s=!1,o=ko){const{from:c,to:d}=e||{},{isSameDay:f,isAfter:m,isBefore:y}=o;let v;if(!c&&!d)v={from:t,to:n>0?void 0:t};else if(c&&!d)f(c,t)?s?v={from:c,to:void 0}:v=void 0:y(t,c)?v={from:t,to:c}:v={from:c,to:t};else if(c&&d)if(f(c,t)&&f(d,t))s?v={from:c,to:d}:v=void 0;else if(f(c,t))v={from:c,to:n>0?void 0:t};else if(f(d,t))v={from:t,to:n>0?void 0:t};else if(y(t,c))v={from:t,to:d};else if(m(t,c))v={from:c,to:t};else if(m(t,d))v={from:c,to:t};else throw new Error("Invalid range");if(v!=null&&v.from&&(v!=null&&v.to)){const b=o.differenceInCalendarDays(v.to,v.from);r>0&&b>r?v={from:t,to:void 0}:n>1&&b<n&&(v={from:t,to:void 0})}return v}function sq(t,e,n=ko){const r=Array.isArray(e)?e:[e];let s=t.from;const o=n.differenceInCalendarDays(t.to,t.from),c=Math.min(o,6);for(let d=0;d<=c;d++){if(r.includes(s.getDay()))return!0;s=n.addDays(s,1)}return!1}function SS(t,e,n=ko){return ts(t,e.from,!1,n)||ts(t,e.to,!1,n)||ts(e,t.from,!1,n)||ts(e,t.to,!1,n)}function aq(t,e,n=ko){const r=Array.isArray(e)?e:[e];if(r.filter(d=>typeof d!="function").some(d=>typeof d=="boolean"?d:n.isDate(d)?ts(t,d,!1,n):LI(d,n)?d.some(f=>ts(t,f,!1,n)):$_(d)?d.from&&d.to?SS(t,{from:d.from,to:d.to},n):!1:PI(d)?sq(t,d.dayOfWeek,n):OI(d)?n.isAfter(d.before,d.after)?SS(t,{from:n.addDays(d.after,1),to:n.addDays(d.before,-1)},n):ns(t.from,d,n)||ns(t.to,d,n):MI(d)||kI(d)?ns(t.from,d,n)||ns(t.to,d,n):!1))return!0;const c=r.filter(d=>typeof d=="function");if(c.length){let d=t.from;const f=n.differenceInCalendarDays(t.to,t.from);for(let m=0;m<=f;m++){if(c.some(y=>y(d)))return!0;d=n.addDays(d,1)}}return!1}function oq(t,e){const{disabled:n,excludeDisabled:r,selected:s,required:o,onSelect:c}=t,[d,f]=Wm(s,c?s:void 0),m=c?s:d;return{selected:m,select:(b,A,x)=>{const{min:R,max:C}=t,I=b?iq(b,m,R,C,o,e):void 0;return r&&n&&(I!=null&&I.from)&&I.to&&aq({from:I.from,to:I.to},n,e)&&(I.from=b,I.to=void 0),c||f(I),c==null||c(I,b,A,x),I},isSelected:b=>m&&ts(m,b,!1,e)}}function lq(t,e){const{selected:n,required:r,onSelect:s}=t,[o,c]=Wm(n,s?n:void 0),d=s?n:o,{isSameDay:f}=e;return{selected:d,select:(v,b,A)=>{let x=v;return!r&&d&&d&&f(v,d)&&(x=void 0),s||c(x),s==null||s(x,v,b,A),x},isSelected:v=>d?f(d,v):!1}}function cq(t,e){const n=lq(t,e),r=rq(t,e),s=oq(t,e);switch(t.mode){case"single":return n;case"multiple":return r;case"range":return s;default:return}}function uq(t){const{components:e,formatters:n,labels:r,dateLib:s,locale:o,classNames:c}=E.useMemo(()=>{const Ue={...Gm,...t.locale};return{dateLib:new ms({locale:Ue,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens},t.dateLib),components:dH(t.components),formatters:bH(t.formatters),labels:{...zH,...t.labels},locale:Ue,classNames:{...hH(),...t.classNames}}},[t.classNames,t.components,t.dateLib,t.firstWeekContainsDate,t.formatters,t.labels,t.locale,t.useAdditionalDayOfYearTokens,t.useAdditionalWeekYearTokens,t.weekStartsOn,t.broadcastCalendar]),{captionLayout:d,mode:f,onDayBlur:m,onDayClick:y,onDayFocus:v,onDayKeyDown:b,onDayMouseEnter:A,onDayMouseLeave:x,onNextClick:R,onPrevClick:C,showWeekNumber:I,styles:D}=t,{formatCaption:j,formatDay:H,formatMonthDropdown:$,formatWeekNumber:Z,formatWeekNumberHeader:k,formatWeekdayName:N,formatYearDropdown:O}=n,L=ZH(t,s),{days:z,months:B,navStart:V,navEnd:ye,previousMonth:Ae,nextMonth:J,goToMonth:ce}=L,ie=nq(z,t,s),{isSelected:ae,select:F,selected:ee}=cq(t,s)??{},{blur:he,focused:fe,isFocusTarget:de,moveFocus:Ce,setFocused:Te}=tq(t,L,ie,ae??(()=>!1),s),{labelDayButton:me,labelGridcell:_e,labelGrid:Ie,labelMonthDropdown:be,labelNav:ke,labelWeekday:He,labelWeekNumber:ft,labelWeekNumberHeader:Vt,labelYearDropdown:_n}=r,un=E.useMemo(()=>CH(s,t.ISOWeek,t.timeZone),[s,t.ISOWeek,t.timeZone]),Pn=f!==void 0||y!==void 0,Ur=E.useCallback(()=>{Ae&&(ce(Ae),C==null||C(Ae))},[Ae,ce,C]),Fn=E.useCallback(()=>{J&&(ce(J),R==null||R(J))},[ce,J,R]),Ai=E.useCallback((Ue,ot)=>je=>{je.preventDefault(),je.stopPropagation(),Te(Ue),F==null||F(Ue.date,ot,je),y==null||y(Ue.date,ot,je)},[F,y,Te]),ps=E.useCallback((Ue,ot)=>je=>{Te(Ue),v==null||v(Ue.date,ot,je)},[v,Te]),yc=E.useCallback((Ue,ot)=>je=>{he(),m==null||m(Ue.date,ot,je)},[he,m]),Ra=E.useCallback((Ue,ot)=>je=>{const Ln={ArrowLeft:["day",t.dir==="rtl"?"after":"before"],ArrowRight:["day",t.dir==="rtl"?"before":"after"],ArrowDown:["week","after"],ArrowUp:["week","before"],PageUp:[je.shiftKey?"year":"month","before"],PageDown:[je.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Ln[je.key]){je.preventDefault(),je.stopPropagation();const[Dt,Ht]=Ln[je.key];Ce(Dt,Ht)}b==null||b(Ue.date,ot,je)},[Ce,b,t.dir]),wn=E.useCallback((Ue,ot)=>je=>{A==null||A(Ue.date,ot,je)},[A]),Po=E.useCallback((Ue,ot)=>je=>{x==null||x(Ue.date,ot,je)},[x]),jt=E.useCallback(Ue=>ot=>{const je=Number(ot.target.value),Ln=s.setMonth(s.startOfMonth(Ue),je);ce(Ln)},[s,ce]),Ft=E.useCallback(Ue=>ot=>{const je=Number(ot.target.value),Ln=s.setYear(s.startOfMonth(Ue),je);ce(Ln)},[s,ce]),{className:br,style:Lo}=E.useMemo(()=>({className:[c[Ne.Root],t.className].filter(Boolean).join(" "),style:{...D==null?void 0:D[Ne.Root],...t.style}}),[c,t.className,t.style,D]),Ca=fH(t),vc={dayPickerProps:t,selected:ee,select:F,isSelected:ae,months:B,nextMonth:J,previousMonth:Ae,goToMonth:ce,getModifiers:ie,components:e,classNames:c,styles:D,labels:r,formatters:n};return pe.createElement(AI.Provider,{value:vc},pe.createElement(e.Root,{className:br,style:Lo,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],...Ca},pe.createElement(e.Months,{className:c[Ne.Months],style:D==null?void 0:D[Ne.Months]},!t.hideNavigation&&pe.createElement(e.Nav,{className:c[Ne.Nav],style:D==null?void 0:D[Ne.Nav],"aria-label":ke(),onPreviousClick:Ur,onNextClick:Fn,previousMonth:Ae,nextMonth:J}),B.map((Ue,ot)=>{const je=TH(Ue.date,V,ye,n,s),Ln=IH(V,ye,n,s);return pe.createElement(e.Month,{className:c[Ne.Month],style:D==null?void 0:D[Ne.Month],key:ot,displayIndex:ot,calendarMonth:Ue},pe.createElement(e.MonthCaption,{className:c[Ne.MonthCaption],style:D==null?void 0:D[Ne.MonthCaption],calendarMonth:Ue,displayIndex:ot},d!=null&&d.startsWith("dropdown")?pe.createElement(e.DropdownNav,{className:c[Ne.Dropdowns],style:D==null?void 0:D[Ne.Dropdowns]},d==="dropdown"||d==="dropdown-months"?pe.createElement(e.MonthsDropdown,{className:c[Ne.MonthsDropdown],"aria-label":be(),classNames:c,components:e,disabled:!!t.disableNavigation,onChange:jt(Ue.date),options:je,style:D==null?void 0:D[Ne.Dropdown],value:Ue.date.getMonth()}):pe.createElement("span",{role:"status","aria-live":"polite"},$(Ue.date.getMonth(),o)),d==="dropdown"||d==="dropdown-years"?pe.createElement(e.YearsDropdown,{className:c[Ne.YearsDropdown],"aria-label":_n(s.options),classNames:c,components:e,disabled:!!t.disableNavigation,onChange:Ft(Ue.date),options:Ln,style:D==null?void 0:D[Ne.Dropdown],value:Ue.date.getFullYear()}):pe.createElement("span",{role:"status","aria-live":"polite"},O(Ue.date.getFullYear()))):pe.createElement(e.CaptionLabel,{className:c[Ne.CaptionLabel],role:"status","aria-live":"polite"},j(Ue.date,s.options,s))),pe.createElement(e.MonthGrid,{role:"grid","aria-multiselectable":f==="multiple"||f==="range","aria-label":Ie(Ue.date,s.options,s)||void 0,className:c[Ne.MonthGrid],style:D==null?void 0:D[Ne.MonthGrid]},!t.hideWeekdays&&pe.createElement(e.Weekdays,{className:c[Ne.Weekdays],style:D==null?void 0:D[Ne.Weekdays]},I&&pe.createElement(e.WeekNumberHeader,{"aria-label":Vt(s.options),className:c[Ne.WeekNumberHeader],style:D==null?void 0:D[Ne.WeekNumberHeader],scope:"col"},k()),un.map((Dt,Ht)=>pe.createElement(e.Weekday,{"aria-label":He(Dt,s.options,s),className:c[Ne.Weekday],key:Ht,style:D==null?void 0:D[Ne.Weekday],scope:"col"},N(Dt,s.options,s)))),pe.createElement(e.Weeks,{className:c[Ne.Weeks],style:D==null?void 0:D[Ne.Weeks]},Ue.weeks.map((Dt,Ht)=>pe.createElement(e.Week,{className:c[Ne.Week],key:Dt.weekNumber,style:D==null?void 0:D[Ne.Week],week:Dt},I&&pe.createElement(e.WeekNumber,{week:Dt,style:D==null?void 0:D[Ne.WeekNumber],"aria-label":ft(Dt.weekNumber,{locale:o}),className:c[Ne.WeekNumber],scope:"row",role:"rowheader"},Z(Dt.weekNumber)),Dt.days.map(Nt=>{const{date:Cn}=Nt,Xe=ie(Nt);if(Xe[_t.focused]=!Xe.hidden&&!!(fe!=null&&fe.isEqualTo(Nt)),Xe[Dr.selected]=!Xe.disabled&&((ae==null?void 0:ae(Cn))||Xe.selected),$_(ee)){const{from:En,to:rr}=ee;Xe[Dr.range_start]=!!(En&&rr&&s.isSameDay(Cn,En)),Xe[Dr.range_end]=!!(En&&rr&&s.isSameDay(Cn,rr)),Xe[Dr.range_middle]=ts(ee,Cn,!0,s)}const nr=SH(Xe,D,t.modifiersStyles),Br=V3(Xe,c,t.modifiersClassNames),Hn=!Pn&&!Xe.hidden?_e(Cn,Xe,s.options,s):void 0;return pe.createElement(e.Day,{key:`${s.format(Cn,"yyyy-MM-dd")}_${s.format(Nt.displayMonth,"yyyy-MM")}`,day:Nt,modifiers:Xe,className:Br.join(" "),style:nr,role:"gridcell","aria-selected":Xe.selected||void 0,"aria-label":Hn,"data-day":s.format(Cn,"yyyy-MM-dd"),"data-month":Nt.outside?s.format(Cn,"yyyy-MM"):void 0,"data-selected":Xe.selected||void 0,"data-disabled":Xe.disabled||void 0,"data-hidden":Xe.hidden||void 0,"data-outside":Nt.outside||void 0,"data-focused":Xe.focused||void 0,"data-today":Xe.today||void 0},!Xe.hidden&&Pn?pe.createElement(e.DayButton,{className:c[Ne.DayButton],style:D==null?void 0:D[Ne.DayButton],type:"button",day:Nt,modifiers:Xe,disabled:Xe.disabled||void 0,tabIndex:de(Nt)?0:-1,"aria-label":me(Cn,Xe,s.options,s),onClick:Ai(Nt,Xe),onBlur:yc(Nt,Xe),onFocus:ps(Nt,Xe),onKeyDown:Ra(Nt,Xe),onMouseEnter:wn(Nt,Xe),onMouseLeave:Po(Nt,Xe)},H(Cn,s.options,s)):!Xe.hidden&&H(Nt.date,s.options,s))}))))))})),t.footer&&pe.createElement(e.Footer,{className:c[Ne.Footer],style:D==null?void 0:D[Ne.Footer],role:"status","aria-live":"polite"},t.footer)))}function jI({className:t,classNames:e,showOutsideDays:n=!0,...r}){return _.jsx(uq,{locale:W_,showOutsideDays:n,className:Be("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Be(Xy({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex justify-between w-full",head_cell:"text-slate-500 w-8 font-normal text-[0.8rem] dark:text-slate-400 text-center",row:"flex w-full mt-2 justify-between",cell:Be("relative p-0 text-center text-sm focus-within:relative focus-within:z-20",r.mode==="range"?"[&:has([aria-selected])]:bg-accent":""),day:Be(Xy({variant:"ghost"}),"h-8 w-8 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-slate-900 text-slate-50 hover:bg-slate-900 hover:text-slate-50 focus:bg-slate-900 focus:text-slate-50 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50 dark:hover:text-slate-900 dark:focus:bg-slate-50 dark:focus:text-slate-900",day_today:"bg-slate-100 text-slate-900 dark:bg-slate-800 dark:text-slate-50",day_outside:"day-outside text-slate-500 opacity-50 aria-selected:bg-slate-100/50 aria-selected:text-slate-500 aria-selected:opacity-30 dark:text-slate-400 dark:aria-selected:bg-slate-800/50 dark:aria-selected:text-slate-400",day_disabled:"text-slate-500 opacity-50 dark:text-slate-400",day_range_middle:"aria-selected:bg-slate-100 aria-selected:text-slate-900 dark:aria-selected:bg-slate-800 dark:aria-selected:text-slate-50",day_hidden:"invisible",...e},...r})}jI.displayName="Calendar";var Y_="Popover",[UI,f7]=Ti(Y_,[hc]),Nd=hc(),[dq,xa]=UI(Y_),BI=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:c=!1}=t,d=Nd(e),f=E.useRef(null),[m,y]=E.useState(!1),[v=!1,b]=bo({prop:r,defaultProp:s,onChange:o});return _.jsx(S_,{...d,children:_.jsx(dq,{scope:e,contentId:hi(),triggerRef:f,open:v,onOpenChange:b,onOpenToggle:E.useCallback(()=>b(A=>!A),[b]),hasCustomAnchor:m,onCustomAnchorAdd:E.useCallback(()=>y(!0),[]),onCustomAnchorRemove:E.useCallback(()=>y(!1),[]),modal:c,children:n})})};BI.displayName=Y_;var zI="PopoverAnchor",fq=E.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=xa(zI,n),o=Nd(n),{onCustomAnchorAdd:c,onCustomAnchorRemove:d}=s;return E.useEffect(()=>(c(),()=>d()),[c,d]),_.jsx(km,{...o,...r,ref:e})});fq.displayName=zI;var FI="PopoverTrigger",HI=E.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=xa(FI,n),o=Nd(n),c=ut(e,s.triggerRef),d=_.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":YI(s.open),...r,ref:c,onClick:we(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?d:_.jsx(km,{asChild:!0,...o,children:d})});HI.displayName=FI;var K_="PopoverPortal",[hq,mq]=UI(K_,{forceMount:void 0}),qI=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,o=xa(K_,e);return _.jsx(hq,{scope:e,forceMount:n,children:_.jsx(Vr,{present:n||o.open,children:_.jsx(Td,{asChild:!0,container:s,children:r})})})};qI.displayName=K_;var ec="PopoverContent",GI=E.forwardRef((t,e)=>{const n=mq(ec,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,o=xa(ec,t.__scopePopover);return _.jsx(Vr,{present:r||o.open,children:o.modal?_.jsx(pq,{...s,ref:e}):_.jsx(gq,{...s,ref:e})})});GI.displayName=ec;var pq=E.forwardRef((t,e)=>{const n=xa(ec,t.__scopePopover),r=E.useRef(null),s=ut(e,r),o=E.useRef(!1);return E.useEffect(()=>{const c=r.current;if(c)return Lm(c)},[]),_.jsx(Sd,{as:ls,allowPinchZoom:!0,children:_.jsx(WI,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(t.onCloseAutoFocus,c=>{var d;c.preventDefault(),o.current||(d=n.triggerRef.current)==null||d.focus()}),onPointerDownOutside:we(t.onPointerDownOutside,c=>{const d=c.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,m=d.button===2||f;o.current=m},{checkForDefaultPrevented:!1}),onFocusOutside:we(t.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),gq=E.forwardRef((t,e)=>{const n=xa(ec,t.__scopePopover),r=E.useRef(!1),s=E.useRef(!1);return _.jsx(WI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=t.onCloseAutoFocus)==null||c.call(t,o),o.defaultPrevented||(r.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var f,m;(f=t.onInteractOutside)==null||f.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=o.target;((m=n.triggerRef.current)==null?void 0:m.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),WI=E.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:y,...v}=t,b=xa(ec,n),A=Nd(n);return Dm(),_.jsx(Ed,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:_.jsx(wd,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:y,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:m,onDismiss:()=>b.onOpenChange(!1),children:_.jsx(A_,{"data-state":YI(b.open),role:"dialog",id:b.contentId,...A,...v,ref:e,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),$I="PopoverClose",yq=E.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=xa($I,n);return _.jsx(qe.button,{type:"button",...r,ref:e,onClick:we(t.onClick,()=>s.onOpenChange(!1))})});yq.displayName=$I;var vq="PopoverArrow",_q=E.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Nd(n);return _.jsx(x_,{...s,...r,ref:e})});_q.displayName=vq;function YI(t){return t?"open":"closed"}var wq=BI,Eq=HI,bq=qI,KI=GI;const QI=wq,XI=Eq,Q_=E.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>_.jsx(bq,{children:_.jsx(KI,{ref:s,align:e,sideOffset:n,className:Be("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Q_.displayName=KI.displayName;function tm({value:t,onChange:e,placeholder:n="Selecionar data...",label:r}){const[s,o]=E.useState(!1);return _.jsxs("div",{className:"flex flex-col gap-2",children:[r&&_.jsx("span",{className:"text-sm font-medium",children:r}),_.jsxs(QI,{open:s,onOpenChange:o,children:[_.jsx(XI,{asChild:!0,children:_.jsxs(pt,{variant:"outline",className:Be("w-full justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[_.jsx(_x,{className:"mr-2 h-4 w-4"}),t?G_(t,"PPP",{locale:W_}):n]})}),_.jsx(Q_,{className:"w-auto p-0",align:"start",children:_.jsx(jI,{mode:"single",selected:t||void 0,onSelect:c=>e(c||null),initialFocus:!0})})]})]})}function Tq({selectedCategory:t,onSelect:e}){const[n,r]=E.useState([]),{user:s}=tr();return E.useEffect(()=>{if(!s)return;const o=Ea(Mn(Tt,"categories"),ba("userId","==",s.uid)),c=Ta(o,d=>{const f=[];d.forEach(m=>{const y=m.data();f.push({id:m.id,name:y.name,userId:y.userId,color:y.color})}),r(f)});return()=>c()},[s]),_.jsxs(V_,{value:t||"",onValueChange:o=>e(o||null),children:[_.jsx(Hm,{children:_.jsx(j_,{placeholder:"Selecionar categoria..."})}),_.jsxs(qm,{children:[_.jsx(fo,{value:"",children:"Sem categoria"}),n.map(o=>_.jsxs(fo,{value:o.id,className:"flex items-center gap-2",children:[o.color&&_.jsx("div",{className:`w-2 h-2 rounded-full ${o.color}`}),o.name]},o.id))]})]})}const Ey={priority:null,categoryId:null,dateRange:{from:null,to:null}};function Sq({onFilterChange:t}){const[e,n]=E.useState(!1),[r,s]=E.useState(Ey),o=f=>{const m={...r,...f,dateRange:{...r.dateRange,...f.dateRange||{}}};s(m),t(m)},c=()=>{s(Ey),t(Ey),n(!1)},d=[r.priority,r.categoryId,r.dateRange.from,r.dateRange.to].filter(Boolean).length;return _.jsxs(mc,{open:e,onOpenChange:n,children:[_.jsx(pc,{asChild:!0,children:_.jsxs(pt,{variant:"outline",size:"icon",className:"relative",children:[_.jsx(tB,{className:"h-4 w-4"}),d>0&&_.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-primary text-xs flex items-center justify-center text-primary-foreground",children:d})]})}),_.jsxs(Mo,{align:"end",className:"w-80",children:[_.jsxs("div",{className:"p-4 space-y-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-medium",children:"Prioridade"}),_.jsx(U_,{value:r.priority||"medium",onChange:f=>o({priority:f})})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-medium",children:"Categoria"}),_.jsx(Tq,{selectedCategory:r.categoryId,onSelect:f=>o({categoryId:f})})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-medium",children:"Data Inicial"}),_.jsx(tm,{value:r.dateRange.from,onChange:f=>o({dateRange:{...r.dateRange,from:f}}),placeholder:"Data inicial..."})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-medium",children:"Data Final"}),_.jsx(tm,{value:r.dateRange.to,onChange:f=>o({dateRange:{...r.dateRange,to:f}}),placeholder:"Data final..."})]})]}),_.jsx(ZR,{}),_.jsx(So,{className:"text-center cursor-pointer",onClick:c,children:"Limpar filtros"})]})]})}function Aq({onShare:t,listId:e}){const[n,r]=E.useState(""),[s,o]=E.useState("read"),[c,d]=E.useState(!1),f=async()=>{if(n.trim())try{await t(e,n.trim(),s),r(""),d(!1)}catch(m){console.error("Error sharing list:",m)}};return _.jsxs(Uu,{open:c,onOpenChange:d,children:[_.jsx(Bu,{asChild:!0,children:_.jsx(pt,{variant:"outline",size:"icon",children:_.jsx(eB,{className:"h-4 w-4"})})}),_.jsxs(Ul,{children:[_.jsx(Bl,{children:_.jsx(zl,{children:"Compartilhar Lista"})}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-medium",children:"Email"}),_.jsx(_i,{type:"email",value:n,onChange:m=>r(m.target.value),placeholder:"Digite o email..."})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-medium",children:"Permisso"}),_.jsxs(V_,{value:s,onValueChange:m=>o(m),children:[_.jsx(Hm,{children:_.jsx(j_,{})}),_.jsxs(qm,{children:[_.jsx(fo,{value:"read",children:"Leitura"}),_.jsx(fo,{value:"write",children:"Escrita"}),_.jsx(fo,{value:"admin",children:"Administrador"})]})]})]}),_.jsx(pt,{onClick:f,disabled:!n.trim(),className:"w-full",children:"Compartilhar"})]})]})]})}function xq({list:t,selected:e,onSelect:n,onDelete:r,onShare:s}){return _.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg hover:bg-secondary/50 ${e?"bg-secondary":""}`,children:[_.jsx("button",{className:"flex-1 text-left",onClick:()=>n(t.id),children:t.title}),_.jsxs("div",{className:"flex items-center gap-2",children:[s(t),_.jsxs(mc,{children:[_.jsx(pc,{asChild:!0,children:_.jsx(pt,{variant:"ghost",size:"icon",children:_.jsx(wx,{className:"h-4 w-4"})})}),_.jsx(Mo,{align:"end",children:_.jsx(So,{className:"text-destructive",onClick:()=>r(t.id),children:"Excluir"})})]})]})]})}function Rq({onSelectList:t,selectedListId:e}){const[n,r]=E.useState([]),[s,o]=E.useState(""),{user:c}=tr();E.useEffect(()=>{if(!c)return;const y=Ea(Mn(Tt,"lists"),ba("userId","==",c.uid)),v=Ta(y,b=>{const A=[];b.forEach(x=>{const R=x.data();A.push({id:x.id,title:R.title,userId:R.userId,createdAt:R.createdAt.toDate()})}),r(A)});return()=>v()},[c]);const d=async()=>{if(!(!c||!s.trim()))try{await Eo(Mn(Tt,"lists"),{title:s.trim(),userId:c.uid,createdAt:Qe.now()}),o("")}catch(y){console.error("Error creating list:",y)}},f=async y=>{try{await Rm(fi(Tt,"lists",y)),e===y&&t(null)}catch(v){console.error("Error deleting list:",v)}},m=async(y,v,b="read")=>{if(c)try{const A=fi(Tt,"lists",y);await Xu(A,{sharedWith:A4({email:v,permission:b,addedAt:Qe.now(),addedBy:c.uid})}),await Eo(Mn(Tt,"notifications"),{type:"LIST_SHARE",listId:y,toEmail:v,fromUserId:c.uid,permission:b,createdAt:Qe.now(),read:!1})}catch(A){throw console.error("Error sharing list:",A),A}};return _.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex gap-2",children:[_.jsx(_i,{placeholder:"Nova lista...",value:s,onChange:y=>o(y.target.value),onKeyPress:y=>y.key==="Enter"&&d()}),_.jsx(pt,{onClick:d,disabled:!s.trim(),children:_.jsx(f_,{className:"h-4 w-4"})})]}),_.jsx("div",{className:"space-y-2",children:n.map(y=>_.jsx(xq,{list:y,selected:e===y.id,onSelect:t,onDelete:f,onShare:v=>_.jsx(Aq,{listId:v.id,onShare:m})},y.id))})]})}const Cq=dx("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Iq({className:t,variant:e,...n}){return _.jsx("div",{className:Be(Cq({variant:e}),t),...n})}function Dq(){const[t,e]=E.useState([]),[n,r]=E.useState(""),{user:s}=tr();E.useEffect(()=>{if(!s)return;const f=Ea(Mn(Tt,"categories"),ba("userId","==",s.uid)),m=Ta(f,y=>{const v=[];y.forEach(b=>{const A=b.data();v.push({id:b.id,name:A.name,userId:A.userId,color:A.color||d()})}),e(v)});return()=>m()},[s]);const o=async()=>{if(!(!s||!n.trim()))try{await Eo(Mn(Tt,"categories"),{name:n.trim(),userId:s.uid,color:d()}),r("")}catch(f){console.error("Error adding category:",f)}},c=async f=>{try{await Rm(fi(Tt,"categories",f))}catch(m){console.error("Error removing category:",m)}},d=()=>{const f=["bg-red-500","bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500","bg-pink-500","bg-indigo-500"];return f[Math.floor(Math.random()*f.length)]};return _.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex gap-2",children:[_.jsx(_i,{value:n,onChange:f=>r(f.target.value),placeholder:"Nova categoria...",onKeyPress:f=>f.key==="Enter"&&o()}),_.jsx(pt,{onClick:o,size:"icon",children:_.jsx(f_,{className:"h-4 w-4"})})]}),_.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(f=>_.jsxs(Iq,{variant:"secondary",className:`flex items-center gap-1 ${f.color}`,children:[f.name,_.jsx(pt,{variant:"ghost",size:"icon",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>c(f.id),children:_.jsx(Im,{className:"h-3 w-3"})})]},f.id))})]})}function Nq({selectedTags:t,onTagsChange:e}){const[n,r]=E.useState(""),[s,o]=E.useState("#3b82f6"),c=()=>{if(!n.trim())return;const m=n.trim().toLowerCase();if(!t.some(y=>y.name===m)){const y={id:crypto.randomUUID(),name:m,color:s};e([...t,y])}r("")},d=m=>{e(t.filter(y=>y.id!==m))},f=m=>{m.key==="Enter"&&(m.preventDefault(),c())};return _.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex gap-2",children:[_.jsx(_i,{type:"text",placeholder:"Adicionar tag...",value:n,onChange:m=>r(m.target.value),onKeyPress:f,className:"flex-1"}),_.jsx(_i,{type:"color",value:s,onChange:m=>o(m.target.value),className:"w-12 p-1 h-10"}),_.jsx(pt,{type:"button",variant:"outline",onClick:c,disabled:!n.trim(),children:"Adicionar"})]}),_.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(m=>_.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-sm",style:{backgroundColor:m.color+"20",color:m.color},children:[m.name,_.jsx("button",{type:"button",onClick:()=>d(m.id),className:"p-0.5 hover:bg-black/5 rounded",children:_.jsx(Im,{className:"h-3 w-3"})})]},m.id))})]})}var X_="Checkbox",[Oq,h7]=Ti(X_),[Mq,kq]=Oq(X_),ZI=E.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:c,disabled:d,value:f="on",onCheckedChange:m,form:y,...v}=t,[b,A]=E.useState(null),x=ut(e,H=>A(H)),R=E.useRef(!1),C=b?y||!!b.closest("form"):!0,[I=!1,D]=bo({prop:s,defaultProp:o,onChange:m}),j=E.useRef(I);return E.useEffect(()=>{const H=b==null?void 0:b.form;if(H){const $=()=>D(j.current);return H.addEventListener("reset",$),()=>H.removeEventListener("reset",$)}},[b,D]),_.jsxs(Mq,{scope:n,state:I,disabled:d,children:[_.jsx(qe.button,{type:"button",role:"checkbox","aria-checked":oa(I)?"mixed":I,"aria-required":c,"data-state":tD(I),"data-disabled":d?"":void 0,disabled:d,value:f,...v,ref:x,onKeyDown:we(t.onKeyDown,H=>{H.key==="Enter"&&H.preventDefault()}),onClick:we(t.onClick,H=>{D($=>oa($)?!0:!$),C&&(R.current=H.isPropagationStopped(),R.current||H.stopPropagation())})}),C&&_.jsx(Pq,{control:b,bubbles:!R.current,name:r,value:f,checked:I,required:c,disabled:d,form:y,style:{transform:"translateX(-100%)"},defaultChecked:oa(o)?!1:o})]})});ZI.displayName=X_;var JI="CheckboxIndicator",eD=E.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,o=kq(JI,n);return _.jsx(Vr,{present:r||oa(o.state)||o.state===!0,children:_.jsx(qe.span,{"data-state":tD(o.state),"data-disabled":o.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});eD.displayName=JI;var Pq=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...o}=t,c=E.useRef(null),d=JR(n),f=Lx(e);E.useEffect(()=>{const y=c.current,v=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(v,"checked").set;if(d!==n&&A){const x=new Event("click",{bubbles:r});y.indeterminate=oa(n),A.call(y,oa(n)?!1:n),y.dispatchEvent(x)}},[d,n,r]);const m=E.useRef(oa(n)?!1:n);return _.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??m.current,...o,tabIndex:-1,ref:c,style:{...t.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function oa(t){return t==="indeterminate"}function tD(t){return oa(t)?"indeterminate":t?"checked":"unchecked"}var nD=ZI,Lq=eD;const Z_=E.forwardRef(({checked:t,onCheckedChange:e,id:n,className:r,...s},o)=>_.jsx(nD,{ref:o,checked:t,onCheckedChange:e,className:Be("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-purple-600 data-[state=checked]:text-white",r),...s,children:_.jsx(Lq,{className:Be("flex items-center justify-center text-current"),children:_.jsx(d_,{className:"h-4 w-4"})})}));Z_.displayName=nD.displayName;function Vq({selectedSubTasks:t,onSubTasksChange:e}){const[n,r]=E.useState(""),s=()=>{if(!n.trim())return;const d={id:crypto.randomUUID(),text:n.trim(),completed:!1};e([...t,d]),r("")},o=d=>{e(t.filter(f=>f.id!==d))},c=d=>{e(t.map(f=>f.id===d?{...f,completed:!f.completed}:f))};return _.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex gap-2",children:[_.jsx(_i,{type:"text",placeholder:"Adicionar subtarefa...",value:n,onChange:d=>r(d.target.value),onKeyPress:d=>d.key==="Enter"&&s(),className:"flex-1"}),_.jsx(pt,{type:"button",onClick:s,children:"Adicionar"})]}),_.jsx("div",{className:"space-y-2",children:t.map(d=>_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(Z_,{checked:d.completed,onCheckedChange:()=>c(d.id)}),_.jsx("span",{className:d.completed?"line-through text-muted-foreground":"",children:d.text}),_.jsx("button",{type:"button",onClick:()=>o(d.id),className:"ml-auto p-1 hover:bg-secondary rounded",children:_.jsx(Im,{className:"h-4 w-4"})})]},d.id))})]})}function jq(){const[t,e]=E.useState(""),[n,r]=E.useState(""),[s,o]=E.useState("medium"),[c,d]=E.useState(null),[f,m]=E.useState(null),[y,v]=E.useState([]),[b,A]=E.useState([]),{user:x}=tr(),R=async C=>{if(C.preventDefault(),!(!x||!t.trim()))try{const I={title:t.trim(),description:n.trim()||void 0,completed:!1,priority:s,tags:y,subtasks:b,userId:x.uid,createdAt:Qe.now()};c&&(I.dueDate=Qe.fromDate(c)),f&&(I.reminder=Qe.fromDate(f)),await Eo(Mn(Tt,"todos"),I),e(""),r(""),o("medium"),d(null),m(null),v([]),A([])}catch(I){console.error("Error adding todo:",I)}};return _.jsxs("form",{onSubmit:R,className:"space-y-4",children:[_.jsx(_i,{placeholder:"Ttulo da tarefa",value:t,onChange:C=>e(C.target.value),required:!0}),_.jsx(P_,{placeholder:"Descrio (opcional)",value:n,onChange:C=>r(C.target.value)}),_.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[_.jsx(U_,{value:s,onChange:o}),_.jsx(tm,{label:"Data de vencimento",value:c,onChange:d}),_.jsx(tm,{label:"Lembrete",value:f,onChange:m})]}),_.jsx(Nq,{selectedTags:y,onTagsChange:v}),_.jsx(Vq,{selectedSubTasks:b,onSubTasksChange:A}),_.jsx(pt,{type:"submit",disabled:!t.trim(),className:"w-full",children:"Adicionar Tarefa"})]})}const la=E.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:Be("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));la.displayName="Card";const ho=E.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:Be("flex flex-col space-y-1.5 p-6",t),...e}));ho.displayName="CardHeader";const mo=E.forwardRef(({className:t,...e},n)=>_.jsx("h3",{ref:n,className:Be("text-2xl font-semibold leading-none tracking-tight",t),...e}));mo.displayName="CardTitle";const Uq=E.forwardRef(({className:t,...e},n)=>_.jsx("p",{ref:n,className:Be("text-sm text-muted-foreground",t),...e}));Uq.displayName="CardDescription";const po=E.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:Be("p-6 pt-0",t),...e}));po.displayName="CardContent";const Bq=E.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:Be("flex items-center p-6 pt-0",t),...e}));Bq.displayName="CardFooter";const zq=t=>{const e=t.data();return{id:t.id,name:e.name,color:e.color,icon:e.icon,userId:e.userId,createdAt:e.createdAt,updatedAt:e.updatedAt}};function Fq(){const[t,e]=E.useState([]),[n,r]=E.useState(!0),{user:s}=tr();return E.useEffect(()=>{if(!(s!=null&&s.uid)){e([]),r(!1);return}const o=Ea(Mn(Tt,"categories"),ba("userId","==",s.uid)),c=Ta(o,d=>{const f=d.docs.map(zq);e(f),r(!1)});return()=>c()},[s==null?void 0:s.uid]),{categories:t,loading:n}}const Hq=t=>{const e=t.data();return{id:t.id,name:e.name,color:e.color,icon:e.icon,createdBy:e.createdBy,members:e.members||[],createdAt:e.createdAt,updatedAt:e.updatedAt,todos:[]}},qq=t=>{const{id:e,todos:n,...r}=t,s=n==null?void 0:n.map(c=>c.id);return{...r,todos:s,updatedAt:Qe.now()}};function Gq(){const[t,e]=E.useState([]),[n,r]=E.useState(!0),[s,o]=E.useState(null),{user:c}=tr();return E.useEffect(()=>{if(!c){e([]),r(!1);return}const y=Ea(Mn(Tt,"lists"),ba("members","array-contains",{userId:c.uid})),v=Ta(y,b=>{const A=b.docs.map(Hq);e(A),r(!1)},b=>{o(b.message),r(!1)});return()=>v()},[c]),{lists:t,loading:n,error:s,addList:async(y,v,b)=>{try{if(!c)throw new Error("User not authenticated");const A={userId:c.uid,email:c.email,permission:"admin"},x={name:y,color:v,icon:b,createdBy:c.uid,members:[A],createdAt:Qe.now(),updatedAt:Qe.now(),todos:[]};await Eo(Mn(Tt,"lists"),x)}catch(A){throw A instanceof Error?o(A.message):o("Error creating list"),A}},updateList:async(y,v)=>{try{const b=fi(Tt,"lists",y);await Xu(b,qq(v))}catch(b){throw b instanceof Error?o(b.message):o("Error updating list"),b}},deleteList:async y=>{try{await Rm(fi(Tt,"lists",y))}catch(v){throw v instanceof Error?o(v.message):o("Error deleting list"),v}}}}const Wq={low:"bg-blue-500",medium:"bg-yellow-500",high:"bg-red-500"},$q={low:"Baixa",medium:"Mdia",high:"Alta"};function Yq({todo:t,onToggleComplete:e,onDelete:n,onUpdate:r}){const{categories:s}=Fq(),{lists:o}=Gq(),c=s.find(f=>f.id===t.categoryId),d=o.find(f=>f.id===t.listId);return _.jsx(la,{className:"p-4",children:_.jsxs("div",{className:"flex items-start gap-4",children:[_.jsx(Z_,{checked:t.completed,onCheckedChange:e,className:"mt-1"}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsxs("div",{className:"flex items-start justify-between gap-2",children:[_.jsx("span",{className:Be("font-medium",t.completed&&"line-through text-muted-foreground"),children:t.title}),_.jsxs(mc,{children:[_.jsx(pc,{asChild:!0,children:_.jsx(pt,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:_.jsx(wx,{className:"h-4 w-4"})})}),_.jsx(Mo,{align:"end",children:_.jsx(So,{onClick:n,className:"text-red-600",children:"Delete"})})]})]}),_.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2 text-sm text-muted-foreground",children:[_.jsxs("div",{className:"flex items-center gap-1.5",children:[_.jsx("div",{className:Be("w-2 h-2 rounded-full",Wq[t.priority])}),_.jsx("span",{children:$q[t.priority]})]}),d&&_.jsxs("div",{className:"flex items-center gap-1.5",children:[_.jsx(QU,{className:"h-3 w-3"}),_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:d.color}}),_.jsx("span",{children:d.name})]})]}),c&&_.jsxs("div",{className:"flex items-center gap-1.5",children:[_.jsx(rB,{className:"h-3 w-3"}),_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:c.color}}),_.jsx("span",{children:c.name})]})]}),t.dueDate&&_.jsxs("div",{className:"flex items-center gap-1.5",children:[_.jsx(_x,{className:"h-3 w-3"}),_.jsx("span",{children:G_(t.dueDate,"dd 'de' MMM",{locale:W_})})]})]}),t.subtasks.length>0&&_.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:[t.subtasks.filter(f=>f.completed).length," de ",t.subtasks.length," subtarefas completas"]})]})]})})}const AS={high:3,medium:2,low:1},Kq=t=>{var n,r,s;const e=t.data();return{id:t.id,title:e.title,description:e.description,completed:e.completed,priority:e.priority,dueDate:(n=e.dueDate)==null?void 0:n.toDate(),reminder:(r=e.reminder)==null?void 0:r.toDate(),listId:e.listId,categoryId:e.categoryId,tags:e.tags||[],subtasks:e.subtasks||[],userId:e.userId,createdAt:e.createdAt.toDate(),updatedAt:(s=e.updatedAt)==null?void 0:s.toDate()}},xS=t=>{const e={...t,dueDate:t.dueDate?Qe.fromDate(t.dueDate):void 0,reminder:t.reminder?Qe.fromDate(t.reminder):void 0,createdAt:t.createdAt?Qe.fromDate(t.createdAt):Qe.now(),updatedAt:Qe.now()};return delete e.id,e};function rD(){const[t,e]=E.useState([]),[n,r]=E.useState(!0),[s,o]=E.useState(null),{user:c}=tr();return E.useEffect(()=>{if(!c){e([]),r(!1);return}const v=Ea(Mn(Tt,"todos"),ba("userId","==",c.uid)),b=Ta(v,A=>{const x=A.docs.map(Kq);e(x),r(!1)},A=>{o(A.message),r(!1)});return()=>b()},[c]),{todos:t,loading:n,error:s,addTodo:async v=>{try{if(!c)throw new Error("User not authenticated");const b={...xS(v),userId:c.uid,completed:!1,priority:v.priority||"medium",tags:v.tags||[],subtasks:v.subtasks||[]};await Eo(Mn(Tt,"todos"),b)}catch(b){b instanceof Error?o(b.message):o("Error adding todo")}},toggleTodo:async(v,b)=>{try{const A=fi(Tt,"todos",v);await Xu(A,{completed:b,updatedAt:Qe.now()})}catch(A){A instanceof Error?o(A.message):o("Error updating todo")}},updateTodo:async(v,b)=>{try{const A=fi(Tt,"todos",v);await Xu(A,xS(b))}catch(A){A instanceof Error?o(A.message):o("Error updating todo")}},deleteTodo:async v=>{try{await Rm(fi(Tt,"todos",v))}catch(b){b instanceof Error?o(b.message):o("Error deleting todo")}}}}function Qq(){const{user:t,loading:e}=tr(),{todos:n,toggleTodo:r,deleteTodo:s,updateTodo:o}=rD(),[c,d]=E.useState(""),[f,m]=E.useState("ALL"),[y,v]=E.useState("createdAt"),[b,A]=E.useState(!1),[x,R]=E.useState(!1),[C,I]=E.useState(!1),[D,j]=E.useState(null),H=k=>{j(k),R(!1)},Z=(k=>[...k].sort((N,O)=>{switch(y){case"priority":return AS[O.priority]-AS[N.priority];case"dueDate":return!N.dueDate&&!O.dueDate?0:N.dueDate?O.dueDate?O.dueDate.valueOf()-N.dueDate.valueOf():-1:1;case"createdAt":return O.createdAt.valueOf()-N.createdAt.valueOf();default:return 0}}))(n.filter(k=>{switch(f){case"ACTIVE":return!k.completed;case"COMPLETED":return k.completed;default:return!0}})).filter(k=>{var O;return k.title.toLowerCase().includes(c.toLowerCase())||((O=k.tags)==null?void 0:O.some(L=>L.name.toLowerCase().includes(c.toLowerCase())))});return e?_.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:_.jsx("p",{children:"Loading..."})}):t?_.jsxs("div",{className:"min-h-screen bg-background",children:[_.jsx(H5,{}),_.jsxs("main",{className:"container mx-auto py-6 space-y-6",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("div",{className:"relative",children:[_.jsx(JU,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),_.jsx(_i,{placeholder:"Search tasks...",value:c,onChange:k=>d(k.target.value),className:"pl-10 w-[300px]"})]}),_.jsx(Sq,{onFilterChange:()=>{}})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs(Uu,{open:x,onOpenChange:R,children:[_.jsx(Bu,{asChild:!0,children:_.jsx(pt,{variant:"outline",children:"Manage Lists"})}),_.jsxs(Ul,{className:"sm:max-w-[600px]",children:[_.jsx(Bl,{children:_.jsx(zl,{children:"Manage Lists"})}),_.jsx(Rq,{onSelectList:H,selectedListId:D})]})]}),_.jsxs(Uu,{open:C,onOpenChange:I,children:[_.jsx(Bu,{asChild:!0,children:_.jsx(pt,{variant:"outline",children:"Manage Categories"})}),_.jsxs(Ul,{className:"sm:max-w-[600px]",children:[_.jsx(Bl,{children:_.jsx(zl,{children:"Manage Categories"})}),_.jsx(Dq,{})]})]}),_.jsxs(Uu,{open:b,onOpenChange:A,children:[_.jsx(Bu,{asChild:!0,children:_.jsxs(pt,{children:[_.jsx(f_,{className:"h-4 w-4 mr-2"}),"Add Task"]})}),_.jsxs(Ul,{children:[_.jsx(Bl,{children:_.jsx(zl,{children:"Add New Task"})}),_.jsx(jq,{})]})]})]})]}),_.jsx("div",{className:"space-y-4",children:Z.map(k=>_.jsx(Yq,{todo:k,onToggleComplete:()=>r(k.id,!k.completed),onDelete:()=>s(k.id),onUpdate:N=>o(k.id,N)},k.id))})]})]}):_.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center gap-4",children:[_.jsx("h1",{className:"text-4xl font-bold",children:"Todo App"}),_.jsx("p",{className:"text-muted-foreground",children:"Please sign in to continue"}),_.jsx(pt,{children:"Sign In"})]})}function iD(){const[t,e]=E.useState(()=>localStorage.getItem("theme")||"system"),n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";return E.useEffect(()=>{const r=window.document.documentElement,s=t==="system"?n:t;r.classList.remove("light","dark"),r.classList.add(s),localStorage.setItem("theme",t)},[t,n]),E.useEffect(()=>{const r=window.matchMedia("(prefers-color-scheme: dark)"),s=()=>{if(t==="system"){const o=window.document.documentElement,c=r.matches?"dark":"light";o.classList.remove("light","dark"),o.classList.add(c)}};return r.addEventListener("change",s),()=>r.removeEventListener("change",s)},[t]),{theme:t,setTheme:e,systemTheme:n,isDark:t==="system"?n==="dark":t==="dark"}}function Xq(){const[t,e]=E.useState([]),[n,r]=E.useState(0),{user:s}=tr();E.useEffect(()=>{if(!s)return;const c=Ea(Mn(Tt,"notifications"),ba("userId","==",s.uid)),d=Ta(c,f=>{const m=f.docs.map(y=>{const v=y.data();return{id:y.id,message:v.message,read:v.read,createdAt:v.createdAt,userId:v.userId}});e(m),r(m.filter(y=>!y.read).length),"Notification"in window&&Notification.permission==="granted"&&m.filter(y=>!y.read).forEach(y=>{new Notification("Nova notificao",{body:y.message})})});return()=>d()},[s]);const o=async c=>{if(s)try{const d=fi(Tt,"notifications",c);await Xu(d,{read:!0,updatedAt:Qe.now()})}catch(d){console.error("Error marking notification as read:",d)}};return _.jsxs(QI,{children:[_.jsx(XI,{asChild:!0,children:_.jsxs(pt,{variant:"ghost",size:"icon",className:"relative",children:[_.jsx(qU,{className:"h-5 w-5"}),n>0&&_.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-red-500 text-xs text-white flex items-center justify-center",children:n})]})}),_.jsx(Q_,{align:"end",className:"w-80",children:_.jsxs("div",{className:"space-y-4",children:[_.jsx("h4",{className:"font-medium",children:"Notificaes"}),_.jsx("div",{className:"space-y-2",children:t.length===0?_.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma notificao"}):t.map(c=>_.jsxs("div",{className:`p-3 rounded-lg ${c.read?"bg-muted":"bg-primary/10"} cursor-pointer`,onClick:()=>o(c.id),children:[_.jsx("p",{className:"text-sm",children:c.message}),_.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:c.createdAt.toDate().toLocaleString()})]},c.id))})]})})]})}function RS({data:t}){iD();const e=Math.max(...t.map(n=>n.value));return _.jsx("div",{className:"space-y-2",children:t.map((n,r)=>_.jsxs("div",{className:"space-y-1",children:[_.jsxs("div",{className:"flex justify-between text-sm",children:[_.jsx("span",{children:n.label}),_.jsx("span",{children:n.value})]}),_.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:_.jsx("div",{className:"h-full bg-slate-400 transition-all duration-500",style:{width:`${n.value/e*100}%`,backgroundColor:r===0?"#16a34a":"#dc2626"}})})]},n.label))})}function Zq({todos:t,categories:e}){const n=E.useMemo(()=>{const r=t.length,s=t.filter(m=>m.completed).length,o=r-s,c=r>0?s/r*100:0,d=e.map(m=>({label:m.name,value:t.filter(y=>y.categoryId===m.id).length,color:m.color})),f=Array.from({length:7},(m,y)=>{const v=new Date;return v.setDate(v.getDate()-v.getDay()+y),{label:v.toLocaleDateString("pt-BR",{weekday:"short"}),value:t.filter(b=>new Date(b.createdAt).getDay()===y).length}});return{total:r,completed:s,pending:o,completionRate:c,byCategory:d,byWeekday:f}},[t,e]);return _.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[_.jsxs(la,{children:[_.jsx(ho,{children:_.jsx(mo,{children:"Progresso Geral"})}),_.jsx(po,{children:_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{children:"Taxa de Concluso"}),_.jsxs("span",{children:[n.completionRate.toFixed(1),"%"]})]}),_.jsx("div",{className:"h-2 bg-slate-200 rounded-full overflow-hidden",children:_.jsx("div",{className:"h-full bg-green-500 transition-all",style:{width:`${n.completionRate}%`}})}),_.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-slate-500",children:"Pendentes"}),_.jsx("p",{className:"text-2xl font-bold",children:n.pending})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-slate-500",children:"Concludas"}),_.jsx("p",{className:"text-2xl font-bold",children:n.completed})]})]})]})})]}),_.jsxs(la,{children:[_.jsx(ho,{children:_.jsx(mo,{children:"Por Categoria"})}),_.jsx(po,{children:_.jsx(RS,{data:n.byCategory})})]}),_.jsxs(la,{children:[_.jsx(ho,{children:_.jsx(mo,{children:"Atividade Semanal"})}),_.jsx(po,{children:_.jsx(RS,{data:n.byWeekday})})]})]})}const CS=[{id:"casa",name:"Casa",color:"#16a34a"},{id:"trabalho",name:"Trabalho",color:"#2563eb"},{id:"pessoal",name:"Pessoal",color:"#9333ea"},{id:"urgente",name:"Urgente",color:"#dc2626"},{id:"compras",name:"Compras",color:"#ca8a04"}];function Jq(){const{user:t,loading:e,signOut:n,signInWithGoogle:r}=tr(),{isDark:s,setTheme:o}=iD(),{todos:c,loading:d}=rD(),f=()=>{o(s?"light":"dark")};return e||d?_.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:_.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t?_.jsx("div",{className:"min-h-screen bg-background p-4",children:_.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[_.jsxs("header",{className:"flex items-center justify-between mb-6",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx(vv,{to:"/",children:_.jsx(pt,{variant:"ghost",size:"icon",children:_.jsx($U,{className:"h-4 w-4"})})}),_.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[_.jsx(GU,{className:"h-6 w-6"}),"Dashboard"]})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx(Xq,{}),_.jsxs(mc,{children:[_.jsx(pc,{asChild:!0,children:_.jsx(pt,{variant:"ghost",size:"icon",className:"relative h-9 w-9 rounded-full",children:_.jsx(uI,{user:t})})}),_.jsxs(Mo,{align:"end",className:"w-56",children:[_.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:_.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[(t==null?void 0:t.displayName)&&_.jsx("p",{className:"font-medium",children:t.displayName}),(t==null?void 0:t.email)&&_.jsx("p",{className:"w-[200px] truncate text-sm text-muted-foreground",children:t.email})]})}),_.jsxs(So,{onClick:f,className:"cursor-pointer",children:[s?_.jsx(nB,{className:"mr-2 h-4 w-4"}):_.jsx(ZU,{className:"mr-2 h-4 w-4"}),_.jsx("span",{children:s?"Light Mode":"Dark Mode"})]}),_.jsxs(So,{onClick:()=>n(),className:"cursor-pointer text-red-600",children:[_.jsx(Ex,{className:"mr-2 h-4 w-4"}),_.jsx("span",{children:"Sair"})]})]})]})]})]}),_.jsxs("div",{className:"grid gap-6",children:[_.jsx(Zq,{todos:c,categories:CS}),_.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[_.jsxs(la,{children:[_.jsx(ho,{children:_.jsx(mo,{children:"Produtividade"})}),_.jsx(po,{children:_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{children:"Mdia diria"}),_.jsxs("span",{children:[(c.filter(m=>m.completed).length/7).toFixed(1)," tarefas"]})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{children:"Melhor dia"}),_.jsx("span",{children:"Segunda-feira"})]})]})})]}),_.jsxs(la,{children:[_.jsx(ho,{children:_.jsx(mo,{children:"Tempo Mdio"})}),_.jsx(po,{children:_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{children:"Concluso"}),_.jsx("span",{children:"2.5 dias"})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{children:"Atraso"}),_.jsx("span",{children:"1.2 dias"})]})]})})]}),_.jsxs(la,{children:[_.jsx(ho,{children:_.jsx(mo,{children:"Categorias"})}),_.jsx(po,{children:_.jsx("div",{className:"space-y-4",children:CS.map(m=>_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:m.color}}),_.jsx("span",{children:m.name})]}),_.jsx("span",{children:c.filter(y=>y.categoryId===m.id).length})]},m.id))})})]})]})]})]})}):_.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center gap-4",children:[_.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Welcome to Todo App"}),_.jsx("p",{className:"text-muted-foreground",children:"Please sign in to continue"}),_.jsx(pt,{onClick:()=>r(),children:"Sign in with Google"})]})}function e7(){return _.jsx(iU,{children:_.jsx(tM,{children:_.jsxs(NO,{children:[_.jsx(Ty,{path:"/",element:_.jsx(Qq,{})}),_.jsx(Ty,{path:"/dashboard",element:_.jsx(Jq,{})})]})})})}const t7=BN.createRoot(document.getElementById("root"));t7.render(_.jsx(pe.StrictMode,{children:_.jsx(e7,{})}));
